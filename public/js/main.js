var shadow$provide = {};
(function(){
'use strict';var g;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var ba=this||self;function ca(a,b){a=a.split(".");var c=ba;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function q(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function da(a){return Object.prototype.hasOwnProperty.call(a,ea)&&a[ea]||(a[ea]=++fa)}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function pj(a,b){return null!==a&&b in a?a[b]:void 0};function ia(a,b){a.sort(b||ka)}function la(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||ka;ia(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function ka(a,b){return a>b?1:a<b?-1:0};function na(a,b){null!=a&&this.append.apply(this,arguments)}g=na.prototype;g.Vb="";g.set=function(a){this.Vb=""+a};g.append=function(a,b,c){this.Vb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Vb+=arguments[d];return this};g.clear=function(){this.Vb=""};g.getLength=function(){return this.Vb.length};g.toString=function(){return this.Vb};var t={},uk=null,Jk=!0,oa=null;function pa(){return new w(null,5,[qa,!0,ra,!0,sa,!1,ua,!1,va,null],null)}function po(){Jk=!1;uk=function(){var a=arguments,b=console.log,c=b.apply,d=console;{const e=a.length;if(0<e){const f=Array(e);for(let h=0;h<e;h++)f[h]=a[h];a=f}else a=[]}return c.call(b,d,a)}}function x(a){return null!=a&&!1!==a}function wa(a){return null==a}function xa(a){return a instanceof Array}function qo(a){return"number"===typeof a}function ya(a){return null==a?!0:!1===a?!0:!1}
function za(a){return null!=a}function y(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function Ba(a){return null==a?null:a.constructor}function z(a,b){var c=Ba(b);return Error(["No protocol method ",a," defined for type ",x(x(c)?c.he:c)?c.cd:q(b),": ",b].join(""))}function Ca(a){var b=a.cd;return x(b)?b:A.g(a)}var Da="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}
function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ja(){}function Ka(){}function Ma(a){if(null!=a&&null!=a.W)a=a.W(a);else{var b=Ma[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Na(){}
function Pa(a){if(null!=a&&null!=a.ba)a=a.ba(a);else{var b=Pa[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function Ra(){}function Ta(a,b){if(null!=a&&null!=a.aa)a=a.aa(a,b);else{var c=Ta[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ta._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Va(){}
var Xa=function(){function a(d,e,f){var h=Wa[q(null==d?null:d)];if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);h=Wa._;if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=Wa[q(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=Wa._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.i=a;return c}(),Wa=function Wa(a){switch(arguments.length){case 2:return Wa.h(arguments[0],arguments[1]);case 3:return Wa.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Wa.h=function(a,b){return null!=a&&null!=a.R?a.R(a,b):Xa(a,b)};Wa.i=function(a,b,c){return null!=a&&null!=a.qa?a.qa(a,b,c):Xa(a,b,c)};Wa.F=3;function ro(){}
function Ya(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ya[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function Za(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=Za[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Za._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function $a(){}
function ab(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=ab[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ab._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INext.-next",a);}return a}function bb(){}
var db=function(){function a(d,e,f){var h=cb[q(null==d?null:d)];if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);h=cb._;if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=cb[q(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=cb._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.i=a;return c}(),cb=function cb(a){switch(arguments.length){case 2:return cb.h(arguments[0],arguments[1]);case 3:return cb.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};cb.h=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):db(a,b)};cb.i=function(a,b,c){return null!=a&&null!=a.P?a.P(a,b,c):db(a,b,c)};cb.F=3;function eb(){}
function gb(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=gb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=gb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IAssociative.-contains-key?",a);}return a}function hb(a,b,c){if(null!=a&&null!=a.ua)a=a.ua(a,b,c);else{var d=hb[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=hb._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}
function ib(a,b){if(null!=a&&null!=a.Yb)a=a.Yb(a,b);else{var c=ib[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function jb(){}function kb(a,b){if(null!=a&&null!=a.Zb)a=a.Zb(a,b);else{var c=kb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=kb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}
function lb(a){if(null!=a&&null!=a.$c)a=a.key;else{var b=lb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=lb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}function mb(a){if(null!=a&&null!=a.ad)a=a.o;else{var b=mb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=mb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function nb(){}
function so(a,b){if(null!=a&&null!=a.qf)a=a.qf(a,b);else{var c=so[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=so._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ISet.-disjoin",a);}return a}function ob(a){if(null!=a&&null!=a.$b)a=a.$b(a);else{var b=ob[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ob._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}function pb(){}
function to(a,b,c){if(null!=a&&null!=a.hc)a=a.hc(a,b,c);else{var d=to[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=to._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("IVector.-assoc-n",a);}return a}function qb(a){if(null!=a&&null!=a.Oc)a=a.Oc(a);else{var b=qb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=qb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function rb(){}
function sb(a){if(null!=a&&null!=a.X)a=a.X(a);else{var b=sb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=sb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function tb(a,b){if(null!=a&&null!=a.Y)a=a.Y(a,b);else{var c=tb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=tb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function ub(){}
var wb=function(){function a(d,e,f){var h=vb[q(null==d?null:d)];if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);h=vb._;if(null!=h)return h.i?h.i(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=vb[q(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=vb._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.i=a;return c}(),vb=function vb(a){switch(arguments.length){case 2:return vb.h(arguments[0],arguments[1]);case 3:return vb.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};vb.h=function(a,b){return null!=a&&null!=a.ja?a.ja(a,b):wb(a,b)};vb.i=function(a,b,c){return null!=a&&null!=a.ka?a.ka(a,b,c):wb(a,b,c)};vb.F=3;function yb(){}
function zb(a,b,c){if(null!=a&&null!=a.Pb)a=a.Pb(a,b,c);else{var d=zb[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=zb._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function Ab(a,b){if(null!=a&&null!=a.G)a=a.G(a,b);else{var c=Ab[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function Bb(a){if(null!=a&&null!=a.U)a=a.U(a);else{var b=Bb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function Cb(){}function Db(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Db._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function Eb(){}function Fb(){}function Gb(){}function Hb(){}
function Ib(a){if(null!=a&&null!=a.yb)a=a.yb(a);else{var b=Ib[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function Jb(a,b){if(null!=a&&null!=a.Bd)a=a.Bd(a,b);else{var c=Jb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Jb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function Kb(){}
function Lb(a,b,c){if(null!=a&&null!=a.O)a=a.O(a,b,c);else{var d=Lb[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=Lb._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function Mb(a){if(null!=a&&null!=a.Xb)a=a.Xb(a);else{var b=Mb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function Nb(a,b){if(null!=a&&null!=a.ac)a=a.ac(a,b);else{var c=Nb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Nb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function Ob(a){if(null!=a&&null!=a.fc)a=a.fc(a);else{var b=Ob[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function Pb(a,b,c){if(null!=a&&null!=a.qc)a=a.qc(a,b,c);else{var d=Pb[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=Pb._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function Qb(a,b){if(null!=a&&null!=a.bd)a=a.bd(a,b);else{var c=Qb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ITransientMap.-dissoc!",a);}return a}
function Rb(){}function Sb(a,b){if(null!=a&&null!=a.Nb)a=a.Nb(a,b);else{var c=Sb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Sb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}function Tb(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=Tb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Tb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}
function Ub(a){if(null!=a&&null!=a.pc)a=a.pc(a);else{var b=Ub[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}function Vb(a){if(null!=a&&null!=a.Mb)a=a.Mb(a);else{var b=Vb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Vb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}
function Wb(a){if(null!=a&&null!=a.xc)a=a.xc(a);else{var b=Wb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Wb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INamed.-name",a);}return a}function Xb(a){if(null!=a&&null!=a.yc)a=a.yc(a);else{var b=Xb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Xb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INamed.-namespace",a);}return a}
function Zb(a,b){if(null!=a&&null!=a.ae)a=a.ae(a,b);else{var c=Zb[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Zb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var ac=function(){function a(f,h,k,l,m){var n=$b[q(null==f?null:f)];if(null!=n)return n.M?n.M(f,h,k,l,m):n.call(null,f,h,k,l,m);n=$b._;if(null!=n)return n.M?n.M(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=$b[q(null==f?null:f)];if(null!=m)return m.A?m.A(f,h,k,l):m.call(null,f,h,k,l);m=$b._;if(null!=m)return m.A?m.A(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=$b[q(null==f?null:f)];if(null!=l)return l.i?l.i(f,h,k):l.call(null,
f,h,k);l=$b._;if(null!=l)return l.i?l.i(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=$b[q(null==f?null:f)];if(null!=k)return k.h?k.h(f,h):k.call(null,f,h);k=$b._;if(null!=k)return k.h?k.h(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.h=d;e.i=c;e.A=b;e.M=a;return e}(),$b=function $b(a){switch(arguments.length){case 2:return $b.h(arguments[0],arguments[1]);case 3:return $b.i(arguments[0],arguments[1],arguments[2]);case 4:return $b.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return $b.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};$b.h=function(a,b){return null!=a&&null!=a.ce?a.ce(a,b):ac(a,b)};
$b.i=function(a,b,c){return null!=a&&null!=a.de?a.de(a,b,c):ac(a,b,c)};$b.A=function(a,b,c,d){return null!=a&&null!=a.ee?a.ee(a,b,c,d):ac(a,b,c,d)};$b.M=function(a,b,c,d,e){return null!=a&&null!=a.fe?a.fe(a,b,c,d,e):ac(a,b,c,d,e)};$b.F=5;function bc(a,b){if(null!=a&&null!=a.Ad)a.Ad(a,b);else{var c=bc[q(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=bc._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw z("IVolatile.-vreset!",a);}}function cc(){}
function dc(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=dc[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=dc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}function ec(a,b){if(null!=a&&null!=a.Ob)a=a.Ob(a,b);else{var c=ec[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=ec._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IDrop.-drop",a);}return a}function fc(a){this.ve=a;this.s=1073741824;this.H=0}
fc.prototype.Bd=function(a,b){return this.ve.append(b)};function gc(a){var b=new na;a.O(null,new fc(b),pa());return A.g(b)}var hc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ic(a){a=hc(a|0,-862048943);return hc(a<<15|a>>>-15,461845907)}function jc(a,b){a=(a|0)^(b|0);return hc(a<<13|a>>>-13,5)+-430675100|0}
function kc(a,b){a=(a|0)^b;a=hc(a^a>>>16,-2048144789);a=hc(a^a>>>13,-1028477387);return a^a>>>16}function lc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=jc(c,ic(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return kc(1===(a.length&1)?b^ic(a.charCodeAt(a.length-1)):b,hc(2,a.length))}var mc={},nc=0;
function oc(a){255<nc&&(mc={},nc=0);if(null==a)return 0;var b=mc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=hc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;mc[a]=b;nc+=1;a=b}return a}
function pc(a){if(null!=a&&(a.s&4194304||t===a.Wd))return a.U(null)^0;if("number"===typeof a){if(isFinite(a)){if(Number.isSafeInteger(a))a=Math.floor(a)%2147483647;else{var b=new Float64Array(1);b[0]=a;b=b.buffer;a=(new DataView(b,0,4)).getInt32();b=(new DataView(b,4,4)).getInt32();a^=b}return a}switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=oc(a),a=0===a?a:kc(jc(0,ic(a)),4)):a=a instanceof
Date?a.valueOf()^0:null==a?0:Bb(a)^0,a}function qc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function Oq(a){return a instanceof B}function rc(a,b){if(a.Kb===b.Kb)return 0;var c=ya(a.Ka);if(x(c?b.Ka:c))return-1;if(x(a.Ka)){if(ya(b.Ka))return 1;c=ka(a.Ka,b.Ka);return 0===c?ka(a.name,b.name):c}return ka(a.name,b.name)}function B(a,b,c,d,e){this.Ka=a;this.name=b;this.Kb=c;this.Ta=d;this.Hb=e;this.s=2154168321;this.H=4096}g=B.prototype;g.toString=function(){return this.Kb};
g.equiv=function(a){return this.G(null,a)};g.G=function(a,b){return b instanceof B?this.Kb===b.Kb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return C.h?C.h(a,this):C.call(null,a,this)};
g.h=function(a,b){return C.i?C.i(a,this,b):C.call(null,a,this,b)};g.X=function(){return this.Hb};g.Y=function(a,b){return new B(this.Ka,this.name,this.Kb,this.Ta,b)};g.U=function(){var a=this.Ta;return null!=a?a:this.Ta=a=qc(lc(this.name),oc(this.Ka))};g.xc=function(){return this.name};g.yc=function(){return this.Ka};g.O=function(a,b){return Jb(b,this.Kb)};
var sc=function sc(a){switch(arguments.length){case 1:return sc.g(arguments[0]);case 2:return sc.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};sc.g=function(a){for(;;){if(a instanceof B)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?sc.h(null,a):sc.h(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof D)a=a.ra;else throw Error("no conversion to symbol");}};
sc.h=function(a,b){var c=null!=a?[A.g(a),"/",A.g(b)].join(""):b;return new B(a,b,c,null,null)};sc.F=2;function tc(a){return null!=a?a.H&131072||t===a.Ce?!0:a.H?!1:y(cc,a):y(cc,a)}function E(a){if(null==a)return null;if(null!=a&&(a.s&8388608||t===a.yd))return a.T(null);if(xa(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Da])return a=pj(a,Da).call(a),uc.g?uc.g(a):uc.call(null,a);if(y(Cb,a))return Db(a);throw Error([A.g(a)," is not ISeqable"].join(""));}
function I(a){if(null==a)return null;if(null!=a&&(a.s&64||t===a.Ac))return a.la(null);a=E(a);return null==a?null:Ya(a)}function vc(a){return null!=a?null!=a&&(a.s&64||t===a.Ac)?a.oa(null):(a=E(a))?a.oa(null):wc:wc}function J(a){return null==a?null:null!=a&&(a.s&128||t===a.zc)?a.ga(null):E(vc(a))}
var K=function K(a){switch(arguments.length){case 1:return K.g(arguments[0]);case 2:return K.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};K.g=function(){return!0};K.h=function(a,b){return null==a?null==b:a===b||Ab(a,b)};K.j=function(a,b,c){for(;;)if(K.h(a,b))if(J(c))a=b,b=I(c),c=J(c);else return K.h(b,I(c));else return!1};
K.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};K.F=2;function xc(a){this.S=a}xc.prototype.next=function(){if(null!=this.S){var a=I(this.S);this.S=J(this.S);return{value:a,done:!1}}return{value:null,done:!0}};function yc(a){return new xc(E(a))}function zc(a,b){this.value=a;this.sc=b;this.Wc=null;this.s=8388672;this.H=0}zc.prototype.T=function(){return this};zc.prototype.la=function(){return this.value};
zc.prototype.oa=function(){null==this.Wc&&(this.Wc=uc.g?uc.g(this.sc):uc.call(null,this.sc));return this.Wc};function uc(a){var b=a.next();return x(b.done)?null:new zc(b.value,a)}function Ac(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=hc(31,c)+pc(I(a))|0,a=J(a);else return kc(jc(0,ic(c)),b)}var Bc=kc(jc(0,ic(1)),0);function Cc(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+pc(I(a))|0,a=J(a);else return kc(jc(0,ic(c)),b)}var Dc=kc(jc(0,ic(0)),0);Ka["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.G=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Wb=t;Date.prototype.Nb=function(a,b){if(b instanceof Date)return ka(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};Ab.number=function(a,b){return a===b};Ja["function"]=!0;rb["function"]=!0;sb["function"]=function(){return null};Bb._=function(a){return da(a)};function Ec(a){return a+1}function Fc(a){this.o=a;this.s=32768;this.H=0}Fc.prototype.Oc=function(){return this.o};
function Gc(a){return a instanceof Fc}function Hc(a){return Gc(a)?Ic.g?Ic.g(a):Ic.call(null,a):a}function Ic(a){return qb(a)}function Jc(a,b){var c=a.W(null);if(0===c)return b.C?b.C():b.call(null);for(var d=a.R(null,0),e=1;;)if(e<c){var f=a.R(null,e);d=b.h?b.h(d,f):b.call(null,d,f);if(Gc(d))return qb(d);e+=1}else return d}function Kc(a,b,c){var d=a.W(null),e=c;for(c=0;;)if(c<d){var f=a.R(null,c);e=b.h?b.h(e,f):b.call(null,e,f);if(Gc(e))return qb(e);c+=1}else return e}
function Lc(a,b){var c=a.length;if(0===a.length)return b.C?b.C():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.h?b.h(d,f):b.call(null,d,f);if(Gc(d))return qb(d);e+=1}else return d}function Mc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.h?b.h(e,f):b.call(null,e,f);if(Gc(e))return qb(e);c+=1}else return e}function Nc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.h?b.h(c,f):b.call(null,c,f);if(Gc(c))return qb(c);d+=1}else return c}
function Oc(a){return null!=a?a.s&2||t===a.Zc?!0:a.s?!1:y(Ka,a):y(Ka,a)}function Pc(a){return null!=a?a.s&16||t===a.wd?!0:a.s?!1:y(Va,a):y(Va,a)}function M(a,b,c){var d=N.g?N.g(a):N.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(K.h(Qc?Qc(a,c):Rc.call(null,a,c),b))return c;c+=1}else return-1}
function O(a,b,c){var d=N.g?N.g(a):N.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(K.h(Qc?Qc(a,c):Rc.call(null,a,c),b))return c;--c}else return-1}function Sc(a,b){this.l=a;this.u=b}Sc.prototype.fa=function(){return this.u<this.l.length};Sc.prototype.next=function(){var a=this.l[this.u];this.u+=1;return a};function H(a,b,c){this.l=a;this.u=b;this.v=c;this.s=166592766;this.H=401408}g=H.prototype;g.toString=function(){return gc(this)};
g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N.g?N.g(this):N.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.R=function(a,b){a=b+this.u;if(0<=a&&a<this.l.length)return this.l[a];throw Error("Index out of bounds");};g.qa=function(a,b,c){a=b+this.u;return 0<=a&&a<this.l.length?this.l[a]:c};
g.Ba=function(){return new Sc(this.l,this.u)};g.X=function(){return this.v};g.ga=function(){return this.u+1<this.l.length?new H(this.l,this.u+1,null):null};g.W=function(){var a=this.l.length-this.u;return 0>a?0:a};g.yb=function(){var a=this.W(null);return 0<a?new Tc(this,a-1,null):null};g.U=function(){return Ac(this)};g.G=function(a,b){return Uc.h?Uc.h(this,b):Uc.call(null,this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Nc(this.l,b,this.l[this.u],this.u+1)};
g.ka=function(a,b,c){return Nc(this.l,b,c,this.u)};g.la=function(){return this.l[this.u]};g.oa=function(){return this.u+1<this.l.length?new H(this.l,this.u+1,null):wc};g.T=function(){return this.u<this.l.length?this:null};g.Y=function(a,b){return b===this.v?this:new H(this.l,this.u,b)};g.aa=function(a,b){return P.h?P.h(b,this):P.call(null,b,this)};g.Ob=function(a,b){return 0<b?this.u+b<this.l.length?new H(this.l,this.u+b,null):null:this};H.prototype[Da]=function(){return yc(this)};
function Q(a){return 0<a.length?new H(a,0,null):null}function Tc(a,b,c){this.Nc=a;this.u=b;this.v=c;this.s=32374990;this.H=8192}g=Tc.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N.g?N.g(this):N.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return 0<this.u?new Tc(this.Nc,this.u-1,null):null};g.W=function(){return this.u+1};g.U=function(){return Ac(this)};
g.G=function(a,b){return Uc.h?Uc.h(this,b):Uc.call(null,this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc?Vc(b,this):Wc.call(null,b,this)};g.ka=function(a,b,c){return Xc?Xc(b,c,this):Wc.call(null,b,c,this)};g.la=function(){return Wa(this.Nc,this.u)};g.oa=function(){return 0<this.u?new Tc(this.Nc,this.u-1,null):wc};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new Tc(this.Nc,this.u,b)};g.aa=function(a,b){return P.h?P.h(b,this):P.call(null,b,this)};
Tc.prototype[Da]=function(){return yc(this)};function Yc(a){return I(J(a))}function Jr(a){return I(I(a))}function Zc(a){for(;;){var b=J(a);if(null!=b)a=b;else return I(a)}}Ab._=function(a,b){return a===b};
var $c=function $c(a){switch(arguments.length){case 0:return $c.C();case 1:return $c.g(arguments[0]);case 2:return $c.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return $c.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};$c.C=function(){return ad};$c.g=function(a){return a};$c.h=function(a,b){return null!=a?Ta(a,b):new bd(null,b,null,1,null)};
$c.j=function(a,b,c){for(;;)if(x(c))a=$c.h(a,b),b=I(c),c=J(c);else return $c.h(a,b)};$c.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};$c.F=2;function cd(a){return null==a?null:null!=a&&(a.s&4||t===a.vd)?a.ba(null):(null!=a?a.s&4||t===a.vd||(a.s?0:y(Na,a)):y(Na,a))?Pa(a):null}
function N(a){if(null!=a)if(null!=a&&(a.s&2||t===a.Zc))a=a.W(null);else if(xa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.s&8388608||t===a.yd))a:{a=E(a);for(var b=0;;){if(Oc(a)){a=b+Ma(a);break a}a=J(a);b+=1}}else a=Ma(a);else a=0;return a}function dd(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?I(a):c;if(Pc(a))return Wa(a,b,c);if(E(a))a=J(a),--b;else return c}}
function Rc(a){switch(arguments.length){case 2:return Qc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}
function Qc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.s&16||t===a.wd))return a.R(null,b);if(xa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.s&64||t===a.Ac)||null!=a&&(a.s&16777216||t===a.zd)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=I(a);break a}throw Error("Index out of bounds");}if(Pc(a)){a=Wa(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(y(Va,a))return Wa(a,b);throw Error(["nth not supported on this type ",A.g(Ca(Ba(a)))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.s&16||t===a.wd))return a.qa(null,b,c);if(xa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.s&64||t===a.Ac)||null!=a&&(a.s&16777216||t===a.zd))return 0>b?c:dd(a,b,c);if(y(Va,a))return Wa(a,b,c);throw Error(["nth not supported on this type ",A.g(Ca(Ba(a)))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.h(arguments[0],arguments[1]);case 3:return C.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};C.h=function(a,b){return null==a?null:null!=a&&(a.s&256||t===a.Yd)?a.ia(null,b):xa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(bb,a)?cb(a,b):null};
C.i=function(a,b,c){return null!=a?null!=a&&(a.s&256||t===a.Yd)?a.P(null,b,c):xa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(bb,a)?cb(a,b,c):c:c};C.F=3;var T=function T(a){switch(arguments.length){case 3:return T.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return T.j(arguments[0],arguments[1],arguments[2],3<c.length?new H(c.slice(3),0,null):null)}};
T.i=function(a,b,c){return null!=a&&(a.s&512||t===a.Td)?a.ua(null,b,c):null!=a?hb(a,b,c):ed([b,c])};T.j=function(a,b,c,d){for(;;)if(a=T.i(a,b,c),x(d))b=I(d),c=Yc(d),d=J(J(d));else return a};T.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.j(b,a,c,d)};T.F=3;
var fd=function fd(a){switch(arguments.length){case 1:return fd.g(arguments[0]);case 2:return fd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return fd.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};fd.g=function(a){return a};fd.h=function(a,b){return null==a?null:kb(a,b)};fd.j=function(a,b,c){for(;;){if(null==a)return null;a=fd.h(a,b);if(x(c))b=I(c),c=J(c);else return a}};
fd.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};fd.F=2;function gd(a){var b="function"===typeof a;return b?b:null!=a?t===a.Sd?!0:a.Cd?!1:y(Ja,a):y(Ja,a)}function hd(a,b){this.J=a;this.v=b;this.s=393217;this.H=0}g=hd.prototype;g.X=function(){return this.v};g.Y=function(a,b){return new hd(this.J,b)};g.Sd=t;
g.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.i(arguments[1],arguments[2],arguments[3]);case 4:return this.A(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.M(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.gb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.wc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.C=function(){return this.J.C?this.J.C():this.J.call(null)};g.g=function(a){return this.J.g?this.J.g(a):this.J.call(null,a)};g.h=function(a,b){return this.J.h?this.J.h(a,b):this.J.call(null,a,b)};g.i=function(a,b,c){return this.J.i?this.J.i(a,b,c):this.J.call(null,a,b,c)};
g.A=function(a,b,c,d){return this.J.A?this.J.A(a,b,c,d):this.J.call(null,a,b,c,d)};g.M=function(a,b,c,d,e){return this.J.M?this.J.M(a,b,c,d,e):this.J.call(null,a,b,c,d,e)};g.na=function(a,b,c,d,e,f){return this.J.na?this.J.na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f)};g.jb=function(a,b,c,d,e,f,h){return this.J.jb?this.J.jb(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h)};g.Sa=function(a,b,c,d,e,f,h,k){return this.J.Sa?this.J.Sa(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k)};
g.kb=function(a,b,c,d,e,f,h,k,l){return this.J.kb?this.J.kb(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l)};g.Ya=function(a,b,c,d,e,f,h,k,l,m){return this.J.Ya?this.J.Ya(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m)};g.Za=function(a,b,c,d,e,f,h,k,l,m,n){return this.J.Za?this.J.Za(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.J.$a?this.J.$a(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.ab=function(a,b,c,d,e,f,h,k,l,m,n,p,r){return this.J.ab?this.J.ab(a,b,c,d,e,f,h,k,l,m,n,p,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r)};g.bb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u){return this.J.bb?this.J.bb(a,b,c,d,e,f,h,k,l,m,n,p,r,u):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u)};g.cb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v){return this.J.cb?this.J.cb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v)};
g.eb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G){return this.J.eb?this.J.eb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G)};g.fb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F){return this.J.fb?this.J.fb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F)};g.gb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R){return this.J.gb?this.J.gb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R)};
g.hb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa){return this.J.hb?this.J.hb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa)};g.ib=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja){return this.J.ib?this.J.ib(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja)};
g.wc=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta){return id.wc?id.wc(this.J,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,new H([ja,ta],0,null)):id.call(null,this.J,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta)};function jd(a,b){return"function"===typeof a?new hd(a,b):null==a?null:tb(a,b)}function kd(a){var b=null!=a;return(b?null!=a?a.s&131072||t===a.xd||(a.s?0:y(rb,a)):y(rb,a):b)?sb(a):null}
var Ws=function Ws(a){switch(arguments.length){case 1:return Ws.g(arguments[0]);case 2:return Ws.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ws.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Ws.g=function(a){return a};Ws.h=function(a,b){return null==a?null:so(a,b)};Ws.j=function(a,b,c){for(;;){if(null==a)return null;a=Ws.h(a,b);if(x(c))b=I(c),c=J(c);else return a}};
Ws.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Ws.F=2;function ld(a){return null==a?!0:(null!=a?a.s&2||t===a.Zc||(a.s?0:y(Ka,a)):y(Ka,a))?0===Ma(a):ya(E(a))}function md(a){return null==a?!1:null!=a?a.s&8||t===a.Ae?!0:a.s?!1:y(Ra,a):y(Ra,a)}function nd(a){return null==a?!1:null!=a?a.s&4096||t===a.He?!0:a.s?!1:y(nb,a):y(nb,a)}function od(a){return null!=a?a.s&16777216||t===a.zd?!0:a.s?!1:y(Eb,a):y(Eb,a)}
function pd(a){return null==a?!1:null!=a?a.s&1024||t===a.Ee?!0:a.s?!1:y(jb,a):y(jb,a)}function qd(a){return null!=a?a.s&67108864||t===a.Ge?!0:a.s?!1:y(Gb,a):y(Gb,a)}function rd(a){return null!=a?a.s&16384||t===a.Ie?!0:a.s?!1:y(pb,a):y(pb,a)}function sd(a){return null!=a?a.H&512||t===a.ze?!0:!1:!1}function td(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ud={};function Xs(a){return null==a?!1:null!=a?a.s&64||t===a.Ac?!0:a.s?!1:y(ro,a):y(ro,a)}
function Ys(a){var b=null==a;return b?b:(b=null!=a?a.s&8388608||t===a.yd?!0:a.s?!1:y(Cb,a):y(Cb,a))?b:xa(a)||"string"===typeof a}function vd(a){return null==a?!1:!1===a?!1:!0}function wd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function xd(a,b){return null!=a&&(a.s&512||t===a.Td)?a.Ra(null,b):y(eb,a)?gb(a,b):C.i(a,b,ud)===ud?!1:!0}
var $s=function $s(a){switch(arguments.length){case 1:return $s.g(arguments[0]);case 2:return $s.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return $s.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};$s.g=function(){return!0};$s.h=function(a,b){return!K.h(a,b)};$s.j=function(a,b,c){if(K.h(a,b))return!1;a=at([a,b]);for(b=c;;){var d=I(b);c=J(b);if(x(b)){if(xd(a,d))return!1;a=$c.h(a,d);b=c}else return!0}};
$s.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};$s.F=2;function yd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ka(a,b);throw Error(["Cannot compare ",A.g(a)," to ",A.g(b)].join(""));}if(null!=a?a.H&2048||t===a.Wb||(a.H?0:y(Rb,a)):y(Rb,a))return Sb(a,b);if("string"!==typeof a&&!xa(a)&&!0!==a&&!1!==a||Ba(a)!==Ba(b))throw Error(["Cannot compare ",A.g(a)," to ",A.g(b)].join(""));return ka(a,b)}
function zd(a,b){var c=N(a),d=N(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=yd(Qc(a,d),Qc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ma(a){return K.h(a,yd)?yd:function(b,c){var d=a.h?a.h(b,c):a.call(null,b,c);return"number"===typeof d?d:x(d)?-1:x(a.h?a.h(c,b):a.call(null,c,b))?1:0}}function Ad(a,b){if(E(b)){var c=Bd.g?Bd.g(b):Bd.call(null,b);la(c,ma(a));return jd(E(c),kd(b))}return wc}
function bt(a,b){return Ad(function(c,d){c=a.g?a.g(c):a.call(null,c);d=a.g?a.g(d):a.call(null,d);var e=ma(yd);return e.h?e.h(c,d):e.call(null,c,d)},b)}function Wc(a){switch(arguments.length){case 2:return Vc(arguments[0],arguments[1]);case 3:return Xc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Vc(a,b){var c=E(b);return c?(b=I(c),c=J(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.C?a.C():a.call(null)}
function Xc(a,b,c){for(c=E(c);;)if(c){var d=I(c);b=a.h?a.h(b,d):a.call(null,b,d);if(Gc(b))return qb(b);c=J(c)}else return b}function Cd(a,b){a=dc(a);if(x(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Gc(c))return qb(c)}else return c;else return b.C?b.C():b.call(null)}function Dd(a,b,c){for(a=dc(a);;)if(a.fa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Gc(c))return qb(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return Ed(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Ed(a,b){return null!=b&&(b.s&524288||t===b.$d)?b.ja(null,a):xa(b)?Lc(b,a):"string"===typeof b?Lc(b,a):y(ub,b)?vb(b,a):tc(b)?Cd(b,a):Vc(a,b)}
function Ga(a,b,c){return null!=c&&(c.s&524288||t===c.$d)?c.ka(null,a,b):xa(c)?Mc(c,a,b):"string"===typeof c?Mc(c,a,b):y(ub,c)?vb(c,a,b):tc(c)?Dd(c,a,b):Xc(a,b,c)}function Fd(a,b,c){return(null!=c?c.s&1048576||t===c.Xd||(c.s?0:y(yb,c)):y(yb,c))?zb(c,a,b):Ga(function(d,e){var f=lb(e);e=mb(e);return a.i?a.i(d,f,e):a.call(null,d,f,e)},b,c)}function Id(a){return a}
function Jd(a){return function(){function b(f,h){return a.h?a.h(f,h):a.call(null,f,h)}function c(f){return Id.g?Id.g(f):Id.call(null,f)}function d(){return a.C?a.C():a.call(null)}var e=null;e=function(f,h){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,f);case 2:return b.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.C=d;e.g=c;e.h=b;return e}()}function Kd(a,b,c,d){a=a.g?a.g(b):a.call(null,b);c=Ga(a,c,d);return a.g?a.g(c):a.call(null,c)}
var Ld=function Ld(a){switch(arguments.length){case 0:return Ld.C();case 1:return Ld.g(arguments[0]);case 2:return Ld.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ld.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Ld.C=function(){return 0};Ld.g=function(a){return a};Ld.h=function(a,b){return a+b};Ld.j=function(a,b,c){return Ga(Ld,a+b,c)};
Ld.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Ld.F=2;var Md=function Md(a){switch(arguments.length){case 1:return Md.g(arguments[0]);case 2:return Md.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Md.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Md.g=function(a){return-a};Md.h=function(a,b){return a-b};Md.j=function(a,b,c){return Ga(Md,a-b,c)};
Md.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Md.F=2;var Nd=function Nd(a){switch(arguments.length){case 0:return Nd.C();case 1:return Nd.g(arguments[0]);case 2:return Nd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Nd.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Nd.C=function(){return 1};Nd.g=function(a){return a};Nd.h=function(a,b){return a*b};
Nd.j=function(a,b,c){return Ga(Nd,a*b,c)};Nd.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Nd.F=2;var Od=function Od(a){switch(arguments.length){case 1:return Od.g(arguments[0]);case 2:return Od.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Od.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Od.g=function(a){return 1/a};Od.h=function(a,b){return a/b};
Od.j=function(a,b,c){return Ga(Od,a/b,c)};Od.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Od.F=2;function nt(a){return a-1}var Pd=function Pd(a){switch(arguments.length){case 1:return Pd.g(arguments[0]);case 2:return Pd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Pd.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Pd.g=function(a){return a};
Pd.h=function(a,b){return a>b?a:b};Pd.j=function(a,b,c){return Ga(Pd,a>b?a:b,c)};Pd.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Pd.F=2;var Qd=function Qd(a){switch(arguments.length){case 1:return Qd.g(arguments[0]);case 2:return Qd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Qd.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Qd.g=function(a){return a};
Qd.h=function(a,b){return a<b?a:b};Qd.j=function(a,b,c){return Ga(Qd,a<b?a:b,c)};Qd.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Qd.F=2;function Rd(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Sd(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Td(a,b){return(a%b+b)%b}function Ud(a,b){return Sd((a-a%b)/b)}
function Vd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Wd=function Wd(a){switch(arguments.length){case 1:return Wd.g(arguments[0]);case 2:return Wd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Wd.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Wd.g=function(){return!0};Wd.h=function(a,b){return Ab(a,b)};
Wd.j=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=I(c),c=J(c);else return b===I(c);else return!1};Wd.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Wd.F=2;var A=function A(a){switch(arguments.length){case 0:return A.C();case 1:return A.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A.j(arguments[0],1<c.length?new H(c.slice(1),0,null):null)}};A.C=function(){return""};A.g=function(a){return null==a?"":[a].join("")};
A.j=function(a,b){for(a=new na(A.g(a));;)if(x(b))a=a.append(A.g(I(b))),b=J(b);else return a.toString()};A.I=function(a){var b=I(a);a=J(a);return this.j(b,a)};A.F=1;var Xd=function Xd(a){switch(arguments.length){case 2:return Xd.h(arguments[0],arguments[1]);case 3:return Xd.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Xd.h=function(a,b){return a.substring(b)};Xd.i=function(a,b,c){return a.substring(b,c)};Xd.F=3;
function Uc(a,b){if(od(b))if(Oc(a)&&Oc(b)&&N(a)!==N(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&K.h(I(a),I(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return vd(a)}function bd(a,b,c,d,e){this.v=a;this.first=b;this.Tb=c;this.count=d;this.B=e;this.s=65937646;this.H=8192}g=bd.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return 1===this.count?null:this.Tb};g.W=function(){return this.count};g.$b=function(){return this.first};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return tb(wc,this.v)};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return this.first};g.oa=function(){return 1===this.count?wc:this.Tb};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new bd(b,this.first,this.Tb,this.count,this.B)};g.aa=function(a,b){return new bd(this.v,b,this,this.count+1,null)};
function Yd(a){return null!=a?a.s&33554432||t===a.De?!0:a.s?!1:y(Fb,a):y(Fb,a)}bd.prototype[Da]=function(){return yc(this)};function Zd(a){this.v=a;this.s=65937614;this.H=8192}g=Zd.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return null};g.W=function(){return 0};g.$b=function(){return null};g.U=function(){return Bc};g.G=function(a,b){return Yd(b)||od(b)?null==E(b):!1};g.ba=function(){return this};
g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return null};g.oa=function(){return wc};g.T=function(){return null};g.Y=function(a,b){return b===this.v?this:new Zd(b)};g.aa=function(a,b){return new bd(this.v,b,null,1,null)};var wc=new Zd(null);Zd.prototype[Da]=function(){return yc(this)};function $d(a){return(null!=a?a.s&134217728||t===a.be||(a.s?0:y(Hb,a)):y(Hb,a))?(a=Ib(a))?a:wc:Ga($c,wc,a)}
var ae=function ae(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ae.j(0<c.length?new H(c.slice(0),0,null):null)};ae.j=function(a){if(a instanceof H&&0===a.u)var b=a.l;else a:for(b=[];;)if(null!=a)b.push(Ya(a)),a=ab(a);else break a;a=b.length;for(var c=wc;;)if(0<a){var d=a-1;c=Ta(c,b[a-1]);a=d}else return c};ae.F=0;ae.I=function(a){return this.j(E(a))};function be(a,b,c,d){this.v=a;this.first=b;this.Tb=c;this.B=d;this.s=65929452;this.H=8192}g=be.prototype;
g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return null==this.Tb?null:E(this.Tb)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};
g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return this.first};g.oa=function(){return null==this.Tb?wc:this.Tb};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new be(b,this.first,this.Tb,this.B)};g.aa=function(a,b){return new be(null,b,this,null)};be.prototype[Da]=function(){return yc(this)};function P(a,b){return null==b?new bd(null,a,null,1,null):null!=b&&(b.s&64||t===b.Ac)?new be(null,a,b,null):new be(null,a,E(b),null)}
function ce(a,b){if(a.ra===b.ra)return 0;var c=ya(a.Ka);if(x(c?b.Ka:c))return-1;if(x(a.Ka)){if(ya(b.Ka))return 1;c=ka(a.Ka,b.Ka);return 0===c?ka(a.name,b.name):c}return ka(a.name,b.name)}function D(a,b,c,d){this.Ka=a;this.name=b;this.ra=c;this.Ta=d;this.s=2153775105;this.H=4096}g=D.prototype;g.toString=function(){return[":",A.g(this.ra)].join("")};g.equiv=function(a){return this.G(null,a)};g.G=function(a,b){return b instanceof D?this.ra===b.ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return C.h(a,this)};g.h=function(a,b){return C.i(a,this,b)};g.U=function(){var a=this.Ta;return null!=a?a:this.Ta=a=qc(lc(this.name),oc(this.Ka))+2654435769|0};g.xc=function(){return this.name};g.yc=function(){return this.Ka};
g.O=function(a,b){return Jb(b,[":",A.g(this.ra)].join(""))};function U(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.ra===b.ra:!1}function de(a){if(null!=a&&(a.H&4096||t===a.Zd))return a.yc(null);throw Error(["Doesn't support namespace: ",A.g(a)].join(""));}var ee=function ee(a){switch(arguments.length){case 1:return ee.g(arguments[0]);case 2:return ee.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};
ee.g=function(a){if(a instanceof D)return a;if(a instanceof B)return new D(de(a),fe.g?fe.g(a):fe.call(null,a),a.Kb,null);if(K.h("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
ee.h=function(a,b){a=a instanceof D?fe.g?fe.g(a):fe.call(null,a):a instanceof B?fe.g?fe.g(a):fe.call(null,a):a;b=b instanceof D?fe.g?fe.g(b):fe.call(null,b):b instanceof B?fe.g?fe.g(b):fe.call(null,b):b;return new D(a,b,[x(a)?[A.g(a),"/"].join(""):null,A.g(b)].join(""),null)};ee.F=2;function ge(a,b,c,d){this.v=a;this.Cc=b;this.S=c;this.B=d;this.s=32374988;this.H=1}g=ge.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
function ke(a){null!=a.Cc&&(a.S=a.Cc.C?a.Cc.C():a.Cc.call(null),a.Cc=null);return a.S}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){this.T(null);return null==this.S?null:J(this.S)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};
g.ba=function(){return tb(wc,this.v)};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){this.T(null);return null==this.S?null:I(this.S)};g.oa=function(){this.T(null);return null!=this.S?vc(this.S):wc};g.T=function(){ke(this);if(null==this.S)return null;for(var a=this.S;;)if(a instanceof ge)a=ke(a);else return this.S=a,E(this.S)};g.Y=function(a,b){var c=this;return b===this.v?c:new ge(b,function(){return c.T(null)},null,this.B)};
g.aa=function(a,b){return P(b,this)};ge.prototype[Da]=function(){return yc(this)};function le(a){this.ec=a;this.end=0;this.s=2;this.H=0}le.prototype.add=function(a){this.ec[this.end]=a;return this.end+=1};le.prototype.ma=function(){var a=new me(this.ec,0,this.end);this.ec=null;return a};le.prototype.W=function(){return this.end};function ne(a){return new le(Array(a))}function me(a,b,c){this.l=a;this.ha=b;this.end=c;this.s=524306;this.H=0}g=me.prototype;g.W=function(){return this.end-this.ha};
g.R=function(a,b){return this.l[this.ha+b]};g.qa=function(a,b,c){return 0<=b&&b<this.end-this.ha?this.l[this.ha+b]:c};g.vc=function(){if(this.ha===this.end)throw Error("-drop-first of empty chunk");return new me(this.l,this.ha+1,this.end)};g.ja=function(a,b){return Nc(this.l,b,this.l[this.ha],this.ha+1)};g.ka=function(a,b,c){return Nc(this.l,b,c,this.ha)};function oe(a,b,c,d){this.ma=a;this.Db=b;this.v=c;this.B=d;this.s=31850732;this.H=1536}g=oe.prototype;g.toString=function(){return gc(this)};
g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return 1<Ma(this.ma)?new oe(Tb(this.ma),this.Db,null,null):null==this.Db?null:Db(this.Db)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.la=function(){return Wa(this.ma,0)};g.oa=function(){return 1<Ma(this.ma)?new oe(Tb(this.ma),this.Db,null,null):null==this.Db?wc:this.Db};g.T=function(){return this};g.pc=function(){return this.ma};g.Mb=function(){return null==this.Db?wc:this.Db};g.Y=function(a,b){return b===this.v?this:new oe(this.ma,this.Db,b,this.B)};g.aa=function(a,b){return P(b,this)};g.oc=function(){return null==this.Db?null:this.Db};oe.prototype[Da]=function(){return yc(this)};
function pe(a,b){return 0===Ma(a)?b:new oe(a,b,null,null)}function qe(a,b){a.add(b)}function Bd(a){var b=[];for(a=E(a);;)if(null!=a)b.push(I(a)),a=J(a);else return b}function re(a,b){if(Oc(b))return N(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var se=function se(a){if(null==a)return null;var c=J(a);return null==c?E(I(a)):P(I(a),se.g?se.g(c):se.call(null,c))},te=function te(a){switch(arguments.length){case 0:return te.C();case 1:return te.g(arguments[0]);case 2:return te.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return te.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};te.C=function(){return new ge(null,function(){return null},null,null)};
te.g=function(a){return new ge(null,function(){return a},null,null)};te.h=function(a,b){return new ge(null,function(){var c=E(a);return c?sd(c)?pe(Ub(c),te.h(Vb(c),b)):P(I(c),te.h(vc(c),b)):b},null,null)};te.j=function(a,b,c){return function h(e,f){return new ge(null,function(){var k=E(e);return k?sd(k)?pe(Ub(k),h(Vb(k),f)):P(I(k),h(vc(k),f)):x(f)?h(I(f),J(f)):null},null,null)}(te.h(a,b),c)};te.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};te.F=2;
function ot(a,b,c){return P(a,P(b,c))}function ue(a){return Mb(a)}function ve(a){return Ob(a)}function bu(a,b){return Nb(a,b)}function we(a,b,c){return Pb(a,b,c)}
function xe(a,b,c){var d=E(c);if(0===b)return a.C?a.C():a.call(null);c=Ya(d);var e=Za(d);if(1===b)return a.g?a.g(c):a.call(null,c);d=Ya(e);var f=Za(e);if(2===b)return a.h?a.h(c,d):a.call(null,c,d);e=Ya(f);var h=Za(f);if(3===b)return a.i?a.i(c,d,e):a.call(null,c,d,e);f=Ya(h);var k=Za(h);if(4===b)return a.A?a.A(c,d,e,f):a.call(null,c,d,e,f);h=Ya(k);var l=Za(k);if(5===b)return a.M?a.M(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Ya(l);var m=Za(l);if(6===b)return a.na?a.na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);
l=Ya(m);var n=Za(m);if(7===b)return a.jb?a.jb(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=Ya(n);var p=Za(n);if(8===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=Ya(p);var r=Za(p);if(9===b)return a.kb?a.kb(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=Ya(r);var u=Za(r);if(10===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);r=Ya(u);var v=Za(u);if(11===b)return a.Za?a.Za(c,d,e,f,h,k,l,m,n,p,r):a.call(null,c,d,e,f,h,k,l,m,n,p,r);u=Ya(v);var G=Za(v);
if(12===b)return a.$a?a.$a(c,d,e,f,h,k,l,m,n,p,r,u):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u);v=Ya(G);var F=Za(G);if(13===b)return a.ab?a.ab(c,d,e,f,h,k,l,m,n,p,r,u,v):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v);G=Ya(F);var R=Za(F);if(14===b)return a.bb?a.bb(c,d,e,f,h,k,l,m,n,p,r,u,v,G):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G);F=Ya(R);var aa=Za(R);if(15===b)return a.cb?a.cb(c,d,e,f,h,k,l,m,n,p,r,u,v,G,F):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F);R=Ya(aa);var ja=Za(aa);if(16===b)return a.eb?a.eb(c,d,e,f,h,
k,l,m,n,p,r,u,v,G,F,R):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R);aa=Ya(ja);var ta=Za(ja);if(17===b)return a.fb?a.fb(c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa);ja=Ya(ta);var La=Za(ta);if(18===b)return a.gb?a.gb(c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja);ta=Ya(La);La=Za(La);if(19===b)return a.hb?a.hb(c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta);var Yb=Ya(La);
Za(La);if(20===b)return a.ib?a.ib(c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta,Yb):a.call(null,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta,Yb);throw Error("Only up to 20 arguments supported on functions");}function ye(a){return null!=a&&(a.s&128||t===a.zc)?a.ga(null):E(vc(a))}function ze(a,b,c){return null==c?a.g?a.g(b):a.call(a,b):Ae(a,b,Ya(c),ye(c))}function Ae(a,b,c,d){return null==d?a.h?a.h(b,c):a.call(a,b,c):Be(a,b,c,Ya(d),ye(d))}
function Be(a,b,c,d,e){return null==e?a.i?a.i(b,c,d):a.call(a,b,c,d):Ce(a,b,c,d,Ya(e),ye(e))}
function Ce(a,b,c,d,e,f){if(null==f)return a.A?a.A(b,c,d,e):a.call(a,b,c,d,e);var h=Ya(f),k=J(f);if(null==k)return a.M?a.M(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Ya(k);var l=J(k);if(null==l)return a.na?a.na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Ya(l);var m=J(l);if(null==m)return a.jb?a.jb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=Ya(m);var n=J(m);if(null==n)return a.Sa?a.Sa(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=Ya(n);var p=J(n);if(null==p)return a.kb?a.kb(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,
l,m);n=Ya(p);var r=J(p);if(null==r)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=Ya(r);var u=J(r);if(null==u)return a.Za?a.Za(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);r=Ya(u);var v=J(u);if(null==v)return a.$a?a.$a(b,c,d,e,h,f,k,l,m,n,p,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r);u=Ya(v);var G=J(v);if(null==G)return a.ab?a.ab(b,c,d,e,h,f,k,l,m,n,p,r,u):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u);v=Ya(G);var F=J(G);if(null==F)return a.bb?a.bb(b,c,d,e,h,f,k,l,m,n,p,r,u,v):a.call(a,
b,c,d,e,h,f,k,l,m,n,p,r,u,v);G=Ya(F);var R=J(F);if(null==R)return a.cb?a.cb(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u,v,G);F=Ya(R);var aa=J(R);if(null==aa)return a.eb?a.eb(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F);R=Ya(aa);var ja=J(aa);if(null==ja)return a.fb?a.fb(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R);aa=Ya(ja);var ta=J(ja);if(null==ta)return a.gb?a.gb(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa);ja=Ya(ta);var La=J(ta);if(null==La)return a.hb?a.hb(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa,ja):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa,ja);ta=Ya(La);La=J(La);if(null==La)return a.ib?a.ib(b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta);b=[b,c,d,e,h,f,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta];for(c=La;;)if(c)b.push(Ya(c)),c=J(c);else break;return a.apply(a,b)}
function id(a){switch(arguments.length){case 2:return De(arguments[0],arguments[1]);case 3:return Ee(arguments[0],arguments[1],arguments[2]);case 4:return Fe(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ge(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return He(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],5<b.length?new H(b.slice(5),0,null):null)}}
function De(a,b){if(a.I){var c=a.F,d=re(c+1,b);return d<=c?xe(a,d,b):a.I(b)}b=E(b);return null==b?a.C?a.C():a.call(a):ze(a,Ya(b),ye(b))}function Ee(a,b,c){if(a.I){b=P(b,c);var d=a.F;c=re(d,c)+1;return c<=d?xe(a,c,b):a.I(b)}return ze(a,b,E(c))}function Fe(a,b,c,d){return a.I?(b=ot(b,c,d),c=a.F,d=2+re(c-1,d),d<=c?xe(a,d,b):a.I(b)):Ae(a,b,c,E(d))}function Ge(a,b,c,d,e){return a.I?(b=P(b,P(c,P(d,e))),c=a.F,e=3+re(c-2,e),e<=c?xe(a,e,b):a.I(b)):Be(a,b,c,d,E(e))}
function He(a,b,c,d,e,f){return a.I?(f=se(f),b=P(b,P(c,P(d,P(e,f)))),c=a.F,f=4+re(c-3,f),f<=c?xe(a,f,b):a.I(b)):Ce(a,b,c,d,e,se(f))}function Ie(a){return null!=a&&(a.s&64||t===a.Ac)?J(a)?ed(Bd(a)):E(a)?I(a):V:a}
var Je=function Je(a){switch(arguments.length){case 1:return Je.g(arguments[0]);case 2:return Je.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Je.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Je.g=function(){return!1};Je.h=function(a,b){return!K.h(a,b)};Je.j=function(a,b,c){return ya(Fe(K,a,b,c))};Je.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Je.F=2;
function Ke(a){return E(a)?a:null}function Le(a){this.pe=a;this.s=393216;this.H=0}g=Le.prototype;g.Y=function(a,b){return new Le(b)};g.X=function(){return this.pe};g.fa=function(){return!1};g.next=function(){return Error("No such element")};g.remove=function(){return Error("Unsupported operation")};function Me(){return new Le(V)}function Ne(a){this.S=a;this.u=0}Ne.prototype.fa=function(){return this.u<this.S.length};Ne.prototype.next=function(){var a=this.S.charAt(this.u);this.u+=1;return a};
Ne.prototype.remove=function(){return Error("Unsupported operation")};function Oe(a){this.l=a;this.u=0}Oe.prototype.fa=function(){return this.u<this.l.length};Oe.prototype.next=function(){var a=this.l[this.u];this.u+=1;return a};Oe.prototype.remove=function(){return Error("Unsupported operation")};var Pe={},Qe={};function Re(a){this.uc=Pe;this.Xa=a}Re.prototype.fa=function(){this.uc===Pe?(this.uc=Qe,this.Xa=E(this.Xa)):this.uc===this.Xa&&(this.Xa=J(this.uc));return null!=this.Xa};
Re.prototype.next=function(){if(this.fa())return this.uc=this.Xa,I(this.Xa);throw Error("No such element");};Re.prototype.remove=function(){return Error("Unsupported operation")};function Se(a){if(tc(a))return dc(a);if(null==a)return Me();if("string"===typeof a)return new Ne(a);if(xa(a))return new Oe(a);if(Ys(a))return new Re(a);throw Error(["Cannot create iterator from ",A.g(a)].join(""));}function Te(a){this.Vc=a}Te.prototype.add=function(a){this.Vc.push(a);return this};Te.prototype.remove=function(){return this.Vc.shift()};
Te.prototype.ed=function(){return 0===this.Vc.length};Te.prototype.toString=function(){return["Many: ",A.g(this.Vc)].join("")};var Ue={};function Ve(a){this.o=a}Ve.prototype.add=function(a){return this.o===Ue?(this.o=a,this):new Te([this.o,a])};Ve.prototype.remove=function(){if(this.o===Ue)throw Error("Removing object from empty buffer");var a=this.o;this.o=Ue;return a};Ve.prototype.ed=function(){return this.o===Ue};Ve.prototype.toString=function(){return["Single: ",A.g(this.o)].join("")};
function We(){}We.prototype.add=function(a){return new Ve(a)};We.prototype.remove=function(){throw Error("Removing object from empty buffer");};We.prototype.ed=function(){return!0};We.prototype.toString=function(){return"Empty"};var Xe=new We,Ye=function Ye(a){return new ge(null,function(){if(a.fa())for(var c=[],d=0;;){var e=a.fa();if(x(x(e)?32>d:e))c[d]=a.next(),d+=1;else return pe(new me(c,0,d),Ye.g?Ye.g(a):Ye.call(null,a))}else return null},null,null)};
function Ze(a){this.buffer=Xe;this.Xa=Ue;this.dd=!1;this.Gb=null;this.nd=a;this.re=!1}
Ze.prototype.step=function(){if(this.Xa!==Ue)return!0;for(;;)if(this.Xa===Ue)if(this.buffer.ed()){if(this.dd)return!1;if(this.nd.fa()){if(this.re)var a=De(this.Gb,P(null,this.nd.next()));else a=this.nd.next(),a=this.Gb.h?this.Gb.h(null,a):this.Gb.call(null,null,a);Gc(a)&&(this.Gb.g?this.Gb.g(null):this.Gb.call(null,null),this.dd=!0)}else this.Gb.g?this.Gb.g(null):this.Gb.call(null,null),this.dd=!0}else this.Xa=this.buffer.remove();else return!0};Ze.prototype.fa=function(){return this.step()};
Ze.prototype.next=function(){if(this.fa()){var a=this.Xa;this.Xa=Ue;return a}throw Error("No such element");};Ze.prototype.remove=function(){return Error("Unsupported operation")};Ze.prototype[Da]=function(){return yc(this)};
function $e(a,b){var c=new Ze(b);c.Gb=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.C=function(){return null};f.g=function(h){return h};f.h=e;return f}();return a.g?a.g(d):a.call(null,d)}();return c}
function af(a,b){for(;;){if(null==E(b))return!0;var c=I(b);c=a.g?a.g(c):a.call(null,c);if(x(c))b=J(b);else return!1}}function bf(a,b){for(;;)if(b=E(b)){var c=I(b);c=a.g?a.g(c):a.call(null,c);if(x(c))return c;b=J(b)}else return null}function cf(a){if(wd(a))return 0===(a&1);throw Error(["Argument must be an integer: ",A.g(a)].join(""));}
function cu(a){return function(){function b(h,k){return ya(a.h?a.h(h,k):a.call(null,h,k))}function c(h){return ya(a.g?a.g(h):a.call(null,h))}function d(){return ya(a.C?a.C():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new H(r,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return ya(Fe(a,l,m,n))}h.F=2;h.I=function(l){var m=I(l);l=J(l);var n=I(l);l=vc(l);return k(m,n,l)};
h.j=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.j(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.I=f.I;e.C=d;e.g=c;e.h=b;e.j=f.j;return e}()}
var kf=function kf(a){switch(arguments.length){case 0:return kf.C();case 1:return kf.g(arguments[0]);case 2:return kf.h(arguments[0],arguments[1]);case 3:return kf.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return kf.j(arguments[0],arguments[1],arguments[2],3<c.length?new H(c.slice(3),0,null):null)}};kf.C=function(){return Id};kf.g=function(a){return a};
kf.h=function(a,b){return function(){function c(l,m,n){l=b.i?b.i(l,m,n):b.call(null,l,m,n);return a.g?a.g(l):a.call(null,l)}function d(l,m){l=b.h?b.h(l,m):b.call(null,l,m);return a.g?a.g(l):a.call(null,l)}function e(l){l=b.g?b.g(l):b.call(null,l);return a.g?a.g(l):a.call(null,l)}function f(){var l=b.C?b.C():b.call(null);return a.g?a.g(l):a.call(null,l)}var h=null,k=function(){function l(n,p,r,u){var v=null;if(3<arguments.length){v=0;for(var G=Array(arguments.length-3);v<G.length;)G[v]=arguments[v+
3],++v;v=new H(G,0,null)}return m.call(this,n,p,r,v)}function m(n,p,r,u){n=Ge(b,n,p,r,u);return a.g?a.g(n):a.call(null,n)}l.F=3;l.I=function(n){var p=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=vc(n);return m(p,r,u,n)};l.j=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+
3],++r;r=new H(u,0,null)}return k.j(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.F=3;h.I=k.I;h.C=f;h.g=e;h.h=d;h.i=c;h.j=k.j;return h}()};
kf.i=function(a,b,c){return function(){function d(m,n,p){m=c.i?c.i(m,n,p):c.call(null,m,n,p);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function e(m,n){m=c.h?c.h(m,n):c.call(null,m,n);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function f(m){m=c.g?c.g(m):c.call(null,m);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function h(){var m=c.C?c.C():c.call(null);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}var k=null,l=function(){function m(p,
r,u,v){var G=null;if(3<arguments.length){G=0;for(var F=Array(arguments.length-3);G<F.length;)F[G]=arguments[G+3],++G;G=new H(F,0,null)}return n.call(this,p,r,u,G)}function n(p,r,u,v){p=Ge(c,p,r,u,v);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}m.F=3;m.I=function(p){var r=I(p);p=J(p);var u=I(p);p=J(p);var v=I(p);p=vc(p);return n(r,u,v,p)};m.j=n;return m}();k=function(m,n,p,r){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new H(v,0,null)}return l.j(m,n,p,u)}throw Error("Invalid arity: "+arguments.length);};k.F=3;k.I=l.I;k.C=h;k.g=f;k.h=e;k.i=d;k.j=l.j;return k}()};
kf.j=function(a,b,c,d){var e=$d(P(a,P(b,P(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return h.call(this,l)}function h(k){k=De(I(e),k);for(var l=J(e);;)if(l){var m=I(l);k=m.g?m.g(k):m.call(null,k);l=J(l)}else return k}f.F=0;f.I=function(k){k=E(k);return h(k)};f.j=h;return f}()};kf.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.j(b,a,c,d)};kf.F=3;
function lf(a,b){return function(){function c(l,m,n){return a.A?a.A(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.i?a.i(b,l,m):a.call(null,b,l,m)}function e(l){return a.h?a.h(b,l):a.call(null,b,l)}function f(){return a.g?a.g(b):a.call(null,b)}var h=null,k=function(){function l(n,p,r,u){var v=null;if(3<arguments.length){v=0;for(var G=Array(arguments.length-3);v<G.length;)G[v]=arguments[v+3],++v;v=new H(G,0,null)}return m.call(this,n,p,r,v)}function m(n,p,r,u){return He(a,b,n,p,r,Q([u]))}l.F=
3;l.I=function(n){var p=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=vc(n);return m(p,r,u,n)};l.j=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return k.j(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.F=3;h.I=k.I;h.C=f;
h.g=e;h.h=d;h.i=c;h.j=k.j;return h}()}
function nf(a){return function(){function b(h,k,l){h=null==h?a:h;return $c.i?$c.i(h,k,l):$c.call(null,h,k,l)}function c(h,k){h=null==h?a:h;return $c.h?$c.h(h,k):$c.call(null,h,k)}function d(h){h=null==h?a:h;return $c.g?$c.g(h):$c.call(null,h)}var e=null,f=function(){function h(l,m,n,p){var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return k.call(this,l,m,n,r)}function k(l,m,n,p){return Ge($c,null==l?a:l,m,n,p)}h.F=3;
h.I=function(l){var m=I(l);l=J(l);var n=I(l);l=J(l);var p=I(l);l=vc(l);return k(m,n,p,l)};h.j=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.j(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.F=3;e.I=f.I;e.g=d;e.h=c;e.i=b;e.j=f.j;return e}()}
function gu(a,b){return new ge(null,function(){var c=E(b);if(c){if(sd(c)){for(var d=Ub(c),e=N(d),f=ne(e),h=0;;)if(h<e){var k=function(){var l=Wa(d,h);return a.g?a.g(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return pe(f.ma(),gu(a,Vb(c)))}e=function(){var l=I(c);return a.g?a.g(l):a.call(null,l)}();return null==e?gu(a,vc(c)):P(e,gu(a,vc(c)))}return null},null,null)}function of(a,b,c){this.state=a;this.v=b;this.we=c;this.Qd=null;this.H=16386;this.s=6455296}g=of.prototype;
g.equiv=function(a){return this.G(null,a)};g.G=function(a,b){return this===b};g.Oc=function(){return this.state};g.X=function(){return this.v};g.U=function(){return da(this)};function pf(a){return new of(a,null,null)}
function qf(a,b){if(a instanceof of){var c=a.we;if(null!=c&&!x(c.g?c.g(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Qd)a:for(var d=E(a.Qd),e=null,f=0,h=0;;)if(h<f){var k=e.R(null,h),l=S(k,0,null);k=S(k,1,null);k.A?k.A(l,a,c,b):k.call(null,l,a,c,b);h+=1}else if(d=E(d))sd(d)?(e=Ub(d),d=Vb(d),l=e,f=N(e),e=l):(e=I(d),l=S(e,0,null),k=S(e,1,null),k.A?k.A(l,a,c,b):k.call(null,l,a,c,b),d=J(d),e=null,f=0),h=0;else break a;return b}return Zb(a,b)}
var rf=function rf(a){switch(arguments.length){case 2:return rf.h(arguments[0],arguments[1]);case 3:return rf.i(arguments[0],arguments[1],arguments[2]);case 4:return rf.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return rf.j(arguments[0],arguments[1],arguments[2],arguments[3],4<c.length?new H(c.slice(4),0,null):null)}};
rf.h=function(a,b){if(a instanceof of){var c=a.state;b=b.g?b.g(c):b.call(null,c);a=qf(a,b)}else a=$b(a,b);return a};rf.i=function(a,b,c){if(a instanceof of){var d=a.state;b=b.h?b.h(d,c):b.call(null,d,c);a=qf(a,b)}else a=$b(a,b,c);return a};rf.A=function(a,b,c,d){if(a instanceof of){var e=a.state;b=b.i?b.i(e,c,d):b.call(null,e,c,d);a=qf(a,b)}else a=$b(a,b,c,d);return a};rf.j=function(a,b,c,d,e){return a instanceof of?qf(a,Ge(b,a.state,c,d,e)):$b(a,b,c,d,e)};
rf.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.j(b,a,c,d,e)};rf.F=4;function sf(a){this.state=a;this.s=32768;this.H=0}sf.prototype.Ad=function(a,b){return this.state=b};sf.prototype.Oc=function(){return this.state};
function hu(){var a=iu,b=ju;return function(){function c(k,l,m){var n=a.g?a.g(k):a.call(null,k);if(x(n))return n;n=a.g?a.g(l):a.call(null,l);if(x(n))return n;n=a.g?a.g(m):a.call(null,m);if(x(n))return n;k=b.g?b.g(k):b.call(null,k);if(x(k))return k;l=b.g?b.g(l):b.call(null,l);return x(l)?l:b.g?b.g(m):b.call(null,m)}function d(k,l){var m=a.g?a.g(k):a.call(null,k);if(x(m))return m;m=a.g?a.g(l):a.call(null,l);if(x(m))return m;k=b.g?b.g(k):b.call(null,k);return x(k)?k:b.g?b.g(l):b.call(null,l)}function e(k){var l=
a.g?a.g(k):a.call(null,k);return x(l)?l:b.g?b.g(k):b.call(null,k)}var f=null,h=function(){function k(m,n,p,r){var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new H(v,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){m=f.i(m,n,p);return x(m)?m:bf(function(u){var v=a.g?a.g(u):a.call(null,u);return x(v)?v:b.g?b.g(u):b.call(null,u)},r)}k.F=3;k.I=function(m){var n=I(m);m=J(m);var p=I(m);m=J(m);var r=I(m);m=vc(m);return l(n,p,r,m)};k.j=
l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return h.j(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.I=h.I;f.C=function(){return null};f.g=e;f.h=d;f.i=c;f.j=h.j;return f}()}
var tf=function tf(a){switch(arguments.length){case 1:return tf.g(arguments[0]);case 2:return tf.h(arguments[0],arguments[1]);case 3:return tf.i(arguments[0],arguments[1],arguments[2]);case 4:return tf.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return tf.j(arguments[0],arguments[1],arguments[2],arguments[3],4<c.length?new H(c.slice(4),0,null):null)}};
tf.g=function(a){return function(b){return function(){function c(k,l){l=a.g?a.g(l):a.call(null,l);return b.h?b.h(k,l):b.call(null,k,l)}function d(k){return b.g?b.g(k):b.call(null,k)}function e(){return b.C?b.C():b.call(null)}var f=null,h=function(){function k(m,n,p){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new H(u,0,null)}return l.call(this,m,n,r)}function l(m,n,p){n=Ee(a,n,p);return b.h?b.h(m,n):b.call(null,m,n)}k.F=2;k.I=function(m){var n=
I(m);m=J(m);var p=I(m);m=vc(m);return l(n,p,m)};k.j=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return h.j(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.I=h.I;f.C=e;f.g=d;f.h=c;f.j=h.j;return f}()}};
tf.h=function(a,b){return new ge(null,function(){var c=E(b);if(c){if(sd(c)){for(var d=Ub(c),e=N(d),f=ne(e),h=0;;)if(h<e)qe(f,function(){var k=Wa(d,h);return a.g?a.g(k):a.call(null,k)}()),h+=1;else break;return pe(f.ma(),tf.h(a,Vb(c)))}return P(function(){var k=I(c);return a.g?a.g(k):a.call(null,k)}(),tf.h(a,vc(c)))}return null},null,null)};
tf.i=function(a,b,c){return new ge(null,function(){var d=E(b),e=E(c);if(d&&e){var f=I(d);var h=I(e);f=a.h?a.h(f,h):a.call(null,f,h);d=P(f,tf.i(a,vc(d),vc(e)))}else d=null;return d},null,null)};tf.A=function(a,b,c,d){return new ge(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=I(e);var l=I(f),m=I(h);k=a.i?a.i(k,l,m):a.call(null,k,l,m);e=P(k,tf.A(a,vc(e),vc(f),vc(h)))}else e=null;return e},null,null)};
tf.j=function(a,b,c,d,e){return tf.h(function(f){return De(a,f)},function k(h){return new ge(null,function(){var l=tf.h(E,h);return af(Id,l)?P(tf.h(I,l),k(tf.h(vc,l))):null},null,null)}($c.j(e,d,Q([c,b]))))};tf.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.j(b,a,c,d,e)};tf.F=4;function uf(a,b){return new ge(null,function(){if(0<a){var c=E(b);return c?P(I(c),uf(a-1,vc(c))):null}return null},null,null)}
function vf(a,b){if(null!=b&&(b.H&262144||t===b.Be)){var c=0<a?b.Ob(null,Math.ceil(a)):E(b);return x(c)?c:wc}return new ge(null,function(){a:for(var d=a,e=b;;)if(e=E(e),0<d&&e)--d,e=vc(e);else break a;return e},null,null)}function wf(a,b){return new ge(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=I(d),e=c.g?c.g(e):c.call(null,e);if(x(e))d=vc(d);else break a}return d},null,null)}
function yf(a,b,c,d){this.v=a;this.count=b;this.o=c;this.next=d;this.B=null;this.s=32374988;this.H=262145}g=yf.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){return null==this.next?1<this.count?this.next=new yf(null,this.count-1,this.o,null):-1===this.count?this:null:this.next};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){if(-1===this.count)for(var c=b.h?b.h(this.o,this.o):b.call(null,this.o,this.o);;){if(Gc(c))return qb(c);c=b.h?b.h(c,this.o):b.call(null,c,this.o)}else for(a=1,c=this.o;;)if(a<this.count){c=b.h?b.h(c,this.o):b.call(null,c,this.o);if(Gc(c))return qb(c);a+=1}else return c};
g.ka=function(a,b,c){if(-1===this.count)for(c=b.h?b.h(c,this.o):b.call(null,c,this.o);;){if(Gc(c))return qb(c);c=b.h?b.h(c,this.o):b.call(null,c,this.o)}else for(a=0;;)if(a<this.count){c=b.h?b.h(c,this.o):b.call(null,c,this.o);if(Gc(c))return qb(c);a+=1}else return c};g.la=function(){return this.o};g.oa=function(){return null==this.next?1<this.count?this.next=new yf(null,this.count-1,this.o,null):-1===this.count?this:wc:this.next};g.T=function(){return this};
g.Y=function(a,b){return b===this.v?this:new yf(b,this.count,this.o,this.next)};g.aa=function(a,b){return P(b,this)};g.Ob=function(a,b){if(-1===this.count)return this;a=this.count-b;return 0<a?new yf(null,a,this.o,null):null};function zf(a){return new yf(null,-1,a,null)}function Af(a){return new ge(null,function(){return P(a.C?a.C():a.call(null),Af(a))},null,null)}function Bf(a,b){return uf(a,Af(b))}
var Cf=function Cf(a){switch(arguments.length){case 0:return Cf.C();case 1:return Cf.g(arguments[0]);case 2:return Cf.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Cf.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Cf.C=function(){return wc};Cf.g=function(a){return new ge(null,function(){return a},null,null)};
Cf.h=function(a,b){return new ge(null,function(){var c=E(a),d=E(b);return c&&d?P(I(c),P(I(d),Cf.h(vc(c),vc(d)))):null},null,null)};Cf.j=function(a,b,c){return new ge(null,function(){var d=tf.h(E,$c.j(c,b,Q([a])));return af(Id,d)?te.h(tf.h(I,d),De(Cf,tf.h(vc,d))):null},null,null)};Cf.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Cf.F=2;function Df(a,b){return De(te,Ee(tf,a,b))}
function Ef(a){return function(b){return function(){function c(h,k){return x(a.g?a.g(k):a.call(null,k))?b.h?b.h(h,k):b.call(null,h,k):h}function d(h){return b.g?b.g(h):b.call(null,h)}function e(){return b.C?b.C():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.g=d;f.h=c;return f}()}}
function Ff(a,b){return new ge(null,function(){var c=E(b);if(c){if(sd(c)){for(var d=Ub(c),e=N(d),f=ne(e),h=0;;)if(h<e){var k=Wa(d,h);k=a.g?a.g(k):a.call(null,k);if(x(k)){k=f;var l=Wa(d,h);k.add(l)}h+=1}else break;return pe(f.ma(),Ff(a,Vb(c)))}d=I(c);c=vc(c);return x(a.g?a.g(d):a.call(null,d))?P(d,Ff(a,c)):Ff(a,c)}return null},null,null)}function ku(a,b){return Ff(cu(a),b)}
var Gf=function Gf(a){switch(arguments.length){case 0:return Gf.C();case 1:return Gf.g(arguments[0]);case 2:return Gf.h(arguments[0],arguments[1]);case 3:return Gf.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Gf.C=function(){return ad};Gf.g=function(a){return a};Gf.h=function(a,b){return null!=a?null!=a&&(a.H&4||t===a.ud)?tb(Ob(Ga(Nb,Mb(a),b)),kd(a)):Ga(Ta,a,b):Ga($c,a,b)};
Gf.i=function(a,b,c){if(null!=a&&(a.H&4||t===a.ud)){var d=kd(a);return Kd(b,function(){function e(h){return tb(Ob(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Nb(h,k)}throw Error("Invalid arity: "+arguments.length);};f.g=e;f.h=function(h,k){return Nb(h,k)};return f}(),Mb(a),c)}return Kd(b,$c,a,c)};Gf.F=3;
var ru=function ru(a){switch(arguments.length){case 2:return ru.h(arguments[0],arguments[1]);case 3:return ru.i(arguments[0],arguments[1],arguments[2]);case 4:return ru.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ru.j(arguments[0],arguments[1],arguments[2],arguments[3],4<c.length?new H(c.slice(4),0,null):null)}};
ru.h=function(a,b){return Ob(Ga(function(c,d){return bu(c,a.g?a.g(d):a.call(null,d))},Mb(ad),b))};ru.i=function(a,b,c){return Gf.h(ad,tf.i(a,b,c))};ru.A=function(a,b,c,d){return Gf.h(ad,tf.A(a,b,c,d))};ru.j=function(a,b,c,d,e){return Gf.h(ad,He(tf,a,b,c,d,Q([e])))};ru.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.j(b,a,c,d,e)};ru.F=4;function su(a,b){return Ob(Ga(function(c,d){return x(a.g?a.g(d):a.call(null,d))?Nb(c,d):c},Mb(ad),b))}
function tu(a,b,c){return new ge(null,function(){var d=E(c);if(d){var e=uf(a,d);return a===N(e)?P(e,tu(a,b,vf(b,d))):null}return null},null,null)}function Hf(a,b){for(b=E(b);;){if(null==b)return a;a=C.h(a,I(b));b=J(b)}}
var uu=function uu(a){switch(arguments.length){case 3:return uu.i(arguments[0],arguments[1],arguments[2]);case 4:return uu.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return uu.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return uu.na(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return uu.j(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],6<c.length?new H(c.slice(6),0,null):null)}};uu.i=function(a,b,c){var d=E(b);b=I(d);if(d=J(d))a=T.i(a,b,uu.i(C.h(a,b),d,c));else{d=T.i;var e=C.h(a,b);c=c.g?c.g(e):c.call(null,e);a=d.call(T,a,b,c)}return a};uu.A=function(a,b,c,d){var e=E(b);b=I(e);if(e=J(e))a=T.i(a,b,uu.A(C.h(a,b),e,c,d));else{e=T.i;var f=C.h(a,b);c=c.h?c.h(f,d):c.call(null,f,d);a=e.call(T,a,b,c)}return a};
uu.M=function(a,b,c,d,e){var f=E(b);b=I(f);if(f=J(f))a=T.i(a,b,uu.M(C.h(a,b),f,c,d,e));else{f=T.i;var h=C.h(a,b);c=c.i?c.i(h,d,e):c.call(null,h,d,e);a=f.call(T,a,b,c)}return a};uu.na=function(a,b,c,d,e,f){var h=E(b);b=I(h);if(h=J(h))a=T.i(a,b,uu.na(C.h(a,b),h,c,d,e,f));else{h=T.i;var k=C.h(a,b);c=c.A?c.A(k,d,e,f):c.call(null,k,d,e,f);a=h.call(T,a,b,c)}return a};uu.j=function(a,b,c,d,e,f,h){var k=E(b);b=I(k);return(k=J(k))?T.i(a,b,He(uu,C.h(a,b),k,c,d,Q([e,f,h]))):T.i(a,b,He(c,C.h(a,b),d,e,f,Q([h])))};
uu.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);var f=J(e);e=I(f);var h=J(f);f=I(h);h=J(h);return this.j(b,a,c,d,e,f,h)};uu.F=6;
var If=function If(a){switch(arguments.length){case 3:return If.i(arguments[0],arguments[1],arguments[2]);case 4:return If.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return If.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return If.na(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return If.j(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],6<c.length?new H(c.slice(6),0,null):null)}};If.i=function(a,b,c){var d=T.i,e=C.h(a,b);c=c.g?c.g(e):c.call(null,e);return d.call(T,a,b,c)};If.A=function(a,b,c,d){var e=T.i,f=C.h(a,b);c=c.h?c.h(f,d):c.call(null,f,d);return e.call(T,a,b,c)};If.M=function(a,b,c,d,e){var f=T.i,h=C.h(a,b);c=c.i?c.i(h,d,e):c.call(null,h,d,e);return f.call(T,a,b,c)};If.na=function(a,b,c,d,e,f){var h=T.i,k=C.h(a,b);c=c.A?c.A(k,d,e,f):c.call(null,k,d,e,f);return h.call(T,a,b,c)};
If.j=function(a,b,c,d,e,f,h){return T.i(a,b,He(c,C.h(a,b),d,e,f,Q([h])))};If.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);var f=J(e);e=I(f);var h=J(f);f=I(h);h=J(h);return this.j(b,a,c,d,e,f,h)};If.F=6;function Jf(a,b){this.ea=a;this.l=b}function Kf(a){return new Jf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function Lf(a){a=a.m;return 32>a?0:a-1>>>5<<5}function Mf(a,b,c){for(;;){if(0===b)return c;var d=Kf(a);d.l[0]=c;c=d;b-=5}}var Nf=function Nf(a,b,c,d){var f=new Jf(c.ea,Ea(c.l)),h=a.m-1>>>b&31;5===b?f.l[h]=d:(c=c.l[h],null!=c?(b-=5,a=Nf.A?Nf.A(a,b,c,d):Nf.call(null,a,b,c,d)):a=Mf(null,b-5,d),f.l[h]=a);return f};function vu(a,b){throw Error(["No item ",A.g(a)," in vector of length ",A.g(b)].join(""));}
function Pf(a,b){if(b>=Lf(a))return a.Qa;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.l[b>>>a&31];a=d}else return c.l}function Qf(a,b){return 0<=b&&b<a.m?Pf(a,b):vu(b,a.m)}var Rf=function Rf(a,b,c,d,e){var h=new Jf(c.ea,Ea(c.l));if(0===b)h.l[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.l[k];a=Rf.M?Rf.M(a,b,c,d,e):Rf.call(null,a,b,c,d,e);h.l[k]=a}return h};function Sf(a,b,c,d,e,f){this.u=a;this.Xc=b;this.l=c;this.V=d;this.start=e;this.end=f}Sf.prototype.fa=function(){return this.u<this.end};
Sf.prototype.next=function(){32===this.u-this.Xc&&(this.l=Pf(this.V,this.u),this.Xc+=32);var a=this.l[this.u&31];this.u+=1;return a};function wu(a,b,c){return new Sf(b,b-b%32,b<N(a)?Pf(a,b):null,a,b,c)}function Tf(a,b,c,d){return c<d?Uf(a,b,Qc(a,c),c+1,d):b.C?b.C():b.call(null)}function Uf(a,b,c,d,e){var f=c;c=d;for(d=Pf(a,d);;)if(c<e){var h=c&31;d=0===h?Pf(a,c):d;h=d[h];f=b.h?b.h(f,h):b.call(null,f,h);if(Gc(f))return qb(f);c+=1}else return f}
function W(a,b,c,d,e,f){this.v=a;this.m=b;this.shift=c;this.root=d;this.Qa=e;this.B=f;this.s=167666463;this.H=401412}g=W.prototype;g.Yb=function(a,b){return 0<=b&&b<this.m?new Vf(b,Pf(this,b)[b&31]):null};g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return"number"===typeof b?this.qa(null,b,c):c};
g.Pb=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=Pf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.i?b.i(d,h,k):b.call(null,d,h,k);if(Gc(d)){e=d;break a}f+=1}else{e=d;break a}if(Gc(e))return qb(e);a+=c;d=e}else return d};g.pf=t;g.R=function(a,b){return Qf(this,b)[b&31]};g.qa=function(a,b,c){return 0<=b&&b<this.m?Pf(this,b)[b&31]:c};
g.hc=function(a,b,c){if(0<=b&&b<this.m)return Lf(this)<=b?(a=Ea(this.Qa),a[b&31]=c,new W(this.v,this.m,this.shift,this.root,a,null)):new W(this.v,this.m,this.shift,Rf(this,this.shift,this.root,b,c),this.Qa,null);if(b===this.m)return this.aa(null,c);throw Error(["Index ",A.g(b)," out of bounds  [0,",A.g(this.m),"]"].join(""));};g.Ba=function(){return wu(this,0,this.m)};g.X=function(){return this.v};g.W=function(){return this.m};g.$b=function(){return 0<this.m?this.R(null,this.m-1):null};
g.yb=function(){return 0<this.m?new Tc(this,this.m-1,null):null};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){if(b instanceof W)if(this.m===N(b))for(a=this.Ba(null),b=b.Ba(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!K.h(c,d))return!1}else return!0;else return!1;else return Uc(this,b)};g.Xb=function(){return new Wf(this.m,this.shift,Xf.g?Xf.g(this.root):Xf.call(null,this.root),Yf.g?Yf.g(this.Qa):Yf.call(null,this.Qa))};g.ba=function(){return tb(ad,this.v)};
g.ja=function(a,b){return Tf(this,b,0,this.m)};g.ka=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=Pf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.h?b.h(d,h):b.call(null,d,h);if(Gc(d)){e=d;break a}f+=1}else{e=d;break a}if(Gc(e))return qb(e);a+=c;d=e}else return d};g.ua=function(a,b,c){if("number"===typeof b)return this.hc(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.Ra=function(a,b){return wd(b)?0<=b&&b<this.m:!1};
g.T=function(){if(0===this.m)return null;if(32>=this.m)return new H(this.Qa,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.l[0];else{a=a.l;break a}}return Zf?Zf(this,a,0,0):$f.call(null,this,a,0,0)};g.Y=function(a,b){return b===this.v?this:new W(b,this.m,this.shift,this.root,this.Qa,this.B)};
g.aa=function(a,b){if(32>this.m-Lf(this)){a=this.Qa.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.Qa[d],d+=1;else break;c[a]=b;return new W(this.v,this.m+1,this.shift,this.root,c,null)}a=(c=this.m>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Kf(null),c.l[0]=this.root,d=Mf(null,this.shift,new Jf(null,this.Qa)),c.l[1]=d):c=Nf(this,this.shift,this.root,new Jf(null,this.Qa));return new W(this.v,this.m+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){if("number"===typeof a)return this.R(null,a);throw Error("Key must be integer");};g.Ob=function(a,b){if(b<this.m){a=b%32;var c=Pf(this,b);b-=a;return Zf?Zf(this,c,b,a):$f.call(null,this,c,b,a)}return null};
var X=new Jf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),ad=new W(null,0,5,X,[],Bc);function ag(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new W(null,c,5,X,a,null);b=32;for(var d=(new W(null,32,5,X,a.slice(0,32),null)).Xb(null);;)if(b<c){var e=b+1;d=Nb(d,a[b]);b=e}else return Ob(d)}W.prototype[Da]=function(){return yc(this)};
function bg(a){return x(cg.g?cg.g(a):cg.call(null,a))?new W(null,2,5,X,[dg.g?dg.g(a):dg.call(null,a),eg.g?eg.g(a):eg.call(null,a)],null):rd(a)?jd(a,null):xa(a)?ag(a,!0):Ob(Ga(Nb,Mb(ad),a))}var fg=function fg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return fg.j(0<c.length?new H(c.slice(0),0,null):null)};fg.j=function(a){return a instanceof H&&0===a.u?ag(a.l,!xa(a.l)):bg(a)};fg.F=0;fg.I=function(a){return this.j(E(a))};
function gg(a,b,c,d,e){this.Ja=a;this.node=b;this.u=c;this.ha=d;this.v=e;this.B=null;this.s=32375020;this.H=263680}g=gg.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){if(this.ha+1<this.node.length){var a=this.Ja;var b=this.node,c=this.u,d=this.ha+1;a=Zf?Zf(a,b,c,d):$f.call(null,a,b,c,d);return null==a?null:a}return this.oc()};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Tf(this.Ja,b,this.u+this.ha,N(this.Ja))};g.ka=function(a,b,c){return Uf(this.Ja,b,c,this.u+this.ha,N(this.Ja))};g.la=function(){return this.node[this.ha]};g.oa=function(){if(this.ha+1<this.node.length){var a=this.Ja;var b=this.node,c=this.u,d=this.ha+1;a=Zf?Zf(a,b,c,d):$f.call(null,a,b,c,d);return null==a?wc:a}return this.Mb(null)};g.T=function(){return this};
g.pc=function(){var a=this.node;return new me(a,this.ha,a.length)};g.Mb=function(){var a=this.u+this.node.length;if(a<Ma(this.Ja)){var b=this.Ja,c=Pf(this.Ja,a);return Zf?Zf(b,c,a,0):$f.call(null,b,c,a,0)}return wc};g.Y=function(a,b){return b===this.v?this:hg?hg(this.Ja,this.node,this.u,this.ha,b):$f.call(null,this.Ja,this.node,this.u,this.ha,b)};g.aa=function(a,b){return P(b,this)};
g.Ob=function(a,b){a=this.ha+b;if(a<this.node.length)return Zf?Zf(this.Ja,this.node,this.u,a):$f.call(null,this.Ja,this.node,this.u,a);var c=this.u+a;if(c<Ma(this.Ja)){a=c%32;b=this.Ja;var d=Pf(this.Ja,c);c-=a;return Zf?Zf(b,d,c,a):$f.call(null,b,d,c,a)}return null};g.oc=function(){var a=this.u+this.node.length;if(a<Ma(this.Ja)){var b=this.Ja,c=Pf(this.Ja,a);return Zf?Zf(b,c,a,0):$f.call(null,b,c,a,0)}return null};gg.prototype[Da]=function(){return yc(this)};
function $f(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new gg(b,Qf(b,c),c,d,null);case 4:return Zf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Zf(a,b,c,d){return new gg(a,b,c,d,null)}function hg(a,b,c,d,e){return new gg(a,b,c,d,e)}
function xu(a,b,c,d,e){this.v=a;this.V=b;this.start=c;this.end=d;this.B=e;this.s=167666463;this.H=139264}g=xu.prototype;g.Yb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Vf(b,cb(this.V,a)):null};g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return"number"===typeof b?this.qa(null,b,c):c};
g.Pb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Wa(this.V,a);c=b.i?b.i(c,e,f):b.call(null,c,e,f);if(Gc(c))return qb(c);d+=1;a+=1}else return c};g.R=function(a,b){return 0>b||this.end<=this.start+b?vu(b,this.end-this.start):Wa(this.V,this.start+b)};g.qa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Wa(this.V,this.start+b,c)};
g.hc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",A.g(b)," out of bounds [0,",A.g(this.W(null)),"]"].join(""));b=this.v;c=T.i(this.V,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return yu.M?yu.M(b,c,d,a,null):yu.call(null,b,c,d,a,null)};g.Ba=function(){return null!=this.V&&t===this.V.pf?wu(this.V,this.start,this.end):new Re(this)};g.X=function(){return this.v};g.W=function(){return this.end-this.start};
g.$b=function(){return this.start===this.end?null:Wa(this.V,this.end-1)};g.yb=function(){return this.start!==this.end?new Tc(this,this.end-this.start-1,null):null};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return tb(ad,this.v)};g.ja=function(a,b){return null!=this.V&&t===this.V.pf?Tf(this.V,b,this.start,this.end):Jc(this,b)};
g.ka=function(a,b,c){return null!=this.V&&t===this.V.pf?Uf(this.V,b,c,this.start,this.end):Kc(this,b,c)};g.ua=function(a,b,c){if("number"===typeof b)return this.hc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.Ra=function(a,b){return wd(b)?0<=b&&b<this.end-this.start:!1};g.T=function(){var a=this;return function d(c){return c===a.end?null:P(Wa(a.V,c),new ge(null,function(){return d(c+1)},null,null))}(a.start)};
g.Y=function(a,b){return b===this.v?this:yu.M?yu.M(b,this.V,this.start,this.end,this.B):yu.call(null,b,this.V,this.start,this.end,this.B)};g.aa=function(a,b){a=this.v;b=to(this.V,this.end,b);var c=this.start,d=this.end+1;return yu.M?yu.M(a,b,c,d,null):yu.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.R(null,a)};g.h=function(a,b){return this.qa(null,a,b)};xu.prototype[Da]=function(){return yc(this)};function yu(a,b,c,d,e){for(;;)if(b instanceof xu)c=b.start+c,d=b.start+d,b=b.V;else{if(!rd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>N(b))throw Error("Index out of bounds");return new xu(a,b,c,d,e)}}function zu(a,b){return yu(null,a,0,b|0,null)}
function ig(a,b){return a===b.ea?b:new Jf(a,Ea(b.l))}function Xf(a){return new Jf({},Ea(a.l))}function Yf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];td(a,0,b,0,a.length);return b}var jg=function jg(a,b,c,d){c=ig(a.root.ea,c);var f=a.m-1>>>b&31;if(5===b)a=d;else{var h=c.l[f];null!=h?(b-=5,a=jg.A?jg.A(a,b,h,d):jg.call(null,a,b,h,d)):a=Mf(a.root.ea,b-5,d)}c.l[f]=a;return c};
function Wf(a,b,c,d){this.m=a;this.shift=b;this.root=c;this.Qa=d;this.H=88;this.s=275}g=Wf.prototype;
g.ac=function(a,b){if(this.root.ea){if(32>this.m-Lf(this))this.Qa[this.m&31]=b;else{a=new Jf(this.root.ea,this.Qa);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.Qa=c;this.m>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Mf(this.root.ea,this.shift,a),this.root=new Jf(this.root.ea,b),this.shift=c):this.root=jg(this,this.shift,this.root,a)}this.m+=1;return this}throw Error("conj! after persistent!");};g.fc=function(){if(this.root.ea){this.root.ea=null;var a=this.m-Lf(this),b=Array(a);td(this.Qa,0,b,0,a);return new W(null,this.m,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.qc=function(a,b,c){if("number"===typeof b)return kg(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function kg(a,b,c){if(a.root.ea){if(0<=b&&b<a.m){if(Lf(a)<=b)a.Qa[b&31]=c;else{var d=function k(f,h){h=ig(a.root.ea,h);if(0===f)h.l[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.l[l]);h.l[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.m)return a.ac(null,c);throw Error(["Index ",A.g(b)," out of bounds for TransientVector of length",A.g(a.m)].join(""));}throw Error("assoc! after persistent!");}g.W=function(){if(this.root.ea)return this.m;throw Error("count after persistent!");};
g.R=function(a,b){if(this.root.ea)return Qf(this,b)[b&31];throw Error("nth after persistent!");};g.qa=function(a,b,c){return 0<=b&&b<this.m?this.R(null,b):c};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){if(this.root.ea)return"number"===typeof b?this.qa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};function lg(a,b){this.rc=a;this.Jc=b}lg.prototype.fa=function(){var a=null!=this.rc&&E(this.rc);return a?a:(a=null!=this.Jc)?this.Jc.fa():a};
lg.prototype.next=function(){if(null!=this.rc){var a=I(this.rc);this.rc=J(this.rc);return a}if(null!=this.Jc&&this.Jc.fa())return this.Jc.next();throw Error("No such element");};lg.prototype.remove=function(){return Error("Unsupported operation")};function mg(a,b,c,d){this.v=a;this.Va=b;this.rb=c;this.B=d;this.s=31850700;this.H=0}g=mg.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){var a=J(this.Va);return a?new mg(this.v,a,this.rb,null):null!=this.rb?new mg(this.v,this.rb,null,null):null};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return tb(wc,this.v)};g.la=function(){return I(this.Va)};g.oa=function(){var a=J(this.Va);return a?new mg(this.v,a,this.rb,null):null==this.rb?this.ba(null):new mg(this.v,this.rb,null,null)};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new mg(b,this.Va,this.rb,this.B)};g.aa=function(a,b){return P(b,this)};mg.prototype[Da]=function(){return yc(this)};
function ng(a,b,c,d,e){this.v=a;this.count=b;this.Va=c;this.rb=d;this.B=e;this.H=139264;this.s=31858766}g=ng.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,this.count.g?this.count.g(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.Ba=function(){return new lg(this.Va,dc(this.rb))};g.X=function(){return this.v};g.W=function(){return this.count};g.$b=function(){return I(this.Va)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return tb(og,this.v)};g.la=function(){return I(this.Va)};g.oa=function(){return vc(E(this))};g.T=function(){var a=E(this.rb),b=this.Va;return x(x(b)?b:a)?new mg(null,this.Va,E(a),null):null};g.Y=function(a,b){return b===this.v?this:new ng(b,this.count,this.Va,this.rb,this.B)};
g.aa=function(a,b){x(this.Va)?(a=this.rb,b=new ng(this.v,this.count+1,this.Va,$c.h(x(a)?a:ad,b),null)):b=new ng(this.v,this.count+1,$c.h(this.Va,b),ad,null);return b};var og=new ng(null,0,null,ad,Bc);ng.prototype[Da]=function(){return yc(this)};function pg(){this.s=2097152;this.H=0}pg.prototype.equiv=function(a){return this.G(null,a)};pg.prototype.G=function(){return!1};var qg=new pg;
function rg(a,b){return vd(pd(b)&&!qd(b)?N(a)===N(b)?(null!=a?a.s&1048576||t===a.Xd||(a.s?0:y(yb,a)):y(yb,a))?Fd(function(c,d,e){return K.h(C.i(b,d,qg),e)?!0:new Fc(!1)},!0,a):af(function(c){return K.h(C.i(b,I(c),qg),Yc(c))},a):null:null)}function sg(a,b,c,d){this.u=0;this.ue=a;this.td=b;this.ne=c;this.Id=d}sg.prototype.fa=function(){var a=this.u<this.td;return a?a:this.Id.fa()};sg.prototype.next=function(){if(this.u<this.td){var a=Qc(this.ne,this.u);this.u+=1;return new Vf(a,cb(this.ue,a))}return this.Id.next()};
sg.prototype.remove=function(){return Error("Unsupported operation")};function tg(a){this.S=a}tg.prototype.next=function(){if(null!=this.S){var a=I(this.S),b=S(a,0,null);a=S(a,1,null);this.S=J(this.S);return{value:[b,a],done:!1}}return{value:null,done:!0}};function ug(a){this.S=a}ug.prototype.next=function(){if(null!=this.S){var a=I(this.S);this.S=J(this.S);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function vg(a,b){if(b instanceof D)a:{var c=a.length;b=b.ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof B)a:for(c=a.length,b=b.Kb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].Kb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(K.h(b,a[d])){a=d;break a}d+=2}return a}function Vf(a,b){this.key=a;this.o=b;this.B=null;this.s=166619935;this.H=0}g=Vf.prototype;g.Yb=function(a,b){switch(b){case 0:return new Vf(0,this.key);case 1:return new Vf(1,this.o);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.ia=function(a,b){return this.qa(null,b,null)};g.P=function(a,b,c){return this.qa(null,b,c)};g.R=function(a,b){if(0===b)return this.key;if(1===b)return this.o;throw Error("Index out of bounds");};
g.qa=function(a,b,c){return 0===b?this.key:1===b?this.o:c};g.hc=function(a,b,c){return(new W(null,2,5,X,[this.key,this.o],null)).hc(null,b,c)};g.X=function(){return null};g.W=function(){return 2};g.$c=function(){return this.key};g.ad=function(){return this.o};g.$b=function(){return this.o};g.yb=function(){return new H([this.o,this.key],0,null)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return null};
g.ja=function(a,b){return Jc(this,b)};g.ka=function(a,b,c){return Kc(this,b,c)};g.ua=function(a,b,c){return T.i(new W(null,2,5,X,[this.key,this.o],null),b,c)};g.Ra=function(a,b){return 0===b||1===b};g.T=function(){return new H([this.key,this.o],0,null)};g.Y=function(a,b){return jd(new W(null,2,5,X,[this.key,this.o],null),b)};g.aa=function(a,b){return new W(null,3,5,X,[this.key,this.o,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.R(null,a)};g.h=function(a,b){return this.qa(null,a,b)};function cg(a){return null!=a?a.s&2048||t===a.Fe?!0:!1:!1}function wg(a,b,c){this.l=a;this.u=b;this.Hb=c;this.s=32374990;this.H=262144}g=wg.prototype;
g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.Hb};g.ga=function(){return this.u<this.l.length-2?new wg(this.l,this.u+2,null):null};g.W=function(){return(this.l.length-this.u)/2};g.U=function(){return Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return new Vf(this.l[this.u],this.l[this.u+1])};g.oa=function(){return this.u<this.l.length-2?new wg(this.l,this.u+2,null):wc};g.T=function(){return this};g.Y=function(a,b){return b===this.Hb?this:new wg(this.l,this.u,b)};g.aa=function(a,b){return P(b,this)};g.Ob=function(a,b){return b<this.W(null)?new wg(this.l,this.u+2*b,null):null};
wg.prototype[Da]=function(){return yc(this)};function xg(a,b){this.l=a;this.u=0;this.m=b}xg.prototype.fa=function(){return this.u<this.m};xg.prototype.next=function(){var a=new Vf(this.l[this.u],this.l[this.u+1]);this.u+=2;return a};function w(a,b,c,d){this.v=a;this.m=b;this.l=c;this.B=d;this.s=16647951;this.H=401412}g=w.prototype;g.Yb=function(a,b){a=vg(this.l,b);return-1===a?null:new Vf(this.l[a],this.l[a+1])};g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.keys=function(){return yc(yg.g?yg.g(this):yg.call(null,this))};g.entries=function(){return new tg(E(E(this)))};g.values=function(){return yc(zg.g?zg.g(this):zg.call(null,this))};g.has=function(a){return xd(this,a)};g.get=function(a,b){return this.P(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),h=S(f,0,null);f=S(f,1,null);a.h?a.h(f,h):a.call(null,f,h);e+=1}else if(b=E(b))sd(b)?(c=Ub(b),b=Vb(b),h=c,d=N(c),c=h):(c=I(b),h=S(c,0,null),f=S(c,1,null),a.h?a.h(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=vg(this.l,b);return-1===a?c:this.l[a+1]};
g.Pb=function(a,b,c){a=this.l.length;for(var d=0;;)if(d<a){var e=this.l[d],f=this.l[d+1];c=b.i?b.i(c,e,f):b.call(null,c,e,f);if(Gc(c))return qb(c);d+=2}else return c};g.Ba=function(){return new xg(this.l,2*this.m)};g.X=function(){return this.v};g.W=function(){return this.m};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Cc(this)};
g.G=function(a,b){if(pd(b)&&!qd(b))if(a=this.l.length,this.m===b.W(null))for(var c=0;;)if(c<a){var d=b.P(null,this.l[c],ud);if(d!==ud)if(K.h(this.l[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Xb=function(){return new Ag(this.l.length,Ea(this.l))};g.ba=function(){return tb(V,this.v)};g.ja=function(a,b){return Cd(this,b)};g.ka=function(a,b,c){return Dd(this,b,c)};
g.Zb=function(a,b){if(0<=vg(this.l,b)){a=this.l.length;var c=a-2;if(0===c)return this.ba(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new w(this.v,this.m-1,c,null);K.h(b,this.l[d])?d+=2:(c[e]=this.l[d],c[e+1]=this.l[d+1],e+=2,d+=2)}}else return this};
g.ua=function(a,b,c){a=vg(this.l,b);if(-1===a){if(this.m<Bg){a=this.l;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new w(this.v,this.m+1,e,null)}return tb(hb(Gf.h(Cg,this),b,c),this.v)}if(c===this.l[a+1])return this;b=Ea(this.l);b[a+1]=c;return new w(this.v,this.m,b,null)};g.Ra=function(a,b){return-1!==vg(this.l,b)};g.T=function(){var a=this.l;return 0<=a.length-2?new wg(a,0,null):null};
g.Y=function(a,b){return b===this.v?this:new w(b,this.m,this.l,this.B)};g.aa=function(a,b){if(rd(b))return this.ua(null,Wa(b,0),Wa(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=I(b);if(rd(c))a=hb(a,Wa(c,0),Wa(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};g.Ob=function(a,b){a=this.T(null);return null==a?null:ec(a,b)};var V=new w(null,0,[],Dc),Bg=8;
function Dg(a,b){return a===b?!0:U(a,b)?!0:K.h(a,b)}function Eg(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Dg(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Fg(a,b){var c=a.length-1,d=E(b);b=Array(c+2*N(d));a=td(a,0,b,0,c);for(b=c;;)if(d){var e=I(d);a[b]=lb(e);a[b+1]=mb(e);b=2+c;d=J(d)}else return a}
function ed(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=Dg(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Gg(a,c):new w(null,b/2,a,null)}
function Gg(a,b){var c=b?Fg(a,Gf.h(V,a[a.length-1])):a;a=Eg(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=Dg(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(Dg(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new w(null,a.length/2,a,null)}return new w(null,c.length/2,c,null)}w.prototype[Da]=function(){return yc(this)};
function Ag(a,b){this.jc={};this.Cb=a;this.l=b;this.s=259;this.H=56}g=Ag.prototype;g.W=function(){if(this.jc)return Ud(this.Cb,2);throw Error("count after persistent!");};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){if(this.jc)return a=vg(this.l,b),-1===a?c:this.l[a+1];throw Error("lookup after persistent!");};
g.ac=function(a,b){if(this.jc){if(cg(b))return this.qc(null,dg.g?dg.g(b):dg.call(null,b),eg.g?eg.g(b):eg.call(null,b));if(rd(b))return this.qc(null,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));a=E(b);for(b=this;;){var c=I(a);if(x(c))a=J(a),b=Pb(b,dg.g?dg.g(c):dg.call(null,c),eg.g?eg.g(c):eg.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.fc=function(){if(this.jc)return this.jc=!1,new w(null,Ud(this.Cb,2),this.l,null);throw Error("persistent! called twice");};
g.qc=function(a,b,c){if(this.jc){a=vg(this.l,b);if(-1===a)return this.Cb+2<=2*Bg?(this.Cb+=2,this.l.push(b),this.l.push(c),this):we(Hg.h?Hg.h(this.Cb,this.l):Hg.call(null,this.Cb,this.l),b,c);c!==this.l[a+1]&&(this.l[a+1]=c);return this}throw Error("assoc! after persistent!");};g.bd=function(a,b){if(this.jc)return a=vg(this.l,b),0<=a&&(this.l[a]=this.l[this.Cb-2],this.l[a+1]=this.l[this.Cb-1],a=this.l,a.pop(),a.pop(),this.Cb-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.P(null,a,null)};g.h=function(a,b){return this.P(null,a,b)};function Hg(a,b){for(var c=Mb(Cg),d=0;;)if(d<a)c=Pb(c,b[d],b[d+1]),d+=2;else return c}function Ig(){this.o=!1}
function Jg(a,b,c){a=Ea(a);a[b]=c;return a}function Mg(a,b){var c=Array(a.length-2);td(a,0,c,0,2*b);td(a,2*(b+1),c,2*b,c.length-2*b);return c}function Sg(a,b,c,d){a=a.Sb(b);a.l[c]=d;return a}function Tg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.i?b.i(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.lc(b,f):f;if(Gc(c))return c;e+=2;f=c}else return f}function Ug(a){this.l=a;this.u=0;this.Eb=this.Hc=null}
Ug.prototype.advance=function(){for(var a=this.l.length;;)if(this.u<a){var b=this.l[this.u],c=this.l[this.u+1];null!=b?b=this.Hc=new Vf(b,c):null!=c?(b=dc(c),b=b.fa()?this.Eb=b:!1):b=!1;this.u+=2;if(b)return!0}else return!1};Ug.prototype.fa=function(){var a=null!=this.Hc;return a?a:(a=null!=this.Eb)?a:this.advance()};
Ug.prototype.next=function(){if(null!=this.Hc){var a=this.Hc;this.Hc=null;return a}if(null!=this.Eb)return a=this.Eb.next(),this.Eb.fa()||(this.Eb=null),a;if(this.advance())return this.next();throw Error("No such element");};Ug.prototype.remove=function(){return Error("Unsupported operation")};function Vg(a,b,c){this.ea=a;this.$=b;this.l=c;this.H=131072;this.s=0}g=Vg.prototype;
g.Sb=function(a){if(a===this.ea)return this;var b=Vd(this.$),c=Array(0>b?4:2*(b+1));td(this.l,0,c,0,2*b);return new Vg(a,this.$,c)};g.Gc=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.$&f))return this;var h=Vd(this.$&f-1),k=this.l[2*h],l=this.l[2*h+1];return null==k?(b=l.Gc(a,b+5,c,d,e),b===l?this:null!=b?Sg(this,a,2*h+1,b):this.$===f?null:Wg(this,a,f,h)):Dg(d,k)?(e.o=!0,Wg(this,a,f,h)):this};
function Wg(a,b,c,d){if(a.$===c)return null;a=a.Sb(b);b=a.l;var e=b.length;a.$^=c;td(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Ec=function(){return Xg?Xg(this.l):Yg.call(null,this.l)};g.lc=function(a,b){return Tg(this.l,a,b)};g.cc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.$&e))return d;var f=Vd(this.$&e-1);e=this.l[2*f];f=this.l[2*f+1];return null==e?f.cc(a+5,b,c,d):Dg(c,e)?f:d};
g.Bb=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Vd(this.$&h-1);if(0===(this.$&h)){var l=Vd(this.$);if(2*l<this.l.length){a=this.Sb(a);b=a.l;f.o=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.$|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Zg.Bb(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.$>>>d&1)?
d+=1:(k[d]=null!=this.l[e]?Zg.Bb(a,b+5,pc(this.l[e]),this.l[e],this.l[e+1],f):this.l[e+1],e+=2,d+=1);else break;return new $g(a,l+1,k)}b=Array(2*(l+4));td(this.l,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;td(this.l,2*k,b,2*(k+1),2*(l-k));f.o=!0;a=this.Sb(a);a.l=b;a.$|=h;return a}l=this.l[2*k];h=this.l[2*k+1];if(null==l)return l=h.Bb(a,b+5,c,d,e,f),l===h?this:Sg(this,a,2*k+1,l);if(Dg(d,l))return e===h?this:Sg(this,a,2*k+1,e);f.o=!0;f=b+5;d=ah?ah(a,f,l,h,c,d,e):bh.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;a=this.Sb(a);
a.l[e]=null;a.l[k]=d;return a};
g.Ab=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Vd(this.$&f-1);if(0===(this.$&f)){var k=Vd(this.$);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Zg.Ab(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.$>>>c&1)?c+=1:(h[c]=null!=this.l[d]?Zg.Ab(a+5,pc(this.l[d]),this.l[d],this.l[d+1],e):this.l[d+1],d+=2,c+=1);else break;return new $g(null,k+1,h)}a=Array(2*(k+1));td(this.l,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;td(this.l,2*h,a,2*(h+1),2*(k-h));e.o=!0;return new Vg(null,this.$|f,a)}var l=this.l[2*h];f=this.l[2*h+1];if(null==l)return k=f.Ab(a+5,b,c,d,e),k===f?this:new Vg(null,this.$,Jg(this.l,2*h+1,k));if(Dg(c,l))return d===f?this:new Vg(null,this.$,Jg(this.l,2*h+1,d));e.o=!0;e=this.$;k=this.l;a+=5;a=ch?ch(a,l,f,b,c,d):bh.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new Vg(null,e,d)};
g.Dc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.$&e))return d;var f=Vd(this.$&e-1);e=this.l[2*f];f=this.l[2*f+1];return null==e?f.Dc(a+5,b,c,d):Dg(c,e)?new Vf(e,f):d};g.Fc=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.$&d))return this;var e=Vd(this.$&d-1),f=this.l[2*e],h=this.l[2*e+1];return null==f?(a=h.Fc(a+5,b,c),a===h?this:null!=a?new Vg(null,this.$,Jg(this.l,2*e+1,a)):this.$===d?null:new Vg(null,this.$^d,Mg(this.l,e))):Dg(c,f)?this.$===d?null:new Vg(null,this.$^d,Mg(this.l,e)):this};
g.Ba=function(){return new Ug(this.l)};var Zg=new Vg(null,0,[]);function dh(a,b,c){var d=a.l,e=d.length;a=Array(2*(a.m-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new Vg(b,k,a)}function eh(a){this.l=a;this.u=0;this.Eb=null}eh.prototype.fa=function(){for(var a=this.l.length;;){if(null!=this.Eb&&this.Eb.fa())return!0;if(this.u<a){var b=this.l[this.u];this.u+=1;null!=b&&(this.Eb=dc(b))}else return!1}};
eh.prototype.next=function(){if(this.fa())return this.Eb.next();throw Error("No such element");};eh.prototype.remove=function(){return Error("Unsupported operation")};function $g(a,b,c){this.ea=a;this.m=b;this.l=c;this.H=131072;this.s=0}g=$g.prototype;g.Sb=function(a){return a===this.ea?this:new $g(a,this.m,Ea(this.l))};
g.Gc=function(a,b,c,d,e){var f=c>>>b&31,h=this.l[f];if(null==h)return this;b=h.Gc(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.m)return dh(this,a,f);a=Sg(this,a,f,b);--a.m;return a}return Sg(this,a,f,b)};g.Ec=function(){return fh?fh(this.l):gh.call(null,this.l)};g.lc=function(a,b){for(var c=this.l.length,d=0;;)if(d<c){var e=this.l[d];if(null!=e){b=e.lc(a,b);if(Gc(b))return b;d+=1}else d+=1}else return b};g.cc=function(a,b,c,d){var e=this.l[b>>>a&31];return null!=e?e.cc(a+5,b,c,d):d};
g.Bb=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.l[h];if(null==k)return a=Sg(this,a,h,Zg.Bb(a,b+5,c,d,e,f)),a.m+=1,a;b=k.Bb(a,b+5,c,d,e,f);return b===k?this:Sg(this,a,h,b)};g.Ab=function(a,b,c,d,e){var f=b>>>a&31,h=this.l[f];if(null==h)return new $g(null,this.m+1,Jg(this.l,f,Zg.Ab(a+5,b,c,d,e)));a=h.Ab(a+5,b,c,d,e);return a===h?this:new $g(null,this.m,Jg(this.l,f,a))};g.Dc=function(a,b,c,d){var e=this.l[b>>>a&31];return null!=e?e.Dc(a+5,b,c,d):d};
g.Fc=function(a,b,c){var d=b>>>a&31,e=this.l[d];return null!=e?(a=e.Fc(a+5,b,c),a===e?this:null==a?8>=this.m?dh(this,null,d):new $g(null,this.m-1,Jg(this.l,d,a)):new $g(null,this.m,Jg(this.l,d,a))):this};g.Ba=function(){return new eh(this.l)};function hh(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Dg(c,a[d]))return d;d+=2}else return-1}function ih(a,b,c,d){this.ea=a;this.Qb=b;this.m=c;this.l=d;this.H=131072;this.s=0}g=ih.prototype;
g.Sb=function(a){if(a===this.ea)return this;var b=Array(2*(this.m+1));td(this.l,0,b,0,2*this.m);return new ih(a,this.Qb,this.m,b)};g.Gc=function(a,b,c,d,e){b=hh(this.l,this.m,d);if(-1===b)return this;e.o=!0;if(1===this.m)return null;a=this.Sb(a);e=a.l;e[b]=e[2*this.m-2];e[b+1]=e[2*this.m-1];e[2*this.m-1]=null;e[2*this.m-2]=null;--a.m;return a};g.Ec=function(){return Xg?Xg(this.l):Yg.call(null,this.l)};g.lc=function(a,b){return Tg(this.l,a,b)};
g.cc=function(a,b,c,d){a=hh(this.l,this.m,c);return 0>a?d:Dg(c,this.l[a])?this.l[a+1]:d};
g.Bb=function(a,b,c,d,e,f){if(c===this.Qb){b=hh(this.l,this.m,d);if(-1===b){if(this.l.length>2*this.m)return b=2*this.m,c=2*this.m+1,a=this.Sb(a),a.l[b]=d,a.l[c]=e,f.o=!0,a.m+=1,a;c=this.l.length;b=Array(c+2);td(this.l,0,b,0,c);b[c]=d;b[c+1]=e;f.o=!0;d=this.m+1;a===this.ea?(this.l=b,this.m=d,a=this):a=new ih(this.ea,this.Qb,d,b);return a}return this.l[b+1]===e?this:Sg(this,a,b+1,e)}return(new Vg(a,1<<(this.Qb>>>b&31),[null,this,null,null])).Bb(a,b,c,d,e,f)};
g.Ab=function(a,b,c,d,e){return b===this.Qb?(a=hh(this.l,this.m,c),-1===a?(a=2*this.m,b=Array(a+2),td(this.l,0,b,0,a),b[a]=c,b[a+1]=d,e.o=!0,new ih(null,this.Qb,this.m+1,b)):K.h(this.l[a+1],d)?this:new ih(null,this.Qb,this.m,Jg(this.l,a+1,d))):(new Vg(null,1<<(this.Qb>>>a&31),[null,this])).Ab(a,b,c,d,e)};g.Dc=function(a,b,c,d){a=hh(this.l,this.m,c);return 0>a?d:Dg(c,this.l[a])?new Vf(this.l[a],this.l[a+1]):d};
g.Fc=function(a,b,c){a=hh(this.l,this.m,c);return-1===a?this:1===this.m?null:new ih(null,this.Qb,this.m-1,Mg(this.l,Ud(a,2)))};g.Ba=function(){return new Ug(this.l)};function bh(a){switch(arguments.length){case 6:return ch(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ah(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}
function ch(a,b,c,d,e,f){var h=pc(b);if(h===d)return new ih(null,h,2,[b,c,e,f]);var k=new Ig;return Zg.Ab(a,h,b,c,k).Ab(a,d,e,f,k)}function ah(a,b,c,d,e,f,h){var k=pc(c);if(k===e)return new ih(null,k,2,[c,d,f,h]);var l=new Ig;return Zg.Bb(a,b,k,c,d,l).Bb(a,b,e,f,h,l)}function jh(a,b,c,d,e){this.v=a;this.Fb=b;this.u=c;this.S=d;this.B=e;this.s=32374988;this.H=0}g=jh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){if(null==this.S){var a=this.Fb,b=this.u+2;return kh?kh(a,b,null):Yg.call(null,a,b,null)}a=this.Fb;b=this.u;var c=J(this.S);return kh?kh(a,b,c):Yg.call(null,a,b,c)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return null==this.S?new Vf(this.Fb[this.u],this.Fb[this.u+1]):I(this.S)};
g.oa=function(){var a=this,b=null==a.S?function(){var c=a.Fb,d=a.u+2;return kh?kh(c,d,null):Yg.call(null,c,d,null)}():function(){var c=a.Fb,d=a.u,e=J(a.S);return kh?kh(c,d,e):Yg.call(null,c,d,e)}();return null!=b?b:wc};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new jh(b,this.Fb,this.u,this.S,this.B)};g.aa=function(a,b){return P(b,this)};jh.prototype[Da]=function(){return yc(this)};
function Yg(a){switch(arguments.length){case 1:return Xg(arguments[0]);case 3:return kh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Xg(a){return kh(a,0,null)}function kh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new jh(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Ec(),x(d)))return new jh(null,a,b+2,d,null);b+=2}else return null;else return new jh(null,a,b,c,null)}
function lh(a,b,c,d,e){this.v=a;this.Fb=b;this.u=c;this.S=d;this.B=e;this.s=32374988;this.H=0}g=lh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){var a=this.Fb,b=this.u,c=J(this.S);return mh?mh(a,b,c):gh.call(null,a,b,c)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};
g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return I(this.S)};g.oa=function(){var a=this.Fb;var b=this.u,c=J(this.S);a=mh?mh(a,b,c):gh.call(null,a,b,c);return null!=a?a:wc};g.T=function(){return this};g.Y=function(a,b){return b===this.v?this:new lh(b,this.Fb,this.u,this.S,this.B)};g.aa=function(a,b){return P(b,this)};lh.prototype[Da]=function(){return yc(this)};
function gh(a){switch(arguments.length){case 1:return fh(arguments[0]);case 3:return mh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function fh(a){return mh(a,0,null)}function mh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Ec(),x(d)))return new lh(null,a,b+1,d,null);b+=1}else return null;else return new lh(null,a,b,c,null)}function nh(a,b){this.ya=a;this.Od=b;this.md=!1}
nh.prototype.fa=function(){return!this.md||this.Od.fa()};nh.prototype.next=function(){if(this.md)return this.Od.next();this.md=!0;return new Vf(null,this.ya)};nh.prototype.remove=function(){return Error("Unsupported operation")};function oh(a,b,c,d,e,f){this.v=a;this.m=b;this.root=c;this.wa=d;this.ya=e;this.B=f;this.s=16123663;this.H=139268}g=oh.prototype;g.Yb=function(a,b){return null==b?this.wa?new Vf(null,this.ya):null:null==this.root?null:this.root.Dc(0,pc(b),b,null)};g.toString=function(){return gc(this)};
g.equiv=function(a){return this.G(null,a)};g.keys=function(){return yc(yg.g?yg.g(this):yg.call(null,this))};g.entries=function(){return new tg(E(E(this)))};g.values=function(){return yc(zg.g?zg.g(this):zg.call(null,this))};g.has=function(a){return xd(this,a)};g.get=function(a,b){return this.P(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),h=S(f,0,null);f=S(f,1,null);a.h?a.h(f,h):a.call(null,f,h);e+=1}else if(b=E(b))sd(b)?(c=Ub(b),b=Vb(b),h=c,d=N(c),c=h):(c=I(b),h=S(c,0,null),f=S(c,1,null),a.h?a.h(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return null==b?this.wa?this.ya:c:null==this.root?c:this.root.cc(0,pc(b),b,c)};
g.Pb=function(a,b,c){a=this.wa?b.i?b.i(c,null,this.ya):b.call(null,c,null,this.ya):c;return Gc(a)?qb(a):null!=this.root?Hc(this.root.lc(b,a)):a};g.Ba=function(){var a=this.root?dc(this.root):Me();return this.wa?new nh(this.ya,a):a};g.X=function(){return this.v};g.W=function(){return this.m};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Cc(this)};g.G=function(a,b){return rg(this,b)};g.Xb=function(){return new ph(this.root,this.m,this.wa,this.ya)};g.ba=function(){return tb(Cg,this.v)};
g.Zb=function(a,b){if(null==b)return this.wa?new oh(this.v,this.m-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Fc(0,pc(b),b);return a===this.root?this:new oh(this.v,this.m-1,a,this.wa,this.ya,null)};g.ua=function(a,b,c){if(null==b)return this.wa&&c===this.ya?this:new oh(this.v,this.wa?this.m:this.m+1,this.root,!0,c,null);a=new Ig;b=(null==this.root?Zg:this.root).Ab(0,pc(b),b,c,a);return b===this.root?this:new oh(this.v,a.o?this.m+1:this.m,b,this.wa,this.ya,null)};
g.Ra=function(a,b){return null==b?this.wa:null==this.root?!1:this.root.cc(0,pc(b),b,ud)!==ud};g.T=function(){if(0<this.m){var a=null!=this.root?this.root.Ec():null;return this.wa?P(new Vf(null,this.ya),a):a}return null};g.Y=function(a,b){return b===this.v?this:new oh(b,this.m,this.root,this.wa,this.ya,this.B)};
g.aa=function(a,b){if(rd(b))return this.ua(null,Wa(b,0),Wa(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=I(b);if(rd(c))a=hb(a,Wa(c,0),Wa(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};var Cg=new oh(null,0,null,!1,null,Dc);function qh(a,b){for(var c=a.length,d=0,e=Mb(Cg);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",A.g(a[d])].join(""));var f=d+1;e=Pb(e,a[d],b[d]);d=f}else return Ob(e)}oh.prototype[Da]=function(){return yc(this)};function ph(a,b,c,d){this.ea={};this.root=a;this.count=b;this.wa=c;this.ya=d;this.s=259;this.H=56}
function rh(a,b,c){if(a.ea){if(null==b)a.ya!==c&&(a.ya=c),a.wa||(a.count+=1,a.wa=!0);else{var d=new Ig;b=(null==a.root?Zg:a.root).Bb(a.ea,0,pc(b),b,c,d);b!==a.root&&(a.root=b);d.o&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=ph.prototype;g.W=function(){if(this.ea)return this.count;throw Error("count after persistent!");};g.ia=function(a,b){return null==b?this.wa?this.ya:null:null==this.root?null:this.root.cc(0,pc(b),b)};
g.P=function(a,b,c){return null==b?this.wa?this.ya:c:null==this.root?c:this.root.cc(0,pc(b),b,c)};g.ac=function(a,b){a:if(this.ea)if(cg(b))a=rh(this,dg.g?dg.g(b):dg.call(null,b),eg.g?eg.g(b):eg.call(null,b));else if(rd(b))a=rh(this,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));else for(a=E(b),b=this;;){var c=I(a);if(x(c))a=J(a),b=rh(b,dg.g?dg.g(c):dg.call(null,c),eg.g?eg.g(c):eg.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.fc=function(){if(this.ea){this.ea=null;var a=new oh(null,this.count,this.root,this.wa,this.ya,null)}else throw Error("persistent! called twice");return a};g.qc=function(a,b,c){return rh(this,b,c)};g.bd=function(a,b){if(this.ea)null==b?this.wa&&(this.wa=!1,this.ya=null,--this.count):null!=this.root&&(a=new Ig,b=this.root.Gc(this.ea,0,pc(b),b,a),b!==this.root&&(this.root=b),a.o&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};function sh(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=$c.h(d,a),a=b;else return d}
function th(a,b,c,d,e){this.v=a;this.stack=b;this.dc=c;this.m=d;this.B=e;this.s=32374990;this.H=0}g=th.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.v};g.ga=function(){var a=I(this.stack);a=sh(this.dc?a.right:a.left,J(this.stack),this.dc);return null==a?null:new th(null,a,this.dc,this.m-1,null)};g.W=function(){return 0>this.m?N(J(this))+1:this.m};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){var a=this.stack;return null==a?null:ob(a)};g.oa=function(){var a=I(this.stack);a=sh(this.dc?a.right:a.left,J(this.stack),this.dc);return null!=a?new th(null,a,this.dc,this.m-1,null):wc};g.T=function(){return this};
g.Y=function(a,b){return b===this.v?this:new th(b,this.stack,this.dc,this.m,this.B)};g.aa=function(a,b){return P(b,this)};th.prototype[Da]=function(){return yc(this)};function uh(a,b,c){return new th(null,sh(a,null,b),b,c,null)}function vh(a,b,c,d){return c instanceof wh?c.left instanceof wh?new wh(c.key,c.o,c.left.Lb(),new xh(a,b,c.right,d)):c.right instanceof wh?new wh(c.right.key,c.right.o,new xh(c.key,c.o,c.left,c.right.left),new xh(a,b,c.right.right,d)):new xh(a,b,c,d):new xh(a,b,c,d)}
function yh(a,b,c,d){return d instanceof wh?d.right instanceof wh?new wh(d.key,d.o,new xh(a,b,c,d.left),d.right.Lb()):d.left instanceof wh?new wh(d.left.key,d.left.o,new xh(a,b,c,d.left.left),new xh(d.key,d.o,d.left.right,d.right)):new xh(a,b,c,d):new xh(a,b,c,d)}
function zh(a,b,c,d){if(c instanceof wh)return new wh(a,b,c.Lb(),d);if(d instanceof xh)return yh(a,b,c,d.Ic());if(d instanceof wh&&d.left instanceof xh)return new wh(d.left.key,d.left.o,new xh(a,b,c,d.left.left),yh(d.key,d.o,d.left.right,d.right.Ic()));throw Error("red-black tree invariant violation");}
function Ah(a,b,c,d){if(d instanceof wh)return new wh(a,b,c,d.Lb());if(c instanceof xh)return vh(a,b,c.Ic(),d);if(c instanceof wh&&c.right instanceof xh)return new wh(c.right.key,c.right.o,vh(c.key,c.o,c.left.Ic(),c.right.left),new xh(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Bh=function Bh(a,b,c){var e=null!=a.left?function(){var k=a.left;return Bh.i?Bh.i(k,b,c):Bh.call(null,k,b,c)}():c;if(Gc(e))return e;var f=function(){var k=a.key,l=a.o;return b.i?b.i(e,k,l):b.call(null,e,k,l)}();if(Gc(f))return f;if(null!=a.right){var h=a.right;return Bh.i?Bh.i(h,b,f):Bh.call(null,h,b,f)}return f};function xh(a,b,c,d){this.key=a;this.o=b;this.left=c;this.right=d;this.B=null;this.s=166619935;this.H=0}g=xh.prototype;
g.Yb=function(a,b){switch(b){case 0:return new Vf(0,this.key);case 1:return new Vf(1,this.o);default:return null}};g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();g.qd=function(a){return a.sd(this)};g.Ic=function(){return new wh(this.key,this.o,this.left,this.right)};g.Lb=function(){return this};g.pd=function(a){return a.rd(this)};g.replace=function(a,b,c,d){return new xh(a,b,c,d)};
g.rd=function(a){return new xh(a.key,a.o,this,a.right)};g.sd=function(a){return new xh(a.key,a.o,a.left,this)};g.lc=function(a,b){return Bh(this,a,b)};g.ia=function(a,b){return this.qa(null,b,null)};g.P=function(a,b,c){return this.qa(null,b,c)};g.R=function(a,b){if(0===b)return this.key;if(1===b)return this.o;throw Error("Index out of bounds");};g.qa=function(a,b,c){return 0===b?this.key:1===b?this.o:c};g.hc=function(a,b,c){return(new W(null,2,5,X,[this.key,this.o],null)).hc(null,b,c)};g.X=function(){return null};
g.W=function(){return 2};g.$c=function(){return this.key};g.ad=function(){return this.o};g.$b=function(){return this.o};g.yb=function(){return new H([this.o,this.key],0,null)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return null};g.ja=function(a,b){return Jc(this,b)};g.ka=function(a,b,c){return Kc(this,b,c)};g.ua=function(a,b,c){return T.i(new W(null,2,5,X,[this.key,this.o],null),b,c)};
g.Ra=function(a,b){return 0===b||1===b};g.T=function(){return new H([this.key,this.o],0,null)};g.Y=function(a,b){return tb(new W(null,2,5,X,[this.key,this.o],null),b)};g.aa=function(a,b){return new W(null,3,5,X,[this.key,this.o,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.g=function(a){return this.R(null,a)};g.h=function(a,b){return this.qa(null,a,b)};xh.prototype[Da]=function(){return yc(this)};function wh(a,b,c,d){this.key=a;this.o=b;this.left=c;this.right=d;this.B=null;this.s=166619935;this.H=0}g=wh.prototype;g.Yb=function(a,b){switch(b){case 0:return new Vf(0,this.key);case 1:return new Vf(1,this.o);default:return null}};
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();g.qd=function(a){return new wh(this.key,this.o,this.left,a)};g.Ic=function(){throw Error("red-black tree invariant violation");};g.Lb=function(){return new xh(this.key,this.o,this.left,this.right)};
g.pd=function(a){return new wh(this.key,this.o,a,this.right)};g.replace=function(a,b,c,d){return new wh(a,b,c,d)};g.rd=function(a){return this.left instanceof wh?new wh(this.key,this.o,this.left.Lb(),new xh(a.key,a.o,this.right,a.right)):this.right instanceof wh?new wh(this.right.key,this.right.o,new xh(this.key,this.o,this.left,this.right.left),new xh(a.key,a.o,this.right.right,a.right)):new xh(a.key,a.o,this,a.right)};
g.sd=function(a){return this.right instanceof wh?new wh(this.key,this.o,new xh(a.key,a.o,a.left,this.left),this.right.Lb()):this.left instanceof wh?new wh(this.left.key,this.left.o,new xh(a.key,a.o,a.left,this.left.left),new xh(this.key,this.o,this.left.right,this.right)):new xh(a.key,a.o,a.left,this)};g.lc=function(a,b){return Bh(this,a,b)};g.ia=function(a,b){return this.qa(null,b,null)};g.P=function(a,b,c){return this.qa(null,b,c)};
g.R=function(a,b){if(0===b)return this.key;if(1===b)return this.o;throw Error("Index out of bounds");};g.qa=function(a,b,c){return 0===b?this.key:1===b?this.o:c};g.hc=function(a,b,c){return(new W(null,2,5,X,[this.key,this.o],null)).hc(null,b,c)};g.X=function(){return null};g.W=function(){return 2};g.$c=function(){return this.key};g.ad=function(){return this.o};g.$b=function(){return this.o};g.yb=function(){return new H([this.o,this.key],0,null)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return null};g.ja=function(a,b){return Jc(this,b)};g.ka=function(a,b,c){return Kc(this,b,c)};g.ua=function(a,b,c){return T.i(new W(null,2,5,X,[this.key,this.o],null),b,c)};g.Ra=function(a,b){return 0===b||1===b};g.T=function(){return new H([this.key,this.o],0,null)};g.Y=function(a,b){return tb(new W(null,2,5,X,[this.key,this.o],null),b)};
g.aa=function(a,b){return new W(null,3,5,X,[this.key,this.o,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.R(null,a)};g.h=function(a,b){return this.qa(null,a,b)};wh.prototype[Da]=function(){return yc(this)};
var Ch=function Ch(a,b,c,d,e){if(null==b)return new wh(c,d,null,null);var h=function(){var k=b.key;return a.h?a.h(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return Ch.M?Ch.M(a,k,c,d,e):Ch.call(null,a,k,c,d,e)}(),null!=h?b.pd(h):null;h=function(){var k=b.right;return Ch.M?Ch.M(a,k,c,d,e):Ch.call(null,a,k,c,d,e)}();return null!=h?b.qd(h):null},Dh=function Dh(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof wh){if(b instanceof wh){var d=function(){var e=
a.right,f=b.left;return Dh.h?Dh.h(e,f):Dh.call(null,e,f)}();return d instanceof wh?new wh(d.key,d.o,new wh(a.key,a.o,a.left,d.left),new wh(b.key,b.o,d.right,b.right)):new wh(a.key,a.o,a.left,new wh(b.key,b.o,d,b.right))}return new wh(a.key,a.o,a.left,function(){var e=a.right;return Dh.h?Dh.h(e,b):Dh.call(null,e,b)}())}if(b instanceof wh)return new wh(b.key,b.o,function(){var e=b.left;return Dh.h?Dh.h(a,e):Dh.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;return Dh.h?Dh.h(e,f):Dh.call(null,
e,f)}();return d instanceof wh?new wh(d.key,d.o,new xh(a.key,a.o,a.left,d.left),new xh(b.key,b.o,d.right,b.right)):zh(a.key,a.o,a.left,new xh(b.key,b.o,d,b.right))},Eh=function Eh(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.h?a.h(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Dh(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Eh.A?Eh.A(a,h,c,d):Eh.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof xh?zh(b.key,b.o,f,b.right):new wh(b.key,b.o,f,b.right):null;
f=function(){var h=b.right;return Eh.A?Eh.A(a,h,c,d):Eh.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof xh?Ah(b.key,b.o,b.left,f):new wh(b.key,b.o,b.left,f):null}return null},Fh=function Fh(a,b,c,d){var f=b.key,h=a.h?a.h(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.o,function(){var k=b.left;return Fh.A?Fh.A(a,k,c,d):Fh.call(null,a,k,c,d)}(),b.right):b.replace(f,b.o,b.left,function(){var k=b.right;return Fh.A?Fh.A(a,k,c,d):Fh.call(null,a,k,
c,d)}())};function Gh(a,b,c,d,e){this.mb=a;this.Ub=b;this.m=c;this.v=d;this.B=e;this.s=418776847;this.H=8192}g=Gh.prototype;g.Yb=function(a,b){return Hh(this,b)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),h=S(f,0,null);f=S(f,1,null);a.h?a.h(f,h):a.call(null,f,h);e+=1}else if(b=E(b))sd(b)?(c=Ub(b),b=Vb(b),h=c,d=N(c),c=h):(c=I(b),h=S(c,0,null),f=S(c,1,null),a.h?a.h(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.get=function(a,b){return this.P(null,a,b)};g.entries=function(){return new tg(E(E(this)))};g.toString=function(){return gc(this)};g.keys=function(){return yc(yg.g?yg.g(this):yg.call(null,this))};g.values=function(){return yc(zg.g?zg.g(this):zg.call(null,this))};g.equiv=function(a){return this.G(null,a)};function Hh(a,b){for(var c=a.Ub;;)if(null!=c){var d=c.key;d=a.mb.h?a.mb.h(b,d):a.mb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return xd(this,a)};
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=Hh(this,b);return null!=a?a.o:c};g.Pb=function(a,b,c){return null!=this.Ub?Hc(Bh(this.Ub,b,c)):c};g.X=function(){return this.v};g.W=function(){return this.m};g.yb=function(){return 0<this.m?uh(this.Ub,!1,this.m):null};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Cc(this)};g.G=function(a,b){return rg(this,b)};g.ba=function(){return new Gh(this.mb,null,0,this.v,0)};
g.Zb=function(a,b){a=[null];b=Eh(this.mb,this.Ub,b,a);return null==b?null==Qc(a,0)?this:new Gh(this.mb,null,0,this.v,null):new Gh(this.mb,b.Lb(),this.m-1,this.v,null)};g.ua=function(a,b,c){a=[null];var d=Ch(this.mb,this.Ub,b,c,a);return null==d?(a=Qc(a,0),K.h(c,a.o)?this:new Gh(this.mb,Fh(this.mb,this.Ub,b,c),this.m,this.v,null)):new Gh(this.mb,d.Lb(),this.m+1,this.v,null)};g.Ra=function(a,b){return null!=Hh(this,b)};g.T=function(){return 0<this.m?uh(this.Ub,!0,this.m):null};
g.Y=function(a,b){return b===this.v?this:new Gh(this.mb,this.Ub,this.m,b,this.B)};g.aa=function(a,b){if(rd(b))return this.ua(null,Wa(b,0),Wa(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=I(b);if(rd(c))a=hb(a,Wa(c,0),Wa(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};var Ih=new Gh(yd,null,0,null,Dc);Gh.prototype[Da]=function(){return yc(this)};
var Jh=function Jh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Jh.j(0<c.length?new H(c.slice(0),0,null):null)};Jh.j=function(a){a=E(a);for(var b=Mb(Cg);;)if(a){var c=J(a);if(null==c)throw Error(["No value supplied for key: ",A.g(I(a))].join(""));var d=J(c);b=we(b,I(a),I(c));a=d}else return Ob(b)};Jh.F=0;Jh.I=function(a){return this.j(E(a))};
var Kh=function Kh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Kh.j(0<c.length?new H(c.slice(0),0,null):null)};Kh.j=function(a){a=a instanceof H&&0===a.u?a.l:Fa(a);if(!cf(a.length))throw Error(["No value supplied for key: ",A.g(Zc(a))].join(""));return ed(a)};Kh.F=0;Kh.I=function(a){return this.j(E(a))};
function Lh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:for(b=E(0<b.length?new H(b.slice(0),0,null):null),d=Ih;;)if(b)c=J(J(b)),d=T.i(d,I(b),Yc(b)),b=c;else break a;return d}function Mh(a,b){this.Z=a;this.Hb=b;this.s=32374988;this.H=0}g=Mh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.Hb};g.ga=function(){var a=(null!=this.Z?this.Z.s&128||t===this.Z.zc||(this.Z.s?0:y($a,this.Z)):y($a,this.Z))?this.Z.ga(null):J(this.Z);return null==a?null:new Mh(a,null)};g.U=function(){return Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return this.Z.la(null).key};g.oa=function(){var a=(null!=this.Z?this.Z.s&128||t===this.Z.zc||(this.Z.s?0:y($a,this.Z)):y($a,this.Z))?this.Z.ga(null):J(this.Z);return null!=a?new Mh(a,null):wc};g.T=function(){return this};g.Y=function(a,b){return b===this.Hb?this:new Mh(this.Z,b)};g.aa=function(a,b){return P(b,this)};Mh.prototype[Da]=function(){return yc(this)};
function yg(a){return(a=E(a))?new Mh(a,null):null}function dg(a){return lb(a)}function Nh(a,b){this.Z=a;this.Hb=b;this.s=32374988;this.H=0}g=Nh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.X=function(){return this.Hb};g.ga=function(){var a=(null!=this.Z?this.Z.s&128||t===this.Z.zc||(this.Z.s?0:y($a,this.Z)):y($a,this.Z))?this.Z.ga(null):J(this.Z);return null==a?null:new Nh(a,null)};g.U=function(){return Ac(this)};
g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};g.ka=function(a,b,c){return Xc(b,c,this)};g.la=function(){return this.Z.la(null).o};g.oa=function(){var a=(null!=this.Z?this.Z.s&128||t===this.Z.zc||(this.Z.s?0:y($a,this.Z)):y($a,this.Z))?this.Z.ga(null):J(this.Z);return null!=a?new Nh(a,null):wc};g.T=function(){return this};g.Y=function(a,b){return b===this.Hb?this:new Nh(this.Z,b)};g.aa=function(a,b){return P(b,this)};Nh.prototype[Da]=function(){return yc(this)};
function zg(a){return(a=E(a))?new Nh(a,null):null}function eg(a){return mb(a)}var Oh=function Oh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Oh.j(0<c.length?new H(c.slice(0),0,null):null)};Oh.j=function(a){return x(bf(Id,a))?Ed(function(b,c){return $c.h(x(b)?b:V,c)},a):null};Oh.F=0;Oh.I=function(a){return this.j(E(a))};function Au(a,b){var c=V;for(b=E(b);;)if(b){var d=I(b),e=C.i(a,d,Bu);c=Je.h(e,Bu)?T.i(c,d,e):c;b=J(b)}else return tb(c,kd(a))}
function Ph(a){this.sc=a}Ph.prototype.fa=function(){return this.sc.fa()};Ph.prototype.next=function(){if(this.sc.fa())return this.sc.next().key;throw Error("No such element");};Ph.prototype.remove=function(){return Error("Unsupported operation")};function Qh(a,b,c){this.v=a;this.bc=b;this.B=c;this.s=15077647;this.H=139268}g=Qh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};g.keys=function(){return yc(E(this))};g.entries=function(){return new ug(E(E(this)))};
g.values=function(){return yc(E(this))};g.has=function(a){return xd(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),h=S(f,0,null);f=S(f,1,null);a.h?a.h(f,h):a.call(null,f,h);e+=1}else if(b=E(b))sd(b)?(c=Ub(b),b=Vb(b),h=c,d=N(c),c=h):(c=I(b),h=S(c,0,null),f=S(c,1,null),a.h?a.h(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=ib(this.bc,b);return x(a)?lb(a):c};g.Ba=function(){return new Ph(dc(this.bc))};
g.X=function(){return this.v};g.W=function(){return Ma(this.bc)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Cc(this)};g.G=function(a,b){if(a=nd(b))if(a=N(this)===N(b))try{return Fd(function(c,d){return(c=xd(b,d))?c:new Fc(!1)},!0,this.bc)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Xb=function(){return new Rh(Mb(this.bc))};g.ba=function(){return tb(Sh,this.v)};g.qf=function(a,b){return new Qh(this.v,kb(this.bc,b),null)};g.T=function(){return yg(this.bc)};
g.Y=function(a,b){return b===this.v?this:new Qh(b,this.bc,this.B)};g.aa=function(a,b){return new Qh(this.v,T.i(this.bc,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};
var Sh=new Qh(null,V,Dc);function at(a){for(var b=a.length,c=Mb(Sh),d=0;;)if(d<b)Nb(c,a[d]),d+=1;else break;return Ob(c)}Qh.prototype[Da]=function(){return yc(this)};function Rh(a){this.mc=a;this.H=136;this.s=259}g=Rh.prototype;g.ac=function(a,b){this.mc=Pb(this.mc,b,null);return this};g.fc=function(){return new Qh(null,Ob(this.mc),null)};g.W=function(){return N(this.mc)};g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return cb(this.mc,b,ud)===ud?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return cb(this.mc,a,ud)===ud?null:a};g.h=function(a,b){return cb(this.mc,a,ud)===ud?b:a};
function Th(a){if(nd(a))return jd(a,null);a=E(a);if(null==a)return Sh;if(a instanceof H&&0===a.u)return at(a.l);for(var b=Mb(Sh);;)if(null!=a){var c=J(a);b=Nb(b,Ya(a));a=c}else return Ob(b)}function Uh(a){return function e(c,d){return new ge(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=S(k,0,null);if(k=E(k))if(xd(f,h))h=vc(k);else{f=P(h,e(vc(k),$c.h(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Sh)}
function Cu(a){for(var b=ad;;)if(J(a))b=$c.h(b,I(a)),a=J(a);else return E(b)}function fe(a){if(null!=a&&(a.H&4096||t===a.Zd))return a.xc(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.g(a)].join(""));}function Du(a,b){var c=Mb(V);a=E(a);for(b=E(b);;)if(a&&b)c=we(c,I(a),I(b)),a=J(a),b=J(b);else return Ob(c)}
var Eu=function Eu(a){switch(arguments.length){case 2:return Eu.h(arguments[0],arguments[1]);case 3:return Eu.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Eu.j(arguments[0],arguments[1],arguments[2],3<c.length?new H(c.slice(3),0,null):null)}};Eu.h=function(a,b){return b};Eu.i=function(a,b,c){return(a.g?a.g(b):a.call(null,b))>(a.g?a.g(c):a.call(null,c))?b:c};
Eu.j=function(a,b,c,d){return Ga(function(e,f){return Eu.i(a,e,f)},Eu.i(a,b,c),d)};Eu.I=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.j(b,a,c,d)};Eu.F=3;function Vh(a,b,c){return new ge(null,function(){var d=E(c);return d?P(uf(a,d),Vh(a,b,vf(b,d))):null},null,null)}function Wh(a,b){return new ge(null,function(){var c=E(b);if(c){var d=I(c);d=a.g?a.g(d):a.call(null,d);c=x(d)?P(I(c),Wh(a,vc(c))):null}else c=null;return c},null,null)}
function Xh(a,b,c){this.start=a;this.step=b;this.count=c;this.s=82;this.H=0}g=Xh.prototype;g.W=function(){return this.count};g.la=function(){return this.start};g.R=function(a,b){return this.start+b*this.step};g.qa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.vc=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Xh(this.start+this.step,this.step,this.count-1)};function Yh(a,b,c){this.u=a;this.end=b;this.step=c}
Yh.prototype.fa=function(){return 0<this.step?this.u<this.end:this.u>this.end};Yh.prototype.next=function(){var a=this.u;this.u+=this.step;return a};function Zh(a,b,c,d,e,f){this.v=a;this.start=b;this.end=c;this.step=d;this.m=e;this.B=f;this.s=32375006;this.H=402944}g=Zh.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.R=function(a,b){if(0<=b&&b<this.W(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
g.qa=function(a,b,c){return 0<=b&&b<this.W(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.Ba=function(){return new Yh(this.start,this.end,this.step)};g.X=function(){return this.v};
g.ga=function(){return 0<this.step?this.start+this.step<this.end?new Zh(null,this.start+this.step,this.end,this.step,Math.ceil((this.end-(this.start+this.step))/this.step),null):null:this.start+this.step>this.end?new Zh(null,this.start+this.step,this.end,this.step,Math.ceil((this.end-(this.start+this.step))/this.step),null):null};g.W=function(){return this.m};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};
g.ja=function(a,b){return Jc(this,b)};g.ka=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Gc(c))return qb(c);a+=this.step}else return c};g.la=function(){return this.start};g.oa=function(){var a=this.ga(null);return null==a?wc:a};g.T=function(){return this};g.pc=function(){var a=this.m;return new Xh(this.start,this.step,32>a?a:32)};
g.Mb=function(){if(32>=this.m)return wc;var a=this.start+32*this.step;return 0<this.step?this.end<=a?wc:new Zh(null,a,this.end,this.step,Math.ceil((this.end-a)/this.step),null):0>this.step?this.end>=a?wc:new Zh(null,a,this.end,this.step,Math.ceil((this.end-a)/this.step),null):this.end===a?wc:zf(a)};g.Y=function(a,b){return b===this.v?this:new Zh(b,this.start,this.end,this.step,this.m,this.B)};g.aa=function(a,b){return P(b,this)};
g.Ob=function(a,b){return 0<b?b<this.m?new Zh(null,this.start+this.step*b,this.end,this.step,this.m-b,null):null:this};g.oc=function(){return E(this.Mb(null))};Zh.prototype[Da]=function(){return yc(this)};function $h(a,b,c,d,e,f,h){this.v=a;this.start=b;this.end=c;this.step=d;this.ma=e;this.Mc=f;this.B=h;this.H=140800;this.s=32374988}g=$h.prototype;g.toString=function(){return gc(this)};g.equiv=function(a){return this.G(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();
function ei(a){if(null==a.ma){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var c=0;for(var d=a.start;;)if(32>c){if(b[c]=d,c+=1,d+=a.step,!(0<a.step?d<a.end:d>a.end)){c=a.ma=new me(b,0,c);break a}}else{c=d;break a}}null==a.ma&&(a.ma=new me(b,0,32),(0<a.step?c<a.end:c>a.end)&&(a.Mc=new $h(null,c,a.end,a.step,null,null,null)))}}
g.Ba=function(){return new Yh(this.start,this.end,this.step)};g.X=function(){return this.v};g.ga=function(){return 0<this.step?this.start+this.step<this.end?new $h(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new $h(null,this.start+this.step,this.end,this.step,null,null,null):null};g.U=function(){var a=this.B;return null!=a?a:this.B=a=Ac(this)};g.G=function(a,b){return Uc(this,b)};g.ba=function(){return wc};g.ja=function(a,b){return Vc(b,this)};
g.ka=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Gc(c))return qb(c);a+=this.step}else return c};g.la=function(){return this.start};g.oa=function(){var a=this.ga(null);return null==a?wc:a};g.T=function(){return this};g.pc=function(){ei(this);return this.ma};g.Mb=function(){ei(this);return null==this.Mc?wc:this.Mc};g.Y=function(a,b){return b===this.v?this:new $h(b,this.start,this.end,this.step,this.ma,this.Mc,this.B)};
g.aa=function(a,b){return P(b,this)};g.oc=function(){return E(this.Mb(null))};$h.prototype[Da]=function(){return yc(this)};var fi=function fi(a){switch(arguments.length){case 0:return fi.C();case 1:return fi.g(arguments[0]);case 2:return fi.h(arguments[0],arguments[1]);case 3:return fi.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};fi.C=function(){return fi.i(0,Number.MAX_VALUE,1)};fi.g=function(a){return fi.i(0,a,1)};
fi.h=function(a,b){return fi.i(a,b,1)};fi.i=function(a,b,c){return 0<c?b<=a?wc:wd(a)&&wd(b)&&wd(c)?new Zh(null,a,b,c,Math.ceil((b-a)/c),null):new $h(null,a,b,c,null,null,null):0>c?b>=a?wc:wd(a)&&wd(b)&&wd(c)?new Zh(null,a,b,c,Math.ceil((b-a)/c),null):new $h(null,a,b,c,null,null,null):b===a?wc:zf(a)};fi.F=3;function gi(a,b){return new ge(null,function(){var c=E(b);return c?P(I(c),gi(a,vf(a,c))):null},null,null)}function Fu(a,b){return new W(null,2,5,X,[Wh(a,b),wf(a,b)],null)}
function hi(a,b){return new ge(null,function(){var c=E(b);if(c){var d=I(c),e=a.g?a.g(d):a.call(null,d),f=P(d,Wh(function(h){return K.h(e,a.g?a.g(h):a.call(null,h))},J(c)));return P(f,hi(a,new ge(null,function(){return vf(N(f),c)},null,null)))}return null},null,null)}function ii(a){return Ob(Ga(function(b,c){return we(b,c,C.i(b,c,0)+1)},Mb(V),a))}
function ji(){var a=fe;return function(){function b(k,l,m){return new W(null,2,5,X,[de.i?de.i(k,l,m):de.call(null,k,l,m),a.i?a.i(k,l,m):a.call(null,k,l,m)],null)}function c(k,l){return new W(null,2,5,X,[de.h?de.h(k,l):de.call(null,k,l),a.h?a.h(k,l):a.call(null,k,l)],null)}function d(k){return new W(null,2,5,X,[de.g?de.g(k):de.call(null,k),a.g?a.g(k):a.call(null,k)],null)}function e(){return new W(null,2,5,X,[de.C?de.C():de.call(null),a.C?a.C():a.call(null)],null)}var f=null,h=function(){function k(m,
n,p,r){var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new H(v,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){return new W(null,2,5,X,[Ge(de,m,n,p,r),Ge(a,m,n,p,r)],null)}k.F=3;k.I=function(m){var n=I(m);m=J(m);var p=I(m);m=J(m);var r=I(m);m=vc(m);return l(n,p,r,m)};k.j=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,
k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return h.j(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.I=h.I;f.C=e;f.g=d;f.h=c;f.i=b;f.j=h.j;return f}()}function Gu(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function ki(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&K.h(a[0],b)?1===a.length?a[0]:bg(a):null;throw new TypeError("re-matches must match against a string.");}function li(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:bg(a);throw new TypeError("re-find must match against a string.");}
var mi=function mi(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:bg(d);return P(f,new ge(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Xd.h(b,h),mi.h?mi.h(a,h):mi.call(null,a,h)):null},null,null))};function ni(a,b){if("string"===typeof b)return mi(a,b);throw new TypeError("re-seq must match against a string.");}
function oi(a,b,c,d,e,f,h){var k=oa;oa=null==oa?null:oa-1;try{if(null!=oa&&0>oa)return Jb(a,"#");Jb(a,c);if(0===va.g(f))E(h)&&Jb(a,function(){var u=pi.g(f);return x(u)?u:"..."}());else{if(E(h)){var l=I(h);b.i?b.i(l,a,f):b.call(null,l,a,f)}for(var m=J(h),n=va.g(f)-1;;)if(!m||null!=n&&0===n){E(m)&&0===n&&(Jb(a,d),Jb(a,function(){var u=pi.g(f);return x(u)?u:"..."}()));break}else{Jb(a,d);var p=I(m);c=a;h=f;b.i?b.i(p,c,h):b.call(null,p,c,h);var r=J(m);c=n-1;m=r;n=c}}return Jb(a,e)}finally{oa=k}}
function qi(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e);Jb(a,f);e+=1}else if(b=E(b))c=b,sd(c)?(b=Ub(c),d=Vb(c),c=b,f=N(b),b=d,d=f):(f=I(c),Jb(a,f),b=J(c),c=null,d=0),e=0;else return null}function Hu(a){if(null==uk)throw Error("No *print-fn* fn set for evaluation environment");uk.call(null,a)}var ri={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function si(a){return['"',A.g(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ri[b]})),'"'].join("")}function ti(a,b){return(a=vd(C.h(a,sa)))?(a=null!=b?b.s&131072||t===b.xd?!0:!1:!1)?null!=kd(b):a:a}
function ui(a,b,c){if(null==a)return Jb(b,"nil");if(ti(c,a)){Jb(b,"^");var d=kd(a);vi.i?vi.i(d,b,c):vi.call(null,d,b,c);Jb(b," ")}if(a.he)return a.Je(a,b,c);if(null!=a?a.s&2147483648||t===a.ca||(a.s?0:y(Kb,a)):y(Kb,a))return Lb(a,b,c);if(!0===a||!1===a)return Jb(b,A.g(a));if("number"===typeof a)return Jb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.g(a));if(null!=a&&a.constructor===Object)return Jb(b,"#js "),d=tf.h(function(f){return new Vf(null!=
ki(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?ee.g(f):f,a[f])},ha(a)),wi.A?wi.A(d,vi,b,c):wi.call(null,d,vi,b,c);if(xa(a))return oi(b,vi,"#js ["," ","]",c,a);if("string"===typeof a)return x(ra.g(c))?Jb(b,si(a)):Jb(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return qi(b,Q(["#object[",c,x(!1)?[' "',A.g(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=A.g(f);;)if(f.length<h)f=["0",f].join("");else return f},
qi(b,Q(['#inst "',c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return qi(b,Q(['#"',a.source,'"']));if("symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol)return qi(b,Q(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.cd}()))return qi(b,Q(["#object[",a.constructor.cd.replace(RegExp("/",
"g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?qi(b,Q(["#object[",c,"]"])):qi(b,Q(["#object[",c," ",A.g(a),"]"]))}function vi(a,b,c){var d=xi.g(c);return x(d)?(c=T.i(c,yi,ui),d.i?d.i(a,b,c):d.call(null,a,b,c)):ui(a,b,c)}
function zi(a,b){var c=new na;a:{var d=new fc(c);vi(I(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.R(null,h);Jb(d," ");vi(k,d,b);h+=1}else if(a=E(a))e=a,sd(e)?(a=Ub(e),f=Vb(e),e=a,k=N(a),a=f,f=k):(k=I(e),Jb(d," "),vi(k,d,b),a=J(e),e=null,f=0),h=0;else break a}return c}function Ai(a,b){return ld(a)?"":A.g(zi(a,b))}function Bi(a,b){if(ld(a))return"\n";a=zi(a,b);a.append("\n");return A.g(a)}
var Y=function Y(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Y.j(0<c.length?new H(c.slice(0),0,null):null)};Y.j=function(a){return Ai(a,pa())};Y.F=0;Y.I=function(a){return this.j(E(a))};var Ci=function Ci(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ci.j(0<c.length?new H(c.slice(0),0,null):null)};Ci.j=function(a){return Bi(a,pa())};Ci.F=0;Ci.I=function(a){return this.j(E(a))};
var Di=function Di(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Di.j(0<c.length?new H(c.slice(0),0,null):null)};Di.j=function(a){return Ai(a,T.i(pa(),ra,!1))};Di.F=0;Di.I=function(a){return this.j(E(a))};var Ei=function Ei(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ei.j(0<c.length?new H(c.slice(0),0,null):null)};Ei.j=function(a){return Bi(a,T.i(pa(),ra,!1))};Ei.F=0;Ei.I=function(a){return this.j(E(a))};
function Iu(a){Hu(Ai(a,pa()));x(Jk)&&(a=pa(),Hu("\n"),C.h(a,qa))}function Fi(a){return a instanceof B?sc.h(null,fe(a)):ee.h(null,fe(a))}
function Gi(a){if(x(!1)){var b=E(a),c=E(b),d=I(c);J(c);S(d,0,null);S(d,1,null);c=cd(a);for(a=null;;){d=a;b=E(b);a=I(b);var e=J(b),f=a;a=S(f,0,null);b=S(f,1,null);if(x(f))if(a instanceof D||a instanceof B)if(x(d))if(K.h(d,de(a)))c=T.i(c,Fi(a),b),a=d,b=e;else return null;else if(d=de(a),x(d))c=T.i(c,Fi(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,X,[d,c],null)}}else return null}
function Hi(a,b,c,d,e){return oi(d,function(f,h,k){var l=lb(f);c.i?c.i(l,h,k):c.call(null,l,h,k);Jb(h," ");f=mb(f);return c.i?c.i(f,h,k):c.call(null,f,h,k)},[A.g(a),"{"].join(""),", ","}",e,E(b))}function wi(a,b,c,d){var e=pd(a)?Gi(a):null,f=S(e,0,null);e=S(e,1,null);return x(f)?Hi(["#:",A.g(f)].join(""),e,b,c,d):Hi(null,a,b,c,d)}sf.prototype.ca=t;sf.prototype.O=function(a,b,c){Jb(b,"#object[cljs.core.Volatile ");vi(new w(null,1,[Ii,this.state],null),b,c);return Jb(b,"]")};H.prototype.ca=t;
H.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};ge.prototype.ca=t;ge.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Vf.prototype.ca=t;Vf.prototype.O=function(a,b,c){return oi(b,vi,"["," ","]",c,this)};th.prototype.ca=t;th.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};jh.prototype.ca=t;jh.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};xh.prototype.ca=t;xh.prototype.O=function(a,b,c){return oi(b,vi,"["," ","]",c,this)};
wg.prototype.ca=t;wg.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};zc.prototype.ca=t;zc.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};gg.prototype.ca=t;gg.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};be.prototype.ca=t;be.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Tc.prototype.ca=t;Tc.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Zh.prototype.ca=t;
Zh.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};oh.prototype.ca=t;oh.prototype.O=function(a,b,c){return wi(this,vi,b,c)};lh.prototype.ca=t;lh.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};xu.prototype.ca=t;xu.prototype.O=function(a,b,c){return oi(b,vi,"["," ","]",c,this)};Gh.prototype.ca=t;Gh.prototype.O=function(a,b,c){return wi(this,vi,b,c)};Qh.prototype.ca=t;Qh.prototype.O=function(a,b,c){return oi(b,vi,"#{"," ","}",c,this)};oe.prototype.ca=t;
oe.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};of.prototype.ca=t;of.prototype.O=function(a,b,c){Jb(b,"#object[cljs.core.Atom ");vi(new w(null,1,[Ii,this.state],null),b,c);return Jb(b,"]")};Nh.prototype.ca=t;Nh.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};wh.prototype.ca=t;wh.prototype.O=function(a,b,c){return oi(b,vi,"["," ","]",c,this)};yf.prototype.ca=t;yf.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};W.prototype.ca=t;
W.prototype.O=function(a,b,c){return oi(b,vi,"["," ","]",c,this)};mg.prototype.ca=t;mg.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Zd.prototype.ca=t;Zd.prototype.O=function(a,b){return Jb(b,"()")};ng.prototype.ca=t;ng.prototype.O=function(a,b,c){return oi(b,vi,"#queue ["," ","]",c,E(this))};w.prototype.ca=t;w.prototype.O=function(a,b,c){return wi(this,vi,b,c)};$h.prototype.ca=t;$h.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Ze.prototype.ca=t;
Ze.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};Mh.prototype.ca=t;Mh.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};bd.prototype.ca=t;bd.prototype.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};B.prototype.Wb=t;B.prototype.Nb=function(a,b){if(b instanceof B)return rc(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};D.prototype.Wb=t;
D.prototype.Nb=function(a,b){if(b instanceof D)return ce(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};xu.prototype.Wb=t;xu.prototype.Nb=function(a,b){if(rd(b))return zd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};W.prototype.Wb=t;W.prototype.Nb=function(a,b){if(rd(b))return zd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};Vf.prototype.Wb=t;
Vf.prototype.Nb=function(a,b){if(rd(b))return zd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};xh.prototype.Wb=t;xh.prototype.Nb=function(a,b){if(rd(b))return zd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};wh.prototype.Wb=t;wh.prototype.Nb=function(a,b){if(rd(b))return zd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};
function Ju(a){return function(b,c){b=a.h?a.h(b,c):a.call(null,b,c);return Gc(b)?new Fc(b):b}}function Ku(a){var b=Ju(a);return function(){function c(h,k){return Ga(b,h,k)}function d(h){return a.g?a.g(h):a.call(null,h)}function e(){return a.C?a.C():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.g=d;f.h=c;return f}()}
function Ji(a,b){this.sa=a;this.Pc=b;this.s=2173173760;this.H=131072}g=Ji.prototype;g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return M(this,b,0)};a.h=function(b,c){return M(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return O(this,c,N(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return O(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return O(this,c,d)};return b}();g.Ba=function(){var a=this.sa,b=Se(this.Pc);return $e(a,b)};g.T=function(){var a=this.sa;var b=Se(this.Pc);a=$e(a,b);a=Ye(a);return E(x(a)?a:wc)};
g.ja=function(a,b){a=Jd(b);b=this.Pc;return Kd(this.sa,a,a.C?a.C():a.call(null),b)};g.ka=function(a,b,c){return Kd(this.sa,Jd(b),c,this.Pc)};g.O=function(a,b,c){return oi(b,vi,"("," ",")",c,this)};function Ki(a,b){return new Ji(a,b)}Ji.prototype[Da]=function(){return yc(this)};function Li(){}
function Mi(a){if(null!=a&&null!=a.Vd)a=a.Vd(a);else{var b=Mi[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Mi._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}function Ni(a,b){return(null!=a?t===a.Ud||(a.Cd?0:y(Li,a)):y(Li,a))?Mi(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof B?b.g?b.g(a):b.call(null,a):Y.j(Q([a]))}
var Oi=function Oi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Oi.j(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
Oi.j=function(a,b){b=Ie(b);var c=C.i(b,Pi,fe),d=function h(f){if(null==f)return null;if(null!=f?t===f.Ud||(f.Cd?0:y(Li,f)):y(Li,f))return Mi(f);if(f instanceof D)return c.g?c.g(f):c.call(null,f);if(f instanceof B)return A.g(f);if(pd(f)){var k={};f=E(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.R(null,n),r=S(p,0,null),u=S(p,1,null);p=k;r=Ni(r,d);u=h(u);p[r]=u;n+=1}else if(f=E(f))sd(f)?(m=Ub(f),f=Vb(f),l=m,m=N(m)):(l=I(f),m=S(l,0,null),n=S(l,1,null),l=k,m=Ni(m,d),n=h(n),l[m]=n,f=J(f),l=null,m=0),n=0;
else break;return k}if(md(f)){k=[];f=E(tf.h(h,f));l=null;for(n=m=0;;)if(n<m)p=l.R(null,n),k.push(p),n+=1;else if(f=E(f))l=f,sd(l)?(f=Ub(l),n=Vb(l),l=f,m=N(f),f=n):(f=I(l),k.push(f),f=J(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Oi.F=1;Oi.I=function(a){var b=I(a);a=J(a);return this.j(b,a)};var Qi=function Qi(a){switch(arguments.length){case 0:return Qi.C();case 1:return Qi.g(arguments[0]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Qi.C=function(){return Qi.g(1)};
Qi.g=function(a){return Math.random()*a};Qi.F=1;function Ri(a){return Math.floor(Math.random()*a)}function Lu(a,b){return Ob(Ga(function(c,d){var e=a.g?a.g(d):a.call(null,d);return we(c,e,$c.h(C.i(c,e,ad),d))},Mb(V),b))}var Si=null;function Ti(){null==Si&&(Si=pf(new w(null,3,[Ui,V,Vi,V,Wi,V],null)));return Si}
function Xi(a,b,c){var d=K.h(b,c);if(d)return d;d=Wi.g(a);d=d.g?d.g(b):d.call(null,b);if(!(d=xd(d,c))&&(d=rd(c)))if(d=rd(b))if(d=N(c)===N(b)){d=!0;for(var e=0;;)if(d&&e!==N(c))d=Xi(a,b.g?b.g(e):b.call(null,e),c.g?c.g(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Yi(a){var b=qb(Ti());return Ke(C.h(Ui.g(b),a))}function Zi(a,b,c,d){rf.h(a,function(){return qb(b)});rf.h(c,function(){return qb(d)})}
var $i=function $i(a,b,c){var e=function(){var f=qb(c);return f.g?f.g(a):f.call(null,a)}();e=x(x(e)?e.g?e.g(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Yi(b);;)if(0<N(f)){var h=I(f);$i.i?$i.i(a,h,c):$i.call(null,a,h,c);f=vc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Yi(a);;)if(0<N(f)){var h=I(f);$i.i?$i.i(h,b,c):$i.call(null,h,b,c);f=vc(f)}else return null}();return x(e)?e:!1};function aj(a,b,c,d){c=$i(a,b,c);return x(c)?c:Xi(d,a,b)}
var bj=function bj(a,b,c,d,e,f,h,k){var m=Ga(function(p,r){var u=S(r,0,null);S(r,1,null);if(Xi(qb(c),b,u)){p=null==p||aj(u,I(p),e,qb(c))?r:p;if(!aj(I(p),u,e,qb(c)))throw Error(["Multiple methods in multimethod '",A.g(a),"' match dispatch value: ",A.g(b)," -\x3e ",A.g(u)," and ",A.g(I(p)),", and neither is preferred"].join(""));return p}return p},null,qb(d)),n=function(){var p;if(p=null==m)p=qb(d),p=p.g?p.g(k):p.call(null,k);return x(p)?new W(null,2,5,X,[k,p],null):m}();if(x(n)){if(K.h(qb(h),qb(c)))return rf.A(f,
T,b,Yc(n)),Yc(n);Zi(f,d,h,c);return bj.Sa?bj.Sa(a,b,c,d,e,f,h,k):bj.call(null,a,b,c,d,e,f,h,k)}return null};function cj(a,b){throw Error(["No method in multimethod '",A.g(a),"' for dispatch value: ",A.g(b)].join(""));}function dj(a,b,c,d,e,f,h){var k=ej;this.name=a;this.K=b;this.me=k;this.Qc=c;this.Tc=d;this.se=e;this.Sc=f;this.Lc=h;this.s=4194305;this.H=4352}g=dj.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.i(arguments[1],arguments[2],arguments[3]);case 4:return this.A(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.M(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.gb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.wc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.C=function(){var a=this.K.C?this.K.C():this.K.call(null),b=fj(this,a);x(b)||cj(this.name,a);return b.C?b.C():b.call(null)};g.g=function(a){var b=this.K.g?this.K.g(a):this.K.call(null,a),c=fj(this,b);x(c)||cj(this.name,b);return c.g?c.g(a):c.call(null,a)};
g.h=function(a,b){var c=this.K.h?this.K.h(a,b):this.K.call(null,a,b),d=fj(this,c);x(d)||cj(this.name,c);return d.h?d.h(a,b):d.call(null,a,b)};g.i=function(a,b,c){var d=this.K.i?this.K.i(a,b,c):this.K.call(null,a,b,c),e=fj(this,d);x(e)||cj(this.name,d);return e.i?e.i(a,b,c):e.call(null,a,b,c)};g.A=function(a,b,c,d){var e=this.K.A?this.K.A(a,b,c,d):this.K.call(null,a,b,c,d),f=fj(this,e);x(f)||cj(this.name,e);return f.A?f.A(a,b,c,d):f.call(null,a,b,c,d)};
g.M=function(a,b,c,d,e){var f=this.K.M?this.K.M(a,b,c,d,e):this.K.call(null,a,b,c,d,e),h=fj(this,f);x(h)||cj(this.name,f);return h.M?h.M(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.na=function(a,b,c,d,e,f){var h=this.K.na?this.K.na(a,b,c,d,e,f):this.K.call(null,a,b,c,d,e,f),k=fj(this,h);x(k)||cj(this.name,h);return k.na?k.na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.jb=function(a,b,c,d,e,f,h){var k=this.K.jb?this.K.jb(a,b,c,d,e,f,h):this.K.call(null,a,b,c,d,e,f,h),l=fj(this,k);x(l)||cj(this.name,k);return l.jb?l.jb(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.Sa=function(a,b,c,d,e,f,h,k){var l=this.K.Sa?this.K.Sa(a,b,c,d,e,f,h,k):this.K.call(null,a,b,c,d,e,f,h,k),m=fj(this,l);x(m)||cj(this.name,l);return m.Sa?m.Sa(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.kb=function(a,b,c,d,e,f,h,k,l){var m=this.K.kb?this.K.kb(a,b,c,d,e,f,h,k,l):this.K.call(null,a,b,c,d,e,f,h,k,l),n=fj(this,m);x(n)||cj(this.name,m);return n.kb?n.kb(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ya=function(a,b,c,d,e,f,h,k,l,m){var n=this.K.Ya?this.K.Ya(a,b,c,d,e,f,h,k,l,m):this.K.call(null,a,b,c,d,e,f,h,k,l,m),p=fj(this,n);x(p)||cj(this.name,n);return p.Ya?p.Ya(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Za=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.K.Za?this.K.Za(a,b,c,d,e,f,h,k,l,m,n):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n),r=fj(this,p);x(r)||cj(this.name,p);return r.Za?r.Za(a,b,c,d,e,f,h,k,l,m,n):r.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p){var r=this.K.$a?this.K.$a(a,b,c,d,e,f,h,k,l,m,n,p):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p),u=fj(this,r);x(u)||cj(this.name,r);return u.$a?u.$a(a,b,c,d,e,f,h,k,l,m,n,p):u.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.ab=function(a,b,c,d,e,f,h,k,l,m,n,p,r){var u=this.K.ab?this.K.ab(a,b,c,d,e,f,h,k,l,m,n,p,r):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r),v=fj(this,u);x(v)||cj(this.name,u);return v.ab?v.ab(a,b,c,d,e,f,h,k,l,m,n,p,r):v.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r)};
g.bb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u){var v=this.K.bb?this.K.bb(a,b,c,d,e,f,h,k,l,m,n,p,r,u):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u),G=fj(this,v);x(G)||cj(this.name,v);return G.bb?G.bb(a,b,c,d,e,f,h,k,l,m,n,p,r,u):G.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u)};
g.cb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v){var G=this.K.cb?this.K.cb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v),F=fj(this,G);x(F)||cj(this.name,G);return F.cb?F.cb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v):F.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v)};
g.eb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G){var F=this.K.eb?this.K.eb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G),R=fj(this,F);x(R)||cj(this.name,F);return R.eb?R.eb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G):R.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G)};
g.fb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F){var R=this.K.fb?this.K.fb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F),aa=fj(this,R);x(aa)||cj(this.name,R);return aa.fb?aa.fb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F):aa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F)};
g.gb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R){var aa=this.K.gb?this.K.gb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R),ja=fj(this,aa);x(ja)||cj(this.name,aa);return ja.gb?ja.gb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R):ja.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R)};
g.hb=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa){var ja=this.K.hb?this.K.hb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa),ta=fj(this,ja);x(ta)||cj(this.name,ja);return ta.hb?ta.hb(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa):ta.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa)};
g.ib=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja){var ta=this.K.ib?this.K.ib(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja),La=fj(this,ta);x(La)||cj(this.name,ta);return La.ib?La.ib(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja):La.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja)};
g.wc=function(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta){var La=He(this.K,a,b,c,d,Q([e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta])),Yb=fj(this,La);x(Yb)||cj(this.name,La);return He(Yb,a,b,c,d,Q([e,f,h,k,l,m,n,p,r,u,v,G,F,R,aa,ja,ta]))};function gj(a,b,c){rf.A(a.Tc,T,b,c);Zi(a.Sc,a.Tc,a.Lc,a.Qc)}function fj(a,b){K.h(qb(a.Lc),qb(a.Qc))||Zi(a.Sc,a.Tc,a.Lc,a.Qc);var c=qb(a.Sc);c=c.g?c.g(b):c.call(null,b);return x(c)?c:bj(a.name,b,a.Qc,a.Tc,a.se,a.Sc,a.Lc,a.me)}g.xc=function(){return Wb(this.name)};g.yc=function(){return Xb(this.name)};
g.U=function(){return da(this)};function hj(a){this.nc=a;this.B=null;this.s=2153775104;this.H=2048}g=hj.prototype;g.ge=t;g.toString=function(){return this.nc};g.equiv=function(a){return this.G(null,a)};g.G=function(a,b){return(a=null!=b?t===b.ge?!0:!1:!1)?this.nc===b.nc:a};g.O=function(a,b){return Jb(b,['#uuid "',A.g(this.nc),'"'].join(""))};g.U=function(){null==this.B&&(this.B=pc(this.nc));return this.B};
g.Nb=function(a,b){if(b instanceof hj)return ka(this.nc,b.nc);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};function ij(a,b,c){var d=Error(a);this.message=a;this.data=b;this.cause=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}ij.prototype.__proto__=Error.prototype;ij.prototype.ca=t;
ij.prototype.O=function(a,b,c){Jb(b,"#error {:message ");vi(this.message,b,c);x(this.data)&&(Jb(b,", :data "),vi(this.data,b,c));x(this.cause)&&(Jb(b,", :cause "),vi(this.cause,b,c));return Jb(b,"}")};ij.prototype.toString=function(){return gc(this)};function Z(a,b){return new ij(a,b,null)}"undefined"!==typeof console&&po();po();var jj=new D(null,"nil","nil",99600501),kj=new B(null,"ground","ground",-1460862835,null),lj=new B(null,"rand-int","rand-int",-495012157,null),Mu=new D(null,"return-map","return-map",1620104901),mj=new B("datascript","Datom","datascript/Datom",-901340080,null),nj=new B(null,"not\x3d","not\x3d",1466536204,null),oj=new D(null,"line","line",212345235),qj=new D(null,"old","old",-1825222690),rj=new D(null,"string","string",-1989541586),sj=new B(null,"missing?","missing?",-1710383910,null),tj=new D(null,
"pattern","pattern",242135423),uj=new D(null,"binary?","binary?",-589404570),vj=new B(null,"set","set",1945134081,null),wj=new D(null,"reader-exception","reader-exception",-1938323098),xj=new D("db.fn","retractAttribute","db.fn/retractAttribute",937402164),yj=new D(null,"thaw-bytes","thaw-bytes",-148748088),zj=new B(null,"js","js",-886355190,null),Dj=new B(null,"uuid","uuid",-504564192,null),Fj=new B("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),ua=new D(null,"dup","dup",
556298533),Nu=new D(null,"tuples","tuples",-676032639),Gj=new D(null,"operation","operation",-1267664310),Ou=new D("parser","rule-var","parser/rule-var",-1584354459),Hj=new D(null,"sqlite","sqlite",1450998204),Ij=new B(null,"hash-map","hash-map",-439030950,null),ra=new D(null,"readably","readably",1129599760),Jj=new B(null,"true?","true?",-1600332395,null),Kj=new D("db.unique","identity","db.unique/identity",1675950722),Pu=new D(null,"required","required",1807647006),Qu=new D(null,"branches","branches",
-1240337268),Lj=new B(null,"rem","rem",664046770,null),Mj=new D(null,"avet","avet",1383857032),Nj=new D(null,"thaw-str","thaw-str",-1420804127),Oj=new D("db","retract","db/retract",-1549825231),Ru=new B(null,"limit","limit",284709164,null),Su=new D(null,"fn","fn",-1175266204),Pj=new D(null,"entity","entity",-450970276),Qj=new D(null,"h2","h2",-372662728),Rj=new D("transact","cas","transact/cas",816687170),Sj=new B("clojure.string","blank?","clojure.string/blank?",1772874244,null),Tj=new B(null,"Inf",
"Inf",647172781,null),Uj=new D(null,"new","new",-2085437848),Vj=new B(null,"nil?","nil?",1612038930,null),Wj=new B(null,"false?","false?",-1522377573,null),Xj=new B("datascript.storage","-list-addresses","datascript.storage/-list-addresses",-14224717,null),Yj=new D(null,"index-access","index-access",-1548960265),Tu=new D("db.pull","attr","db.pull/attr",-533298746),Zj=new D(null,"index","index",-1531685915),ak=new B(null,"inc","inc",324505433,null),ej=new D(null,"default","default",-1987822328),bk=
new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),Uu=new D(null,"db","db",993250759),ck=new D(null,"strable","strable",1877668047),dk=new D(null,"ex-kind","ex-kind",1581199296),Vu=new D(null,"strs","strs",1175537277),ek=new D(null,"listeners","listeners",394544445),fk=new D(null,"col","col",-1959363084),gk=new B(null,"or","or",1876275696,null),hk=new D(null,"eavt","eavt",-666437073),ik=new B(null,"re-find","re-find",1143444147,null),Wu=new D("db.pull","wildcard","db.pull/wildcard",116316031),
jk=new D(null,"pull-patterns","pull-patterns",-343695048),kk=new B(null,"rand","rand",-1745930995,null),Xu=new D("parser","in","parser/in",1617442048),Yu=new D(null,"qin","qin",1372651151),lk=new D(null,"max-eid","max-eid",2134868075),mk=new D(null,"map","map",1371690461),nk=new D("db.cardinality","one","db.cardinality/one",1428352190),ok=new B(null,"dec","dec",-766002333,null),pk=new D(null,"bind","bind",-113428417),qk=new D(null,"as","as",1148689641),Zu=new B(null,"default","default",-347290801,
null),rk=new B(null,"tuple","tuple",1167864243,null),sk=new D(null,"init-db","init-db",1595181278),tk=new D(null,"readers","readers",-2118263030),$u=new D(null,"opts","opts",155075701),vk=new D("transact","upsert","transact/upsert",412688078),av=new D(null,"qreturn-map","qreturn-map",1841215994),wk=new D(null,"hash","hash",-13781596),xk=new D(null,"column","column",2078222095),yk=new D(null,"op","op",-1882987955),zk=new D(null,"xform","xform",-1725711008),Ak=new B(null,"stddev","stddev",775056588,
null),bv=new D(null,"symbols","symbols",1211743),Bk=new B(null,"prn-str","prn-str",-145225943,null),Ck=new B(null,"pr-str","pr-str",-2066912145,null),Dk=new D("db","retractEntity","db/retractEntity",-1452737935),Ek=new D(null,"error","error",-978969032),Fk=new D(null,"entity-id","entity-id",1485898093),Gk=new D(null,"eof","eof",-489063237),Hk=new B(null,"max","max",1701898075,null),cv=new B(null,"not-join","not-join",-645515756,null),Ik=new B(null,"compare","compare",1109853757,null),dv=new D(null,
"qwith","qwith",-45809392),ev=new D(null,"age","age",-604307804),Kk=new B(null,"even?","even?",-1827825394,null),Lk=new B(null,"neg?","neg?",-1902175577,null),fv=new D(null,"fragment","fragment",826775688),gv=new D(null,"args","args",1315556576),Mk=new D(null,"tx-data","tx-data",934159761),Nk=new D(null,"postgresql","postgresql",-1568339962),Ok=new B(null,"list","list",-1889078086,null),Pk=new D(null,"attribute","attribute",-2074029119),hv=new D(null,"form","form",-1624062471),Qk=new B(null,"range",
"range",-1014743483,null),Rk=new D(null,"multival?","multival?",1072388383),iv=new D(null,"where","where",-2044795965),jv=new D(null,"with","with",-1536296876),kv=new D(null,"used-args","used-args",23596256),lv=new D("parser","pull","parser/pull",-2147427204),Sk=new B(null,"-Inf","-Inf",-2123243689,null),Tk=new D("datascript.db","internal","datascript.db/internal",-249301114),Uk=new D(null,"expected","expected",1583670997),Vk=new D(null,"schema","schema",-1582001791),mv=new D("parser","rule-vars",
"parser/rule-vars",-1493174969),Wk=new D(null,"rschema","rschema",-1196134054),Xk=new B(null,"pos?","pos?",-244377722,null),Yk=new D(null,"list","list",765357683),nv=new D(null,"rules","rules",1198912366),Ui=new D(null,"parents","parents",-2027538891),ov=new D(null,"variable","variable",-281346492),pv=new D(null,"source","source",-433931539),qv=new D(null,"qwhere","qwhere",-1645067378),Zk=new D("db","cas","db/cas",-451542322),$k=new D(null,"reverse-attrs","reverse-attrs",630097702),al=new D(null,
"file","file",-1269645878),bl=new D(null,"value","value",305978217),cl=new D(null,"keyword","keyword",811389747),dl=new B(null,"NaN","NaN",666918153,null),el=new D("db","ident","db/ident",-737096),rv=new D(null,"acc","acc",838566312),fl=new D(null,"tempids","tempids",1767509089),gl=new D("schema","validation","schema/validation",1178447161),sv=new D(null,"got","got",-1674745710),hl=new D("db","attrTuples","db/attrTuples",860541631),il=new B(null,"re-seq","re-seq",-2105554076,null),jl=new D(null,"datasource",
"datasource",-246060221),tv=new D(null,"id","id",-1388402092),kl=new B(null,"complement","complement",-913606051,null),uv=new D(null,"in","in",-1531184865),ll=new D(null,"set","set",304602554),ml=new D("lookup-ref","unique","lookup-ref/unique",-960647710),vv=new D(null,"rule-vars","rule-vars",1665972520),nl=new D(null,"max-tx","max-tx",1119558339),ol=new D("db","valueType","db/valueType",1827971944),pl=new B(null,"keyword","keyword",-1843046022,null),wv=new D(null,"qfind","qfind",1529332972),ql=new B(null,
"queue","queue",-1198599890,null),xv=new D("parser","rule","parser/rule",-464044566),rl=new B(null,"identical?","identical?",-745864205,null),sl=new B(null,"array-map","array-map",1555038968,null),tl=new D(null,"first-attr","first-attr",-1993039831),ul=new B(null,"odd?","odd?",-1458588199,null),vl=new D(null,"component?","component?",407783990),wl=new D(null,"ref?","ref?",1932693720),sa=new D(null,"meta","meta",1499536964),xl=new B(null,"median","median",-2084869638,null),yv=new B(null,"$","$",-1580747756,
null),zv=new B(null,"%","%",-950237169,null),yl=new B(null,"*","*",345799209,null),va=new D(null,"print-length","print-length",1931866356),zl=new D(null,"reverse?","reverse?",-1672868474),Al=new B("clojure.string","includes?","clojure.string/includes?",-1842146260,null),Bl=new B(null,"+","+",-740910886,null),Av=new B(null,".",".",1975675962,null),Bv=new D(null,"prefix-context","prefix-context",-1269613591),Cl=new B(null,"-","-",-471816912,null),Dl=new B(null,"/","/",-1371932971,null),Cv=new D(null,
"keys","keys",1068423698),El=new B(null,"sum","sum",1777518341,null),Fl=new B(null,"min","min",2085523049,null),Gl=new B(null,"count","count",-514511684,null),Hl=new D(null,"aevt","aevt",-585148059),Il=new D(null,"v","v",21465059),Ml=new B(null,"not-empty","not-empty",2029453590,null),Dv=new D("parser","find","parser/find",-801023103),Nl=new D("transact","syntax","transact/syntax",-299207078),Ev=new D(null,"attr","attr",-604132353),Wi=new D(null,"ancestors","ancestors",-776045424),Fv=new D(null,"recursion-limits",
"recursion-limits",1762857814),Gv=new B(null,"...","...",-1926939749,null),Hv=new D(null,"visitor","visitor",-1026865865),Xl=new D("db.type","tuple","db.type/tuple",938234914),Yl=new D("db.cardinality","many","db.cardinality/many",772806234),Iv=new D(null,"elements","elements",657646735),Jv=new D("query","inputs","query/inputs",1042810394),Zl=new D("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029),$l=new D("db","cardinality","db/cardinality",-104975659),Kv=new B(null,"aggregate",
"aggregate",-1142967327,null),Lv=new B(null,"_","_",-1201019570,null),am=new D("db","index","db/index",-1531680669),bm=new D("db","add","db/add",235286841),Mv=new D(null,"find","find",496279456),cm=new D(null,"freeze-str","freeze-str",-1159866328),dm=new D(null,"e","e",1381269198),em=new B(null,"re-pattern","re-pattern",1047705161,null),fm=new D(null,"ddl","ddl",1909871924),gm=new D(null,"a","a",-2123407586),hm=new B(null,"\x3c\x3d","\x3c\x3d",1244895369,null),im=new B(null,"\x3c","\x3c",993667236,
null),jm=new B(null,"\x3e","\x3e",1085014381,null),km=new D(null,"batch-size","batch-size",1203640735),lm=new B(null,"\x3d","\x3d",-1501502141,null),mm=new D(null,"table","table",-564943036),Nv=new D(null,"binding","binding",539932593),nm=new D(null,"pull-attrs","pull-attrs",-974863177),om=new D(null,"assertion","assertion",-1645134882),pm=new D(null,"hierarchy","hierarchy",-1053470341),qm=new D(null,"datoms","datoms",-290874434),rm=new B("datascript","DB","datascript/DB",-487332776,null),sm=new D("datascript.impl.entity",
"nf","datascript.impl.entity/nf",-953741353),tm=new D(null,"db-after","db-after",-571884666),um=new B(null,"\x3d\x3d","\x3d\x3d",-234118149,null),yi=new D(null,"fallback-impl","fallback-impl",-1501286995),vm=new D(null,"name","name",1843675177),wm=new D(null,"wildcard?","wildcard?",-686044101),Ov=new D(null,"syms","syms",-1575891762),Pv=new D("parser","where","parser/where",-966053850),xm=new D("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),ym=new D("query","where","query/where",
-1935159429),zm=new D(null,"tag","tag",-1290361223),Qv=new D(null,"*","*",-1294732318),Am=new B(null,"contains?","contains?",-1676812576,null),Rv=new D(null,"seen","seen",-518999789),Bm=new B(null,"count-distinct","count-distinct",-1566572514,null),Cm=new B(null,"and","and",668631710,null),Dm=new D(null,"illegal-argument","illegal-argument",-1845493170),Em=new B(null,"\x3e\x3d","\x3e\x3d",1016916022,null),Fm=new B("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),Pi=new D(null,
"keyword-fn","keyword-fn",-64566675),Sv=new D(null,"free","free",801364328),Tv=new B(null,"pull","pull",779986722,null),Gm=new B(null,"inst","inst",-2008473268,null),Hm=new D("db.unique","value","db.unique/value",276903088),Im=new D("db.fn","cas","db.fn/cas",-379352172),Jm=new B(null,"subs","subs",1453849536,null),Uv=new D("parser","binding","parser/binding",-346395752),Km=new B(null,"some?","some?",234752293,null),Lm=new B("datascript.storage","-store","datascript.storage/-store",-1879938067,null),
Mm=new D("db.fn","call","db.fn/call",-151594418),Nm=new D("db.fn","retractEntity","db.fn/retractEntity",-1423535441),Om=new B(null,"empty?","empty?",76408555,null),Pm=new B(null,"namespace","namespace",1263021155,null),Vv=new D("parser","query","parser/query",1877320671),Qm=new D(null,"context","context",-830191113),Wv=new B(null,"?e","?e",-1194391683,null),Xv=new D(null,"vars","vars",-2046957217),Rm=new B(null,"meta","meta",-1154898805,null),Vi=new D(null,"descendants","descendants",1824886031),
Sm=new B(null,"str","str",-1564826950,null),Tm=new B(null,"untuple","untuple",-606149900,null),Bu=new D("cljs.core","not-found","cljs.core/not-found",-1572889185),Um=new B(null,"print-str","print-str",-699700354,null),Vm=new D(null,"last-attr","last-attr",-526000708),Wm=new D(null,"conflict","conflict",1978796605),Ii=new D(null,"val","val",128701612),Xm=new B(null,"!\x3d","!\x3d",-201205829,null),Ym=new D("entity-id","missing","entity-id/missing",1234588374),Yv=new D(null,"rels","rels",1770187185),
Zm=new D(null,"vector","vector",1902966158),Zv=new D(null,"rule","rule",729973257),$m=new D(null,"validator","validator",-1966190681),an=new B(null,"get","get",-971253014,null),$v=new D(null,"var","var",-769682797),bn=new D(null,"mysql","mysql",-1431590210),aw=new D(null,"bindings","bindings",1271397192),cn=new B("datascript.storage","-delete","datascript.storage/-delete",1370195298,null),dn=new D("db","unique","db/unique",329396388),en=new D("db","fn","db/fn",-1175261470),bw=new D(null,"clauses",
"clauses",1454841241),qa=new D(null,"flush-on-newline","flush-on-newline",-151457939),cw=new D(null,"prefix-clauses","prefix-clauses",1294180028),fn=new B(null,"-differ?","-differ?",1465687357,null),gn=new D(null,"db-before","db-before",-553691536),hn=new D("db","isComponent","db/isComponent",423352398),dw=new D(null,"element","element",1974019749),jn=new D(null,"recursion-limit","recursion-limit",52345639),kn=new B(null,"name","name",-810760592,null),ln=new B(null,"identity","identity",-1007039734,
null),mn=new B(null,"db","db",-1661185010,null),nn=new B(null,"resolve-datom","resolve-datom",-294110827,null),on=new B(null,"vector","vector",-751469611,null),pn=new D("datascript.db","value-tempids","datascript.db/value-tempids",244806162),qn=new D(null,"datom","datom",-371556090),rn=new D(null,"character","character",380652989),sn=new B(null,"sample","sample",1719555128,null),tn=new D("transact","unique","transact/unique",-940992320),ew=new B(null,"or-join","or-join",591375469,null),un=new D(null,
"reader-error","reader-error",1610253121),vn=new D("entity-id","syntax","entity-id/syntax",1921317045),fw=new D("db.pull","reverse","db.pull/reverse",1999788297),wn=new B("datascript.storage","-restore","datascript.storage/-restore",708714346,null),xn=new D("db.type","ref","db.type/ref",-1728373079),yn=new D("db","tupleAttrs","db/tupleAttrs",250080092),zn=new B(null,"get-some","get-some",409442058,null),An=new D(null,"namespaced-map","namespaced-map",1235665380),Bn=new B(null,"not","not",1044554643,
null),Cn=new B(null,"avg","avg",1837937727,null),Dn=new D(null,"symbol","symbol",-1038572696),En=new D("db","current-tx","db/current-tx",1600722132),Fn=new B(null,"println-str","println-str",-2049216703,null),Gn=new B(null,"re-matches","re-matches",-1865705768,null),Hn=new B(null,"variance","variance",-1522424942,null),In=new B(null,"type","type",-1480165421,null),Jn=new D(null,"recursive?","recursive?",1340075244),gw=new D(null,"sources","sources",-321166424),Kn=new D(null,"attrs","attrs",-2090668713),
pi=new D(null,"more-marker","more-marker",-14717935),Ln=new D(null,"freeze-bytes","freeze-bytes",1959529049),Mn=new B(null,"distinct","distinct",-148347594,null),Nn=new B(null,"get-else","get-else",1312024065,null),On=new B(null,"mod","mod",1510044207,null),Pn=new D("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),Qn=new D(null,"components","components",-1073188942),hw=new D("parser","with","parser/with",-386255821),Rn=new D(null,"key","key",-1516042587),Sn=new D(null,"limit",
"limit",-1355822363),Tn=new B(null,"quot","quot",-1125214196,null),Un=new D(null,"type","type",1174270348),xi=new D(null,"alt-impl","alt-impl",670969595),iw=new D(null,"persistence","persistence",-203044807),Vn=new D(null,"tx-meta","tx-meta",1159283194),Wn=new B(null,"zero?","zero?",325758897,null),Xn=new D(null,"dbtype","dbtype",593488262),jw=new D(null,"pending-guards","pending-guards",-1255527308),kw=new D("query","binding","query/binding",698240489),Yn=new D("db","id","db/id",-1388397098);function Zn(a){var b=new na;for(a=E(a);;)if(null!=a)b.append(A.g(I(a))),a=J(a),null!=a&&b.append(" ");else return b.toString()};var $n=/[\s]/;function ao(a){return null==a?null:","===a?!0:$n.test(a)}function bo(a){return null==a?null:!/[^0-9]/.test(a)}
function co(a,b){return function e(d){return new ge(null,function(){for(;;){var f=E(d);if(f){if(sd(f)){var h=Ub(f),k=N(h),l=ne(k);return function(){for(var n=0;;)if(n<k){var p=Wa(h,n),r=l;if(p instanceof B||p instanceof D){var u=ji()(p),v=S(u,0,null);u=S(u,1,null);var G=p instanceof B?sc:ee;p=null==v?G.h?G.h(a,u):G.call(null,a,u):K.h("_",v)?G.g?G.g(u):G.call(null,u):p}r.add(p);n+=1}else return!0}()?pe(l.ma(),e(Vb(f))):pe(l.ma(),null)}var m=I(f);return P(m instanceof B||m instanceof D?function(){var n=
ji()(m),p=S(n,0,null);n=S(n,1,null);var r=m instanceof B?sc:ee;return null==p?r.h?r.h(a,n):r.call(null,a,n):K.h("_",p)?r.g?r.g(n):r.call(null,n):m}():m,e(vc(f)))}return null}},null,null)}(b)}function eo(a,b){a=parseInt(a,b);return x(isNaN(a))?-1:a};function fo(a){if(null!=a&&null!=a.ic)a=a.ic(a);else{var b=fo[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=fo._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("Reader.read-char",a);}return a}function go(a){if(null!=a&&null!=a.Bc)a=a.Bc(a);else{var b=go[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=go._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("Reader.peek-char",a);}return a}
function ho(a,b){if(null!=a&&null!=a.Dd)a.Dd(a,b);else{var c=ho[q(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=ho._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw z("IPushbackReader.unread",a);}}function io(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=io[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=io._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IndexingReader.get-line-number",a);}return a}
function jo(a){if(null!=a&&null!=a.ie)a=a.ie(a);else{var b=jo[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=jo._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IndexingReader.get-column-number",a);}return a}function ko(a){if(null!=a&&null!=a.je)a=a.je(a);else{var b=ko[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ko._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IndexingReader.get-file-name",a);}return a}
function lo(a,b){this.S=a;this.Pd=b;this.tc=0}lo.prototype.ic=function(){if(this.Pd>this.tc){var a=this.S.charAt(this.tc);this.tc+=1;return a}return null};lo.prototype.Bc=function(){return this.Pd>this.tc?this.S.charAt(this.tc):null};function mo(a,b){this.Nd=a;this.ec=b;this.xb=this.Yc=1}mo.prototype.ic=function(){var a=this.xb<this.Yc?this.ec[this.xb]:this.Nd.ic(null);this.xb<this.Yc&&(this.xb+=1);return null==a?null:Rd(a)};
mo.prototype.Bc=function(){var a=this.xb<this.Yc?this.ec[this.xb]:this.Nd.Bc(null);return null==a?null:Rd(a)};mo.prototype.Dd=function(a,b){if(x(b)){if(0===this.xb)throw Error("Pushback buffer is full");--this.xb;return this.ec[this.xb]=b}return null};function no(a){return null!=a?t===a.Ke?!0:!1:!1};function oo(a,b,c,d){var e=N(b);a=x(a)?0:10<e?10:e;b=tf.h(lf(mf,!0),uf(a,b));b=De(A,vf(1,Cf.h(zf(" "),b)));e=a<e?"...":null;return[A.g(c),A.g(b),e,A.g(d)].join("")}var mf,lw=pf(V),mw=pf(V),nw=pf(V),ow=pf(V),pw=C.i(V,pm,Ti.C?Ti.C():Ti.call(null));
mf=new dj(sc.h("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?jj:"string"===typeof b?rj:b instanceof D?ck:"number"===typeof b?ck:b instanceof B?ck:rd(b)?Zm:Yd(b)?Yk:pd(b)?mk:nd(b)?ll:K.h(b,!0)?ck:K.h(b,!1)?ck:Ba(b)},pw,lw,mw,nw,ow);gj(mf,rj,function(a,b){a=x(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',A.g(b.substring(0,a<d?a:d)),c].join("")});gj(mf,ck,function(a,b){return A.g(b)});gj(mf,H,function(){return"\x3cindexed seq\x3e"});gj(mf,wg,function(){return"\x3cmap seq\x3e"});
gj(mf,jh,function(){return"\x3cmap seq\x3e"});gj(mf,be,function(){return"\x3ccons\x3e"});gj(mf,ge,function(){return"\x3clazy seq\x3e"});gj(mf,jj,function(){return"nil"});gj(mf,Yk,function(a,b){return oo(a,b,"(",")")});gj(mf,mk,function(a,b){var c=N(b),d=x(a)?0:c;b=De(te,uf(d,b));return oo(a,b,"{",c>d?"...}":"}")});gj(mf,ll,function(a,b){return oo(a,b,"#{","}")});gj(mf,Zm,function(a,b){return oo(a,b,"[","]")});gj(mf,ej,function(a,b){return Y.j(Q([Ba(b)]))});function uo(a,b,c){b=new w(null,2,[Un,wj,dk,b],null);a=no(a)?T.j(b,al,ko(a),Q([oj,io(a),fk,jo(a)])):b;var d=al.g(a);b=oj.g(a);var e=fk.g(a);d=x(d)?[A.g(d)," "].join(""):null;b=x(b)?["[line ",A.g(b),", col ",A.g(e),"]"].join(""):null;c=Ge(A,d,b,x(x(d)?d:b)?" ":null,c);throw Z(c,a);}function vo(a,b){return uo(a,un,Q([De(A,b)]))}function wo(a,b){return uo(a,Dm,Q([De(A,b)]))}function xo(a,b){return uo(a,Gk,Q([De(A,b)]))}
function yo(a,b,c,d){vo(a,Q(["The map literal starting with ",mf.h(!1,I(d)),x(b)?[" on line ",A.g(b)," column ",A.g(c)].join(""):null," contains ",N(d)," form(s). Map literals must contain an even number of forms."]))}function zo(a,b,c){return vo(a,Q(["Invalid ",fe(b),": ",c,"."]))}function Ao(a,b,c){return vo(a,Q(["Invalid character: ",c," found while reading ",fe(b),"."]))}
function Bo(a,b){a:{var c=rj instanceof D?rj.ra:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",A.g(c)].join(""));}}return xo(a,Q(["Unexpected EOF reading ",fe(rj)," starting ",Ee(A,c,b),"."]))}function Co(a,b){return wo(a,Q(["Invalid digit ",b," in unicode character."]))}function Do(a){return vo(a,Q(["Octal escape sequence must be in range [0, 377]."]))}
function Eo(a,b){b=function(c){return function f(e){return new ge(null,function(){for(var h=e;;)if(h=E(h)){if(sd(h)){var k=Ub(h),l=N(k),m=ne(l);a:for(var n=0;;)if(n<l){var p=Wa(k,n),r=S(p,0,null);1<S(p,1,null)&&m.add(r);n+=1}else{k=!0;break a}return k?pe(m.ma(),f(Vb(h))):pe(m.ma(),null)}m=I(h);k=S(m,0,null);if(1<S(m,1,null))return P(k,f(vc(h)));h=vc(h)}else return null},null,null)}(ii(c))}(b);return Ge(A,a,1<N(b)?"s":null,": ",vf(1,Cf.h(zf(", "),b)))}
function Fo(a,b,c){b=fe(b);vo(a,Q([Eo([String(b.charAt(0)).toUpperCase()+String(b.slice(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function Go(a){for(var b=a.ic(null);;)if(ao.g?ao.g(b):ao.call(null,b))b=a.ic(null);else return b}var Ho=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,Io=/([-+]?[0-9]+)\/([0-9]+)/,Jo=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function Ko(a,b){a=li(a,b);return S(a,0,null)===b}
function Lo(a){if(Ko(Ho,a)){var b=bg(li(Ho,a));if(null!=(b.g?b.g(2):b.call(null,2)))a=0;else{a="-"===(b.g?b.g(1):b.call(null,1));b=null!=(b.g?b.g(3):b.call(null,3))?new W(null,2,5,X,[b.g?b.g(3):b.call(null,3),10],null):null!=(b.g?b.g(4):b.call(null,4))?new W(null,2,5,X,[b.g?b.g(4):b.call(null,4),16],null):null!=(b.g?b.g(5):b.call(null,5))?new W(null,2,5,X,[b.g?b.g(5):b.call(null,5),8],null):null!=(b.g?b.g(7):b.call(null,7))?new W(null,2,5,X,[b.g?b.g(7):b.call(null,7),parseInt(b.g?b.g(6):b.call(null,
6))],null):new W(null,2,5,X,[null,null],null);var c=b.g?b.g(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.g?b.g(1):b.call(null,1)),a=a?-1*b:b,a=x(isNaN(a))?null:a)}}else Ko(Jo,a)?(b=bg(li(Jo,a)),a=null!=(b.g?b.g(4):b.call(null,4))?parseFloat(b.g?b.g(1):b.call(null,1)):parseFloat(a)):Ko(Io,a)?(b=bg(li(Io,a)),a=b.g?b.g(1):b.call(null,1),b=b.g?b.g(2):b.call(null,2),a=x(li(/^\+/,a))?Xd.h(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function Mo(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Xd.i(a,0,b):null;if(null!=c){b+=1;if(b===N(a))return null;a=Xd.h(a,b);return bo(Qc(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,X,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,X,[null,a],null):null}
var No=function No(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return No.j(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};No.j=function(a){for(;;){var b=a.ic(null);if("\n"===b||"\n"===b||null==b)break}return a};No.F=1;No.I=function(a){var b=I(a);a=J(a);return this.j(b,a)};
function Oo(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new H(f,0,null)}return b.call(this,c,e)}function b(c){return vo(c,Q(["Unreadable form"]))}a.F=1;a.I=function(c){var d=I(c);c=vc(c);return b(d,c)};a.j=b;return a}()};new na;function Po(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?Qo.g?Qo.g(a):Qo.call(null,a):b:b:b}function Ro(a){return"@"===a||"`"===a||"~"===a}function So(a,b,c,d){if(ya(c))return xo(a,Q(["Unexpected EOF while reading start of ",fe(b),"."]));if(x(x(d)?Ro(c):d))return Ao(a,b,c);d=new na;for(ho(a,c);;){if(ao(c)||Po(c)||null==c)return A.g(d);if(Ro(c))return Ao(a,b,c);d.append(fo(a));c=go(a)}}
function To(a,b,c){b=fo(a);if(x(b)){var d=Uo.g?Uo.g(b):Uo.call(null,b);if(x(d))return d.i?d.i(a,b,c):d.call(null,a,b,c);ho(a,b);return Vo.i?Vo.i(a,b,c):Vo.call(null,a,b,c)}return xo(a,Q(["Unexpected EOF while reading dispatch character."]))}function Wo(a,b){return vo(a,Q(["Unmatched delimiter ",b,"."]))}
function Xo(a,b,c){b=1+b;if(N(a)!==b)throw wo(null,Q(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=eo(Qc(a,d),c);if(-1===f)return c=Qc(a,d),wo(null,Q(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function Yo(a,b,c,d,e){for(var f=1,h=eo(b,c);;){if(-1===h)return Co(a,b);if(f!==d){var k=go(a);var l=ao(k);l||(l=Qo.g?Qo.g(k):Qo.call(null,k),l=x(l)?l:null==k);if(x(l))return x(e)?wo(a,Q(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(h);l=eo(k,c);fo(a);if(-1===l)return Co(a,k);h=l+h*c;f+=1}else return String.fromCharCode(h)}}
function Zo(a){var b=fo(a);if(null!=b){b=Po(b)||Ro(b)||ao(b)?A.g(b):So(a,rn,b,!1);var c=b.length;if(1===c)return Qc(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(x(0==b.lastIndexOf("u",0)))return b=Xo(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=vo(a,Q(["Invalid character literal \\u",b,"."]))):a=b,a;if(x(0==b.lastIndexOf("o",0))){--c;if(3<c)return vo(a,Q(["Invalid octal escape sequence in a character literal: ",
b,". Octal escape sequences must be 3 or fewer digits."]));b=Xo(b,c,8);return 255<(b|0)?Do(a):b}return vo(a,Q(["Unsupported character: ",b,"."]))}return xo(a,Q(["Unexpected EOF while reading character."]))}function $o(a){return no(a)?new W(null,2,5,X,[io(a),(jo(a)|0)-1|0],null):null}
function ap(a,b,c,d){var e=$o(c),f=S(e,0,null);e=S(e,1,null);b=null==b?null:Rd(b);for(var h=Mb(ad);;){var k=Go(c);if(!x(k)){var l=c,m=a,n=f,p=e,r=N(h);xo(l,Q(["Unexpected EOF while reading ",x(r)?["item ",A.g(r)," of "].join(""):null,fe(m),x(n)?[", starting at line ",A.g(n)," and column ",A.g(p)].join(""):null,"."]))}if(K.h(b,null==k?null:Rd(k)))return Ob(h);l=Qo.g?Qo.g(k):Qo.call(null,k);x(l)?(k=l.i?l.i(c,k,d):l.call(null,c,k,d),h=k!==c?Nb(h,k):h):(ho(c,k),k=bp?bp(c,!0,null,d):cp.call(null,c,!0,
null,d),h=k!==c?Nb(h,k):h)}}function dp(a,b,c){a=ap(Yk,")",a,c);return ld(a)?wc:De(ae,a)}function gp(a,b,c){return ap(Zm,"]",a,c)}function hp(a,b,c){var d=$o(a);b=S(d,0,null);d=S(d,1,null);c=ap(mk,"}",a,c);var e=N(c),f=gi(2,c),h=Th(f);!cf(e)&&yo(a,b,d,c);K.h(N(h),N(f))||Fo(a,mk,f);if(e<=2*Bg)a=Bd(c),a=new w(null,a.length/2,a,null);else a:for(a=Bd(c),b=a.length,d=0,e=Mb(Cg);;)if(d<b)c=d+2,e=Pb(e,a[d],a[d+1]),d=c;else{a=Ob(e);break a}return a}
function sp(a,b){for(var c=function(){var h=new na;h.append(b);return h}(),d=fo(a);;){if(x(function(){var h=ao(d);if(h)return h;h=Qo.g?Qo.g(d):Qo.call(null,d);return x(h)?h:null==d}())){var e=A.g(c);ho(a,d);var f=Lo(e);return x(f)?f:vo(a,Q(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=fo(a);c=e;d=f}}
function tp(a){var b=fo(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=fo(a),-1===parseInt(b|0,16)?vo(a,Q(["Invalid unicode escape: \\u",b,"."])):Yo(a,b,16,4,!0);default:return bo(b)?(b=Yo(a,b,8,3,!1),255<(b|0)?Do(a):b):vo(a,Q(["Unsupported escape character: \\",b,"."]))}}
function up(a){for(var b=new na,c=fo(a);;){var d=c;if(K.h(null,d))return Bo(a,Q(['"',b]));if(K.h("\\",d)){d=function(){var f=b;f.append(tp(a));return f}();var e=fo(a);b=d;c=e}else{if(K.h('"',d))return A.g(b);d=function(){var f=b;f.append(c);return f}();e=fo(a);b=d;c=e}}}
function vp(a,b){b=So(a,Dn,b,!0);if(x(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Dl;default:var c=Mo(b);c=x(c)?sc.h(c.g?c.g(0):c.call(null,0),c.g?c.g(1):c.call(null,1)):null;return x(c)?c:zo(a,Dn,b)}else return null}
function wp(a){var b=fo(a);if(ao(b))return vo(a,Q(["A single colon is not a valid keyword."]));b=So(a,cl,b,!0);var c=Mo(b);if(x(x(c)?-1===b.indexOf("::"):c)){var d=c.g?c.g(0):c.call(null,0);c=c.g?c.g(1):c.call(null,1);return":"===Qc(b,0)?zo(a,cl,[":",A.g(b)].join("")):ee.h(d,c)}return zo(a,cl,[":",A.g(b)].join(""))}
function xp(a,b,c){b=bp?bp(a,!0,null,c):cp.call(null,a,!0,null,c);b=b instanceof D?ed([b,!0]):b instanceof B?new w(null,1,[zm,b],null):"string"===typeof b?new w(null,1,[zm,b],null):b;pd(b)||vo(a,Q(["Metadata cannot be ",mf.h(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=bp?bp(a,!0,null,c):cp.call(null,a,!0,null,c);return null!=c&&(c.s&131072||t===c.xd)?jd(c,Oh.j(Q([kd(c),b]))):vo(a,Q(["Metadata can not be applied to ",mf.h(!1,c),". ","Metadata can only be applied to IMetas."]))}
function yp(a,b,c){b=ap(ll,"}",a,c);c=Th(b);K.h(N(b),N(c))||Fo(a,ll,b);return c}function zp(a){bp?bp(a,!0,null,!0):cp.call(null,a,!0,null,!0);return a}
function Ap(a,b,c){b=fo(a);b=So(a,An,b,!0);var d=null==b?null:Mo(b);if(null==d)var e=null;else e=S(d,0,null),d=S(d,1,null),e=x(e)?null:d;return x(e)?"{"===Go(a)?(c=ap(An,"}",a,c),!cf(N(c))&&yo(a,null,null,c),b=co(A.g(e),gi(2,c)),c=gi(2,vc(c)),K.h(N(Th(b)),N(b))||Fo(a,An,b),Du(b,c)):vo(a,Q(["Namespaced map with namespace ",b," does not specify a map."])):vo(a,Q(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function Bp(a,b,c){b=bp?bp(a,!0,null,c):cp.call(null,a,!0,null,c);return K.h(dl,b)?Number.NaN:K.h(Sk,b)?Number.NEGATIVE_INFINITY:K.h(Tj,b)?Number.POSITIVE_INFINITY:vo(a,Q([["Invalid token: ##",A.g(b)].join("")]))}function Qo(a){switch(a){case '"':return up;case ":":return wp;case ";":return No;case "^":return xp;case "(":return dp;case ")":return Wo;case "[":return gp;case "]":return Wo;case "{":return hp;case "}":return Wo;case "\\":return Zo;case "#":return To;default:return null}}
function Uo(a){switch(a){case "^":return xp;case "{":return yp;case "\x3c":return Oo();case "!":return No;case "_":return zp;case ":":return Ap;case "#":return Bp;default:return null}}
function Vo(a,b,c){b=bp?bp(a,!0,null,c):cp.call(null,a,!0,null,c);var d=bp?bp(a,!0,null,c):cp.call(null,a,!0,null,c);b instanceof B||vo(a,Q(["Invalid reader tag: ",mf.h(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=C.h(tk.g(c),b);e=x(e)?e:V.g?V.g(b):V.call(null,b);if(x(e))return e.g?e.g(d):e.call(null,d);c=ej.g(c);return x(c)?c.h?c.h(b,d):c.call(null,b,d):vo(a,Q(["No reader function for tag ",mf.h(!1,b),"."]))}
function cp(a){switch(arguments.length){case 1:return Cp(V,arguments[0]);case 2:return Cp(arguments[0],arguments[1]);case 4:return bp(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Cp(a,b){a=Ie(a);var c=C.h(a,Gk),d=!xd(a,Gk);return bp(b,d,c,a)}
function bp(a,b,c,d){try{for(;;){var e=fo(a);if(!ao(e)){if(null==e){if(x(b)){b=a;var f=x(null)?xo(b,Q(["EOF while reading, starting at line ",null,"."])):xo(b,Q(["EOF while reading."]))}else f=c;return f}if(bo(e)||("+"===e||"-"===e)&&bo(a.Bc(null)))return sp(a,e);var h=Qo(e);if(x(h)){var k=h.i?h.i(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return vp(a,e)}}}catch(l){if(l instanceof Error){f=l;if(f instanceof ij){c=f instanceof ij?f.data:null;if(K.h(wj,Un.g(c)))throw f;b=f.message;a=Oh.j(Q([new w(null,
1,[Un,wj],null),c,no(a)?new w(null,3,[oj,io(a),xk,jo(a),al,ko(a)],null):null]));throw new ij(b,a,f);}b=f.message;a=Oh.j(Q([new w(null,1,[Un,wj],null),no(a)?new w(null,3,[oj,io(a),xk,jo(a),al,ko(a)],null):null]));throw new ij(b,a,f);}throw l;}}function Dp(a,b){if(x(x(b)?Je.h(b,""):b)){b=new lo(b,N(b));a:{var c=Array(1);if(Xs(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=I(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=Cp(a,new mo(b,c))}else a=null;return a};var Ep=function(){var a=new W(null,13,5,X,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new W(null,13,5,X,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return C.h(x(d)?b:a,c)}}(),Fp=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Gp(a){a=parseInt(a,10);return ya(isNaN(a))?a:null}
function Hp(a,b,c,d){if(!(a<=b&&b<=c))throw Error([A.g(d)," Failed:  ",A.g(a),"\x3c\x3d",A.g(b),"\x3c\x3d",A.g(c)].join(""));return b}
function Ip(a){var b=ki(Fp,a);S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null),f=S(b,4,null),h=S(b,5,null),k=S(b,6,null),l=S(b,7,null),m=S(b,8,null),n=S(b,9,null),p=S(b,10,null);if(ya(b))throw Error(["Unrecognized date/time syntax: ",A.g(a)].join(""));a=Gp(c);b=function(){var F=Gp(d);return x(F)?F:1}();c=function(){var F=Gp(e);return x(F)?F:1}();var r=function(){var F=Gp(f);return x(F)?F:0}(),u=function(){var F=Gp(h);return x(F)?F:0}(),v=function(){var F=Gp(k);return x(F)?F:0}(),G=function(){a:if(K.h(3,
N(l)))var F=l;else if(3<N(l))F=Xd.i(l,0,3);else for(F=new na(l);;)if(3>F.getLength())F=F.append("0");else{F=F.toString();break a}F=Gp(F);return x(F)?F:0}();m=(K.h(m,"-")?-1:1)*(60*function(){var F=Gp(n);return x(F)?F:0}()+function(){var F=Gp(p);return x(F)?F:0}());return new W(null,8,5,X,[a,Hp(1,b,12,"timestamp month field must be in range 1..12"),Hp(1,c,Ep(b,0===Td(a,4)&&(0!==Td(a,100)||0===Td(a,400))),"timestamp day field must be in range 1..last day in month"),Hp(0,r,23,"timestamp hour field must be in range 0..23"),
Hp(0,u,59,"timestamp minute field must be in range 0..59"),Hp(0,v,K.h(u,59)?60:59,"timestamp second field must be in range 0..60"),Hp(0,G,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var Jp=pf(null),Kp=pf(Oh.j(Q([new w(null,4,[Gm,function(a){if("string"===typeof a){var b=Ip(a);if(x(b)){a=S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null),f=S(b,4,null),h=S(b,5,null),k=S(b,6,null);b=S(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",A.g(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Dj,function(a){if("string"===typeof a)return new hj(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},ql,function(a){if(rd(a))return Gf.h(og,a);throw Error("Queue literal expects a vector for its elements.");},zj,function(a){if(rd(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e);b.push(f);e+=1}else if(a=E(a))c=a,sd(c)?(a=Ub(c),e=Vb(c),c=a,d=N(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(pd(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.R(null,e);f=S(h,0,null);h=S(h,1,null);var k=b;f=fe(f);k[f]=h;e+=1}else if(a=E(a))sd(a)?(d=Ub(a),a=Vb(a),c=d,
d=N(d)):(d=I(a),c=S(d,0,null),d=S(d,1,null),e=b,c=fe(c),e[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),V])));function qw(a){return Dp(new w(null,3,[tk,qb(Kp),ej,qb(Jp),Gk,null],null),a)}function Lp(a,b){return Dp(If.i(Oh.j(Q([new w(null,1,[ej,qb(Jp)],null),a])),tk,function(c){return Oh.j(Q([qb(Kp),c]))}),b)};function rw(a,b,c){if(Yd(c)){var d=De(ae,tf.h(a,c));return b.g?b.g(d):b.call(null,d)}return cg(c)?(d=new Vf(function(){var e=lb(c);return a.g?a.g(e):a.call(null,e)}(),function(){var e=mb(c);return a.g?a.g(e):a.call(null,e)}()),b.g?b.g(d):b.call(null,d)):Xs(c)?(d=Gu(tf.h(a,c)),b.g?b.g(d):b.call(null,d)):qd(c)?(d=Ga(function(e,f){return $c.h(e,a.g?a.g(f):a.call(null,f))},c,c),b.g?b.g(d):b.call(null,d)):md(c)?(d=Gf.h(cd(c),tf.h(a,c)),b.g?b.g(d):b.call(null,d)):b.g?b.g(c):b.call(null,c)}
var sw=function sw(a,b){return rw(lf(sw,a),a,b)};function tw(a,b){var c=Ee(Eu,a,b);return P(c,ku(function(d){return c===d},b))}function uw(a,b){return N(a)<N(b)?Ga($c,b,a):Ga($c,a,b)}var vw=function vw(a){switch(arguments.length){case 1:return vw.g(arguments[0]);case 2:return vw.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return vw.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};vw.g=function(a){return a};
vw.h=function(a,b){for(;;)if(N(b)<N(a)){var c=a;a=b;b=c}else return Ga(function(d,e){return function(f,h){return xd(e,h)?f:Ws.h(f,h)}}(a,b),a,a)};vw.j=function(a,b,c){a=tw(function(d){return-N(d)},$c.j(c,b,Q([a])));return Ga(vw,I(a),vc(a))};vw.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};vw.F=2;
var ww=function ww(a){switch(arguments.length){case 1:return ww.g(arguments[0]);case 2:return ww.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ww.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};ww.g=function(a){return a};ww.h=function(a,b){return N(a)<N(b)?Ga(function(c,d){return xd(b,d)?Ws.h(c,d):c},a,a):Ga(Ws,a,b)};ww.j=function(a,b,c){return Ga(ww,a,$c.h(c,b))};
ww.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};ww.F=2;function xw(a,b){return N(a)<=N(b)&&af(function(c){return xd(b,c)},a)};function Mp(a,b,c,d,e){this.kc=a;this.Kd=b;this.Ld=c;this.Jd=d;this.pa=e;this.s=2147484416;this.H=0}g=Mp.prototype;g.ua=function(a,b,c){return Np.i?Np.i(this,b,c):Np.call(null,this,b,c)};g.Ra=function(a,b){return gb(this.kc,b)};g.ia=function(a,b){return cb(this.kc,b,null)};g.P=function(a,b,c){return cb(this.kc,b,c)};g.O=function(a,b,c){return Lb(this.kc,b,c)};
function Np(a,b,c){var d=a.kc,e=a.Kd,f=a.Ld,h=a.Jd;a=a.pa;var k=f.h?f.h(b,null):f.call(null,b,null);if(x(k))return new Mp(d,T.i(fd.h(e,k),h,b),T.i(f,b,h),h+1,a);b=new Mp(T.i(d,b,c),T.i(e,h,b),T.i(f,b,h),h+1,a);return Op.g?Op.g(b):Op.call(null,b)}function Op(a){if(N(a.kc)>a.pa){var b=a.kc,c=a.Kd,d=a.Ld,e=a.Jd;a=a.pa;var f=I(c),h=S(f,0,null);f=S(f,1,null);return new Mp(fd.h(b,f),fd.h(c,h),fd.h(d,f),e,a)}return a}
function yw(a,b,c){if(null!=a&&null!=a.sf)a=a.sf(a,b,c);else{var d=yw[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=yw._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("ICache.-get",a);}return a}function Pp(a,b,c){this.pa=a;this.Rd=b;this.qe=c;this.s=393216;this.H=0}Pp.prototype.Y=function(a,b){return new Pp(this.pa,this.Rd,b)};Pp.prototype.X=function(){return this.qe};
Pp.prototype.sf=function(a,b,c){a=C.i(qb(this.Rd),b,null);if(null==a)return c=c.C?c.C():c.call(null),bc(this.Rd,T.i(qb(this.Rd),b,c)),c;bc(this.Rd,T.i(qb(this.Rd),b,a));return a};function Qp(){var a=new Mp(V,Lh(),V,0,100);return new Pp(100,new sf(a),V)};function Rp(a){return Ga(function(b,c){b.push(c);return b},[],a)}function zw(a){return a instanceof Array};var Sp=Math.pow(2,31),Tp=Math.pow(2,5),Up=Tp/2,Vp=Tp+Up>>>1,Wp=Tp-1,Xp=Rp(tf.h(function(a){return Math.pow(2,a)},fi.i(0,52,5)));function Yp(a,b){return 6>b?a>>>5*b&Wp:Math.floor(a/Xp[b])&Wp}function Zp(a,b,c){var d=a<Sp&&6>b,e=Yp(a,b);return a-(d?e<<5*b:e*Xp[b])+(d?c<<5*b:c*Xp[b])}function $p(a,b,c,d){for(var e=0,f=Sd(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.h?a.h(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}
function aq(a,b,c,d){for(var e=0,f=Sd(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.h?a.h(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function bq(a,b,c){var d=b.length,e=$p(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1}function cq(a,b,c){var d=b.length;a=$p(a,b,d-1,c);return a===d?-1:a}
function dq(a,b,c,d,e,f){var h=f.length,k=d-b,l=k+h,m=Array(k+h+(c-e));d-=b;for(var n=0;;)if(n<d)m[n+0]=a[n+b],n+=1;else break;b=h-0;for(h=0;;)if(h<b)m[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)m[f+l]=a[f+e],f+=1;else break;return m}function eq(a,b,c,d){return dq(a,0,a.length,b,c,d)}
function fq(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,l=0;;)if(l<k)h[l+0]=a[l+0],l+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(l=0;;)if(l<k)h[l+0]=a[l+0],l+=1;else break;k=c-f;for(l=0;;)if(l<k)e[l+0]=a[l+f],l+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function gq(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.h?a.h(h,k):a.call(null,h,k)))return!1;f+=1}else return f}function hq(a,b){return x(a)?x(b)?[a,b]:[a]:[b]}function iq(a,b,c){return x(a)?x(b)?x(c)?[a,b,c]:[a,b]:x(c)?[a,c]:[a]:x(b)?x(c)?[b,c]:[b]:[c]}
function jq(a){if(null!=a&&null!=a.hd)a=a.hd(a);else{var b=jq[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=jq._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INode.node-lim-key",a);}return a}function kq(a){if(null!=a&&null!=a.Md)a=a.keys.length;else{var b=kq[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=kq._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INode.node-len",a);}return a}
function lq(a,b){if(null!=a&&null!=a.kd)a=a.kd(a,b);else{var c=lq[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=lq._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("INode.node-merge",a);}return a}function mq(a,b){if(null!=a&&null!=a.ld)a=a.ld(a,b);else{var c=mq[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=mq._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("INode.node-merge-n-split",a);}return a}
function nq(a,b,c){if(null!=a&&null!=a.jd)a=a.jd(a,b,c);else{var d=nq[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=nq._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("INode.node-lookup",a);}return a}function oq(a,b,c){if(null!=a&&null!=a.fd)a=a.fd(a,b,c);else{var d=oq[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=oq._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("INode.node-conj",a);}return a}
function pq(a,b,c,d,e,f){if(null!=a&&null!=a.gd)a=a.gd(a,b,c,d,e,f);else{var h=pq[q(null==a?null:a)];if(null!=h)a=h.na?h.na(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=pq._,null!=h)a=h.na?h.na(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw z("INode.node-disj",a);}return a}
function qq(a,b,c,d){if(x(b))return[a];if(kq(a)>Up)return iq(c,a,d);if(x(x(c)?kq(c)<=Up:c))return hq(lq(c,a),d);if(x(x(d)?kq(d)<=Up:d))return hq(c,lq(a,d));if(x(x(c)?null==d||kq(c)<kq(d):c))return a=mq(c,a),iq(a[0],a[1],d);a=mq(a,d);return iq(c,a[0],a[1])}function rq(a,b){this.keys=a;this.ta=b}g=rq.prototype;g.hd=function(){var a=this.keys;return a[a.length-1]};g.Md=function(){return this.keys.length};g.kd=function(a,b){return new rq(this.keys.concat(b.keys),this.ta.concat(b.ta))};
g.ld=function(a,b){a=fq(this.keys,b.keys);b=fq(this.ta,b.ta);return hq(new rq(a[0],b[0]),new rq(a[1],b[1]))};g.jd=function(a,b,c){a=cq(b,this.keys,c);return-1===a?null:nq(this.ta[a],b,c)};g.fd=function(a,b,c){a=$p(b,this.keys,this.keys.length-2,c);c=oq(this.ta[a],b,c);if(x(c)){var d=this.keys,e=a+1,f=c.map(jq);b=gq(b,d,a,e,f,f.length)?d:eq(d,a,e,f);a=eq(this.ta,a,a+1,c);if(a.length<=Tp)return[new rq(b,a)];c=a.length>>>1;return[new rq(b.slice(0,c),a.slice(0,c)),new rq(b.slice(c),a.slice(c))]}return null};
g.gd=function(a,b,c,d,e,f){var h=cq(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.ta[h-1]:null;var k=h+1<this.ta.length?this.ta[h+1]:null;c=pq(this.ta[h],b,c,!1,a,k);if(x(c)){a=x(a)?h-1:h;h=x(k)?2+h:1+h;k=this.keys;var l=c.map(jq);b=gq(b,k,a,h,l,l.length)?k:eq(k,a,h,l);c=eq(this.ta,a,h,c);return qq(new rq(b,c),d,e,f)}return null};function sq(a){this.keys=a}g=sq.prototype;g.hd=function(){var a=this.keys;return a[a.length-1]};g.Md=function(){return this.keys.length};g.kd=function(a,b){return new sq(this.keys.concat(b.keys))};
g.ld=function(a,b){a=fq(this.keys,b.keys);return hq(new sq(a[0]),new sq(a[1]))};g.jd=function(a,b,c){a=bq(b,this.keys,c);return-1===a?null:this.keys[a]};g.fd=function(a,b,c){a=$p(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===Tp?(b=d+1>>>1,a>b?[new sq(this.keys.slice(0,b)),new sq(dq(this.keys,b,d,a,a,[c]))]:[new sq(dq(this.keys,0,b,a,a,[c])),new sq(this.keys.slice(b,d))]):[new sq(eq(this.keys,a,a,[c]))]};
g.gd=function(a,b,c,d,e,f){a=bq(b,this.keys,c);if(-1===a)return null;a=eq(this.keys,a,a+1,[]);return qq(new sq(a),d,e,f)};function tq(a,b,c,d,e,f){this.root=a;this.shift=b;this.m=c;this.zb=d;this.v=e;this.Ta=f;this.s=2297303311;this.H=8332}g=tq.prototype;g.toString=function(){return gc(this)};g.ia=function(a,b){return nq(this.root,this.zb,b)};g.P=function(a,b,c){a=nq(this.root,this.zb,b);return x(a)?a:c};g.O=function(a,b,c){return oi(b,vi,"#{"," ","}",c,E(this))};g.X=function(){return this.v};
g.W=function(){return this.m};g.yb=function(){return Ib(uq.g?uq.g(this):uq.call(null,this))};g.U=function(){var a=this.Ta;return null!=a?a:this.Ta=a=Cc(this)};g.G=function(a,b){var c=this;return nd(b)&&this.m===N(b)&&af(function(d){return xd(c,d)},b)};g.Xb=function(){return this};g.ba=function(){return new tq(new sq([]),0,0,this.zb,this.v,null)};g.qf=function(a,b){return Lq.i?Lq.i(this,b,this.zb):Lq.call(null,this,b,this.zb)};
g.ja=function(a,b){a=uq.g?uq.g(this):uq.call(null,this);return x(a)?vb(a,b):b.C?b.C():b.call(null)};g.ka=function(a,b,c){a=uq.g?uq.g(this):uq.call(null,this);return x(a)?vb(a,b,c):c};g.ac=function(a,b){return vq.i?vq.i(this,b,this.zb):vq.call(null,this,b,this.zb)};g.fc=function(){return this};g.T=function(){return uq.g?uq.g(this):uq.call(null,this)};g.Y=function(a,b){return new tq(this.root,this.shift,this.m,this.zb,b,this.Ta)};
g.aa=function(a,b){return vq.i?vq.i(this,b,this.zb):vq.call(null,this,b,this.zb)};g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return this.ia(null,a)};g.h=function(a,b){return this.P(null,a,b)};
function wq(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.ta[Yp(b,c)],--c;else return a.keys}function xq(a,b,c,d){return new tq(b,c,d,a.zb,a.v,null)}var yq=function yq(a,b,c){var e=Yp(b,c);if(0<c){var f=a.ta[e],h=c-1;b=yq.i?yq.i(f,b,h):yq.call(null,f,b,h);return null==b?e+1<a.ta.length?Zp(0,c,e+1):null:Zp(b,c,e)}return e+1<a.keys.length?Zp(0,0,e+1):null};function zq(a,b,c){for(var d=c;;)if(0<d)c=Zp(b,d,a.ta.length-1),--d,a=a.ta,a=a[a.length-1],b=c;else return Zp(b,0,a.keys.length-1)}
function Aq(a,b){if(0>b)return 0;b=yq(a.root,b,a.shift);return x(b)?b:zq(a.root,0,a.shift)+1}var Bq=function Bq(a,b,c){var e=Yp(b,c);if(0===c&&0===e)return null;if(0===c)return Zp(0,0,e-1);if(e>=kq(a))return zq(a,b,c);var f=a.ta[e];var h=c-1;f=Bq.i?Bq.i(f,b,h):Bq.call(null,f,b,h);return null!=f?Zp(f,c,e):0===e?null:Zp(zq(a.ta[e-1],b,c-1),c,e-1)};function Cq(a,b){if(0<Yp(b,a.shift+1))return zq(a.root,b,a.shift);a=Bq(a.root,b,a.shift);return x(a)?a:-1}
function uq(a){if(0<kq(a.root)){var b=Aq(a,zq(a.root,0,a.shift));return Dq.i?Dq.i(a,0,b):Dq.call(null,a,0,b)}return null}function Eq(a,b,c){this.l=a;this.ha=b;this.end=c;this.s=524306;this.H=0}g=Eq.prototype;g.W=function(){return this.end-this.ha};g.R=function(a,b){return this.l[this.ha+b]};g.qa=function(a,b,c){return 0<=b&&b<this.end-this.ha?this.l[this.ha+b]:c};g.vc=function(){if(this.ha===this.end)throw Error("-drop-first of empty chunk");return new me(this.l,this.ha+1,this.end)};
g.ja=function(a,b){return this.ha===this.end?b.C?b.C():b.call(null):vb(this.vc(null),b,this.l[this.ha])};g.ka=function(a,b,c){for(a=this.ha;;)if(a<this.end){var d=this.l[a];c=b.h?b.h(c,d):b.call(null,c,d);if(Gc(c))return qb(c);a+=1}else return c};function Fq(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.Jb=e;this.s=2309488832;this.H=1536}g=Fq.prototype;g.toString=function(){return gc(this)};g.O=function(a,b,c){return oi(b,vi,"("," ",")",c,E(this))};
g.ga=function(){if(x(this.keys)){if(this.Jb+1<this.keys.length){var a=this.left+1;return a<this.right?new Fq(this.set,a,this.right,this.keys,this.Jb+1):null}a=Aq(this.set,this.left);return a<this.right?this.Rc(a,this.right):null}return null};g.yb=function(){if(x(this.keys)){var a=this.set,b=Cq(this.set,this.left),c=Cq(this.set,this.right);return Gq.i?Gq.i(a,b,c):Gq.call(null,a,b,c)}return null};g.G=function(a,b){return Uc(this,b)};
g.ja=function(a,b){if(null==this.keys)return b.C?b.C():b.call(null);a=this.la(null);var c=this.ga(null);return null==c?a:vb(c,b,a)};g.ka=function(a,b,c){a=this.left;for(var d=this.keys,e=this.Jb;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if(Gc(c))return qb(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=Aq(this.set,a),a<this.right)d=wq(this.set,a),e=Yp(a,0);else return c}};g.la=function(){return x(this.keys)?this.keys[this.Jb]:null};
g.oa=function(){var a=this.ga(null);return x(a)?a:wc};g.T=function(){return x(this.keys)?this:null};g.pc=function(){var a=this.left,b=this.right;return new Eq(this.keys,this.Jb,(a<Sp&&b<Sp?a>>>5===b>>>5:Math.floor(a/Tp)===Math.floor(b/Tp))?Yp(this.right,0):this.keys.length)};g.Mb=function(){var a=this.oc();return x(a)?a:wc};g.Rc=function(a,b){return new Fq(this.set,a,b,wq(this.set,a),Yp(a,0))};
g.oc=function(){var a=Aq(this.set,Zp(this.left,0,this.keys.length-1));return a<this.right?this.Rc(a,this.right):null};function Dq(a,b,c){return new Fq(a,b,c,wq(a,b),Yp(b,0))}function Hq(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.Jb=e;this.s=2308964544;this.H=0}g=Hq.prototype;g.toString=function(){return gc(this)};g.O=function(a,b,c){return oi(b,vi,"("," ",")",c,E(this))};
g.ga=function(){if(x(this.keys)){if(0<this.Jb){var a=this.right-1;return this.left<a?new Hq(this.set,this.left,a,this.keys,this.Jb-1):null}a=Cq(this.set,this.right);return this.left<a?this.Rc(this.left,a):null}return null};g.yb=function(){return x(this.keys)?Dq(this.set,Aq(this.set,this.left),Aq(this.set,this.right)):null};g.G=function(a,b){return Uc(this,b)};g.la=function(){return x(this.keys)?this.keys[this.Jb]:null};g.oa=function(){var a=this.ga(null);return x(a)?a:wc};
g.T=function(){return x(this.keys)?this:null};g.Rc=function(a,b){return new Hq(this.set,a,b,wq(this.set,b),Yp(b,0))};function Gq(a,b,c){return new Hq(a,b,c,wq(a,c),Yp(c,0))}
function Iq(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,h=a.shift;;){var k=kq(e);if(0===h){var l=e.keys;l=$p(d,l,k-1,b);b=k===l?null:Zp(f,0,l);break a}l=e.keys;l=$p(d,l,k-2,b);f=Zp(f,h,l);--h;e=e.ta[l]}if(null==b)return null;a:if(null==c)c=zq(a.root,0,a.shift)+1;else for(e=a.root,h=0,f=a.shift;;){l=kq(e);if(0===f){k=e.keys;l=aq(d,k,l-1,c);c=h=Zp(h,0,l);break a}k=e.keys;l=aq(d,k,l-2,c);h=Zp(h,f,l);--f;e=e.ta[l]}return b<c?new Fq(a,b,c,wq(a,b),Yp(b,0)):null}
function Jq(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function Kq(a){var b=a.length,c=Mb(ad);if(0<b)for(var d=0;;){var e=b-d;if(e<=Tp){Nb(c,a.slice(d));break}else e>=Vp+Up?(Nb(c,a.slice(d,d+Vp)),d+=Vp):(e>>>=1,Nb(c,a.slice(d,d+e)),d+=e)}return Bd(Ob(c))}function vq(a,b,c){b=oq(a.root,c,b);return null==b?a:1===b.length?xq(a,b[0],a.shift,a.m+1):xq(a,new rq(b.map(jq),b),a.shift+1,a.m+1)}
function Lq(a,b,c){b=pq(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof rq&&1===b.ta.length?xq(a,b.ta[0],a.shift-1,a.m-1):xq(a,b,a.shift,a.m-1)}function Mq(a,b,c){return Iq(a,b,c,a.zb)}
function Nq(a,b){for(var c=Jq(function(h){return new sq(h)},Kq(b)),d=c,e=0;;){var f=N(d);switch(f){case 0:return new tq(new sq([]),0,0,a,null,null);case 1:return new tq(I(d),e,b.length,a,null,null);default:d=Jq(function(){return function(h){return new rq(h.map(jq),h)}}(d,e,f,c),Kq(d)),e+=1}}};var Pq=Error;function Aw(a){return"string"!==typeof a&&(Ys(a)||zw(a))}var Qq=nf(ad),Rq=nf(Sh);function Sq(a,b,c){return I(Ga(function(d,e){var f=S(d,0,null);d=S(d,1,null);e=a.i?a.i(f,e,d):a.call(null,f,e,d);return Gc(e)?new Fc(new W(null,2,5,X,[e,d],null)):new W(null,2,5,X,[e,d+1],null)},new W(null,2,5,X,[b,0],null),c))}function Tq(a,b){return qc(a,b)}
var Uq=function Uq(a){throw Z(["Not implemented: (",A.g(Uq),Zn(new W(null,1,5,X,[a],null))].join(""),V);},Vq=function Vq(a,b){throw Z(["Not implemented: (",A.g(Vq),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);},Wq=function Wq(a){throw Z(["Not implemented: (",A.g(Wq),Zn(new W(null,1,5,X,[a],null))].join(""),V);},Xq=function Xq(a){switch(arguments.length){case 2:return Xq.h(arguments[0],arguments[1]);case 3:return Xq.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",
A.g(arguments.length)].join(""));}};Xq.h=function(a,b){throw Z(["Not implemented: (",A.g(Xq),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);};Xq.i=function(a,b,c){throw Z(["Not implemented: (",A.g(Xq),Zn(new W(null,3,5,X,[a,b,c],null))].join(""),V);};Xq.F=3;var Yq=function Yq(a,b,c){throw Z(["Not implemented: (",A.g(Yq),Zn(new W(null,3,5,X,[a,b,c],null))].join(""),V);},Zq=function Zq(a,b,c){throw Z(["Not implemented: (",A.g(Zq),Zn(new W(null,3,5,X,[a,b,c],null))].join(""),V);};
function $q(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=$q[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$q._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDatom.datom-tx",a);}return a}function ar(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=ar[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ar._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDatom.datom-added",a);}return a}
function br(a,b,c,d,e,f){this.e=a;this.a=b;this.V=c;this.Uc=d;this.Jb=e;this.Ta=f;this.s=2162164496;this.H=0}g=br.prototype;g.da=function(){return 0<this.Uc?this.Uc:-this.Uc};g.Ua=function(){return 0<this.Uc};g.U=function(){return 0===this.Ta?this.Ta=Uq(this):this.Ta};g.G=function(a,b){return b instanceof br&&Vq(this,b)};g.T=function(){return Wq(this)};g.ia=function(a,b){return Zq(this,b,null)};g.P=function(a,b,c){return Zq(this,b,c)};g.R=function(a,b){return Xq.h(this,b)};
g.qa=function(a,b,c){return Xq.i(this,b,c)};g.ua=function(a,b,c){return Yq(this,b,c)};g.O=function(a,b,c){return oi(b,vi,"#datascript/Datom ["," ","]",c,new W(null,5,5,X,[this.e,this.a,this.V,this.da(null),this.Ua(null)],null))};ca("datascript.db.Datom",br);
var cr=function cr(a){switch(arguments.length){case 3:return cr.i(arguments[0],arguments[1],arguments[2]);case 4:return cr.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cr.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};cr.i=function(a,b,c){return new br(a,b,c,536870912,0,0)};cr.A=function(a,b,c,d){return new br(a,b,c,d,0,0)};
cr.M=function(a,b,c,d,e){return new br(a,b,c,x(e)?d:-d,0,0)};cr.F=5;function xf(a){return a instanceof br}Uq=function(){return null};Uq=function(a){return Tq(Tq(pc(a.e),pc(a.a)),pc(a.V))};Vq=function(){return null};Vq=function(a,b){return a.e===b.e&&K.h(a.a,b.a)&&K.h(a.V,b.V)};Wq=function(){return null};Wq=function(a){return new bd(null,a.e,new bd(null,a.a,new bd(null,a.V,new bd(null,a.da(null),new bd(null,a.Ua(null),null,1,null),2,null),3,null),4,null),5,null)};Zq=function(){return null};
Zq=function(a,b,c){if(b instanceof D)switch(b instanceof D?b.ra:null){case "e":return a.e;case "a":return a.a;case "v":return a.V;case "tx":return a.da(null);case "added":return a.Ua(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.V;case "tx":return a.da(null);case "added":return a.Ua(null);default:return c}else return c};
Xq=function(a){switch(arguments.length){case 2:return Xq.h(arguments[0],arguments[1]);case 3:return Xq.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Xq.h=function(){return null};Xq.i=function(){return null};Xq.F=3;
Xq=function(a){switch(arguments.length){case 2:return Xq.h(arguments[0],arguments[1]);case 3:return Xq.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Xq.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.V;case 3:return a.da(null);case 4:return a.Ua(null);default:throw Error(["Datom/-nth: Index out of bounds: ",A.g(b)].join(""));}};
Xq.i=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.V;case 3:return a.da(null);case 4:return a.Ua(null);default:return c}};Xq.F=3;Yq=function(){return null};
Yq=function(a,b,c){switch(b instanceof D?b.ra:null){case "e":return cr.M(c,a.a,a.V,a.da(null),a.Ua(null));case "a":return cr.M(a.e,c,a.V,a.da(null),a.Ua(null));case "v":return cr.M(a.e,a.a,c,a.da(null),a.Ua(null));case "tx":return cr.M(a.e,a.a,a.V,c,a.Ua(null));case "added":return cr.M(a.e,a.a,a.V,a.da(null),c);default:throw new Pq(["invalid key for #datascript/Datom: ",A.g(b)].join(""));}};function dr(a,b){return null==a?0:null==b?0:Sd(yd(a,b))}function er(a,b){return ka(Ca(Ba(a)),Ca(Ba(b)))}
function fr(a,b){try{return K.h(a,b)?0:(null!=a?a.H&2048||t===a.Wb||(a.H?0:y(Rb,a)):y(Rb,a))?Sb(a,b):Ba(a)===Ba(b)?"number"===typeof a||"string"===typeof a||xa(a)||!0===a||!1===a?ka(a,b):pc(a)-pc(b):er(a,b)}catch(d){if(d instanceof Error){var c=d;if(Ba(a)===Ba(b))throw c;return er(a,b)}throw d;}}function gr(a,b){return null==a?0:null==b?0:fr(a,b)}function hr(a,b){var c=a.e-b.e;return 0===c?(c=dr(a.a,b.a),0===c?(c=gr(a.V,b.V),0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}
function ir(a,b){var c=dr(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=gr(a.V,b.V),0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}function jr(a,b){var c=dr(a.a,b.a);return 0===c?(c=gr(a.V,b.V),0===c?(c=a.e-b.e,0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}function kr(a,b){return a instanceof D?Sb(a,b):ka(a,b)}function lr(a,b){var c=a.e-b.e;return 0===c?(c=kr(a.a,b.a),0===c?(c=fr(a.V,b.V),0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}
function mr(a,b){var c=kr(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=fr(a.V,b.V),0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}function nr(a,b){var c=kr(a.a,b.a);return 0===c?(c=fr(a.V,b.V),0===c?(c=a.e-b.e,0===c?(a=a.da(null)-b.da(null),0===a?0:a):c):c):c}
var or=function or(a){throw Z(["Not implemented: (",A.g(or),Zn(new W(null,1,5,X,[a],null))].join(""),V);},pr=function pr(a,b){throw Z(["Not implemented: (",A.g(pr),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);},qr=function qr(a){throw Z(["Not implemented: (",A.g(qr),Zn(new W(null,1,5,X,[a],null))].join(""),V);},rr=function rr(a,b){throw Z(["Not implemented: (",A.g(rr),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);},sr=function sr(a,b,c){throw Z(["Not implemented: (",A.g(sr),Zn(new W(null,3,5,X,[a,
b,c],null))].join(""),V);},tr=function tr(a,b,c,d,e,f,h){throw Z(["Not implemented: (",A.g(tr),Zn(new W(null,7,5,X,[a,b,c,d,e,f,h],null))].join(""),V);},ur=function ur(a,b,c,d,e,f,h,k){throw Z(["Not implemented: (",A.g(ur),Zn(new W(null,8,5,X,[a,b,c,d,e,f,h,k],null))].join(""),V);};function Bw(){}
function vr(a,b){if(null!=a&&null!=a.Hd)a=a.Hd(a,b);else{var c=vr[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=vr._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ISearch.-search",a);}return a}function wr(a,b){return I(vr(a,b))}
function xr(a,b,c,d){if(null!=a&&null!=a.Fd)a=a.Fd(a,b,c,d,null,null);else{var e=xr[q(null==a?null:a)];if(null!=e)a=e.na?e.na(a,b,c,d,null,null):e.call(null,a,b,c,d,null,null);else if(e=xr._,null!=e)a=e.na?e.na(a,b,c,d,null,null):e.call(null,a,b,c,d,null,null);else throw z("IIndexAccess.-datoms",a);}return a}
function yr(a,b){if(null!=a&&null!=a.Gd)a=a.Gd(a,hk,b,null,null,null);else{var c=yr[q(null==a?null:a)];if(null!=c)a=c.na?c.na(a,hk,b,null,null,null):c.call(null,a,hk,b,null,null,null);else if(c=yr._,null!=c)a=c.na?c.na(a,hk,b,null,null,null):c.call(null,a,hk,b,null,null,null);else throw z("IIndexAccess.-seek-datoms",a);}return a}
function zr(a,b,c,d,e,f){if(K.h(b,Mj)&&null!=c&&!rr(a,c))throw Z(["Attribute ",Y.j(Q([c]))," should be marked as :db/index true"].join(""),new w(null,3,[Ek,Yj,Zj,Mj,Qn,new W(null,4,5,X,[c,d,e,f],null)],null));}function Cw(){}function Ar(a){if(null!=a&&null!=a.le)a=a.xa;else{var b=Ar[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ar._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDB.-schema",a);}return a}
function Br(a,b){if(null!=a&&null!=a.Ed)a=a.Ed(a,b);else{var c=Br[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Br._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IDB.-attrs-by",a);}return a}function Cr(a,b,c,d,e,f,h,k,l,m,n,p,r){this.xa=a;this.va=b;this.za=c;this.Aa=d;this.Ma=e;this.Na=f;this.Ia=h;this.Pa=k;this.Oa=l;this.hash=m;this.N=n;this.D=p;this.B=r;this.s=2230716170;this.H=139264}g=Cr.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "schema":return this.xa;case "eavt":return this.va;case "aevt":return this.za;case "avet":return this.Aa;case "max-eid":return this.Ma;case "max-tx":return this.Na;case "rschema":return this.Ia;case "pull-patterns":return this.Pa;case "pull-attrs":return this.Oa;case "hash":return this.hash;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,te.h(new W(null,10,5,X,[new W(null,2,5,X,[Vk,this.xa],null),new W(null,2,5,X,[hk,this.va],null),new W(null,2,5,X,[Hl,this.za],null),new W(null,2,5,X,[Mj,this.Aa],null),new W(null,2,5,X,[lk,this.Ma],null),new W(null,2,5,X,[nl,this.Na],null),new W(null,2,5,X,[Wk,this.Ia],null),new W(null,2,5,X,[jk,this.Pa],null),new W(null,2,5,X,[nm,this.Oa],null),new W(null,2,5,X,[wk,this.hash],null)],null),this.D))};
g.Ba=function(){return new sg(this,10,new W(null,10,5,X,[Vk,hk,Hl,Mj,lk,nl,Wk,jk,nm,wk],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 10+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1515640948^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.xa,b.xa)&&K.h(this.va,b.va)&&K.h(this.za,b.za)&&K.h(this.Aa,b.Aa)&&K.h(this.Ma,b.Ma)&&K.h(this.Na,b.Na)&&K.h(this.Ia,b.Ia)&&K.h(this.Pa,b.Pa)&&K.h(this.Oa,b.Oa)&&K.h(this.hash,b.hash)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,10,[Vk,null,nl,null,wk,null,Hl,null,Mj,null,lk,null,hk,null,nm,null,jk,null,Wk,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Vk,b):U.call(null,Vk,b))?new Cr(c,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(hk,b):U.call(null,hk,b))?new Cr(this.xa,c,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(Hl,b):U.call(null,Hl,b))?new Cr(this.xa,this.va,c,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(Mj,b):U.call(null,Mj,b))?new Cr(this.xa,this.va,this.za,
c,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(lk,b):U.call(null,lk,b))?new Cr(this.xa,this.va,this.za,this.Aa,c,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(nl,b):U.call(null,nl,b))?new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,c,this.Ia,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(Wk,b):U.call(null,Wk,b))?new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,c,this.Pa,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(jk,b):
U.call(null,jk,b))?new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,c,this.Oa,this.hash,this.N,this.D,null):x(U.h?U.h(nm,b):U.call(null,nm,b))?new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,c,this.hash,this.N,this.D,null):x(U.h?U.h(wk,b):U.call(null,wk,b))?new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,c,this.N,this.D,null):new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,this.N,T.i(this.D,
b,c),null)};g.T=function(){return E(te.h(new W(null,10,5,X,[new Vf(Vk,this.xa),new Vf(hk,this.va),new Vf(Hl,this.za),new Vf(Mj,this.Aa),new Vf(lk,this.Ma),new Vf(nl,this.Na),new Vf(Wk,this.Ia),new Vf(jk,this.Pa),new Vf(nm,this.Oa),new Vf(wk,this.hash)],null),this.D))};g.Y=function(a,b){return new Cr(this.xa,this.va,this.za,this.Aa,this.Ma,this.Na,this.Ia,this.Pa,this.Oa,this.hash,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};
function Dr(a){var b=fd.j(a,Vk,Q([hk,Hl,Mj,lk,nl,Wk,jk,nm,wk]));b=qd(a)?Gf.h(V,b):b;return new Cr(Vk.g(a),hk.g(a),Hl.g(a),Mj.g(a),lk.g(a),nl.g(a),Wk.g(a),jk.g(a),nm.g(a),wk.g(a),null,Ke(b),null)}g.ca=t;g.O=function(a,b,c){return sr(this,b,c)};g.Zc=t;g.W=function(){return N(this.va)};g.be=t;g.yb=function(){return Ib(this.va)};g.Wd=t;g.U=function(){return or(this)};g.G=function(a,b){return pr(this,b)};g.ud=t;g.Xb=function(){return If.i(If.i(If.i(this,hk,ue),Hl,ue),Mj,ue)};g.vd=t;
g.ba=function(){return jd(qr(new w(null,5,[Vk,this.xa,Wk,this.Ia,hk,cd(this.va),Hl,cd(this.za),Mj,cd(this.Aa)],null)),kd(this))};g.ac=function(){throw Z("datascript.DB/conj! is not supported",V);};g.fc=function(){return If.i(If.i(If.i(this,hk,ve),Hl,ve),Mj,ve)};g.Fd=function(a,b,c,d,e,f){zr(this,b,c,d,e,f);return Mq(C.h(this,b),ur(this,b,c,d,e,f,0,536870912),ur(this,b,c,d,e,f,2147483647,2147483647))};
g.Gd=function(a,b,c,d,e,f){zr(this,b,c,d,e,f);return Mq(C.h(this,b),ur(this,b,c,d,e,f,0,536870912),cr.A(2147483647,null,null,2147483647))};g.rf=t;g.le=function(){return this.xa};g.Ed=function(a,b){a=this.Ia;return a.g?a.g(b):a.call(null,b)};g.tf=t;
g.Hd=function(a,b){a=S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null);b=this.va;var f=this.za,h=this.Aa;xd(Br(this,Yl),c);return x(a)?x(c)?null!=d?x(e)?Mq(b,cr.A(a,c,d,e),cr.A(a,c,d,e)):Mq(b,cr.A(a,c,d,536870912),cr.A(a,c,d,2147483647)):x(e)?Ki(Ef(function(k){return K.h(e,k.da(null))}),Mq(b,cr.A(a,c,null,536870912),cr.A(a,c,null,2147483647))):Mq(b,cr.A(a,c,null,536870912),cr.A(a,c,null,2147483647)):null!=d?x(e)?Ki(Ef(function(k){return K.h(d,k.V)&&K.h(e,k.da(null))}),Mq(b,cr.A(a,null,null,
536870912),cr.A(a,null,null,2147483647))):Ki(Ef(function(k){return K.h(d,k.V)}),Mq(b,cr.A(a,null,null,536870912),cr.A(a,null,null,2147483647))):x(e)?Ki(Ef(function(k){return K.h(e,k.da(null))}),Mq(b,cr.A(a,null,null,536870912),cr.A(a,null,null,2147483647))):Mq(b,cr.A(a,null,null,536870912),cr.A(a,null,null,2147483647)):x(c)?null!=d?x(e)?rr(this,c)?Ki(Ef(function(k){return K.h(e,k.da(null))}),Mq(h,cr.A(0,c,d,536870912),cr.A(2147483647,c,d,2147483647))):Ki(Ef(function(k){return K.h(d,k.V)&&K.h(e,k.da(null))}),
Mq(f,cr.A(0,c,null,536870912),cr.A(2147483647,c,null,2147483647))):rr(this,c)?Mq(h,cr.A(0,c,d,536870912),cr.A(2147483647,c,d,2147483647)):Ki(Ef(function(k){return K.h(d,k.V)}),Mq(f,cr.A(0,c,null,536870912),cr.A(2147483647,c,null,2147483647))):x(e)?Ki(Ef(function(k){return K.h(e,k.da(null))}),Mq(f,cr.A(0,c,null,536870912),cr.A(2147483647,c,null,2147483647))):Mq(f,cr.A(0,c,null,536870912),cr.A(2147483647,c,null,2147483647)):null!=d?x(e)?Ff(function(k){return K.h(d,k.V)&&K.h(e,k.da(null))},b):Ff(function(k){return K.h(d,
k.V)},b):x(e)?Ff(function(k){return K.h(e,k.da(null))},b):b};
function Er(a,b){switch(b instanceof D?b.ra:null){case "db.unique/identity":return new W(null,3,5,X,[dn,Kj,am],null);case "db.unique/value":return new W(null,3,5,X,[dn,Hm,am],null);case "db.cardinality/many":return new W(null,1,5,X,[Yl],null);case "db.type/ref":return new W(null,2,5,X,[xn,am],null);default:return K.h(hn,a)&&!0===b?new W(null,1,5,X,[hn],null):K.h(am,a)&&!0===b?new W(null,1,5,X,[am],null):K.h(yn,a)?new W(null,2,5,X,[Xl,am],null):ad}}
function Fr(a,b){return Ga(function(c,d){return Sq(function(e,f,h){return If.M(e,f,T,d,h)},c,yn.g(C.h(a,d)))},V,Xl.g(b))}function Gr(a){var b=Fd(function(c,d,e){return Fd(function(f,h,k){return Ga(function(l,m){return If.A(l,m,Rq,d)},f,Er(h,k))},c,e)},V,a);return T.i(b,hl,Fr(a,b))}function Hr(a,b,c,d){if(null!=c&&!xd(d,c))throw Z(["Bad attribute specification for ",Y.j(Q([ed([a,ed([b,c])])])),", expected one of ",A.g(d)].join(""),new w(null,4,[Ek,gl,Pk,a,Rn,b,bl,c],null));}
function Ir(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),h=S(f,0,null),k=S(f,1,null),l=hn.h(k,!1);Hr(h,hn,hn.g(k),new Qh(null,new w(null,2,[!0,null,!1,null],null),null));if(x(function(){var F=l;return x(F)?Je.h(ol.g(k),xn):F}()))throw Z(["Bad attribute specification for ",Y.j(Q([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new w(null,3,[Ek,gl,Pk,h,Rn,hn],null));Hr(h,dn,dn.g(k),new Qh(null,new w(null,2,[Kj,null,Hm,null],null),null));Hr(h,ol,
ol.g(k),new Qh(null,new w(null,2,[Xl,null,xn,null],null),null));Hr(h,$l,$l.g(k),new Qh(null,new w(null,2,[Yl,null,nk,null],null),null));if(K.h(Xl,ol.g(k))&&!xd(k,yn))throw Z(["Bad attribute specification for ",Y.j(Q([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new w(null,3,[Ek,gl,Pk,h,Rn,ol],null));if(xd(k,yn)){f=new w(null,3,[Ek,gl,Pk,h,Rn,yn],null);if(K.h(Yl,$l.g(k)))throw Z([Y.j(Q([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var m=
yn.g(k);if(!od(m))throw Z([Y.j(Q([h]))," :db/tupleAttrs must be a sequential collection, got: ",Y.j(Q([m]))].join(""),f);if(ld(m))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant be empty"].join(""),f);m=E(m);for(var n=null,p=0,r=0;;)if(r<p){var u=n.R(null,r),v=T.i(f,bl,u);if(xd(C.h(a,u),yn))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Y.j(Q([u]))].join(""),v);if(K.h(Yl,$l.g(C.h(a,u))))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
Y.j(Q([u]))].join(""),v);r+=1}else if(m=E(m)){if(sd(m))p=Ub(m),m=Vb(m),n=p,p=N(p);else{n=I(m);p=T.i(f,bl,n);if(xd(C.h(a,n),yn))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Y.j(Q([n]))].join(""),p);if(K.h(Yl,$l.g(C.h(a,n))))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Y.j(Q([n]))].join(""),p);m=J(m);n=null;p=0}r=0}else break}e+=1}else if(h=E(b)){b=h;if(sd(b))c=Ub(b),b=Vb(b),h=c,d=N(c),c=h;else{c=I(b);h=S(c,0,null);k=S(c,
1,null);var G=hn.h(k,!1);Hr(h,hn,hn.g(k),new Qh(null,new w(null,2,[!0,null,!1,null],null),null));if(x(function(){var F=G;return x(F)?Je.h(ol.g(k),xn):F}()))throw Z(["Bad attribute specification for ",Y.j(Q([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new w(null,3,[Ek,gl,Pk,h,Rn,hn],null));Hr(h,dn,dn.g(k),new Qh(null,new w(null,2,[Kj,null,Hm,null],null),null));Hr(h,ol,ol.g(k),new Qh(null,new w(null,2,[Xl,null,xn,null],null),null));Hr(h,$l,$l.g(k),new Qh(null,
new w(null,2,[Yl,null,nk,null],null),null));if(K.h(Xl,ol.g(k))&&!xd(k,yn))throw Z(["Bad attribute specification for ",Y.j(Q([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new w(null,3,[Ek,gl,Pk,h,Rn,ol],null));if(xd(k,yn)){c=new w(null,3,[Ek,gl,Pk,h,Rn,yn],null);if(K.h(Yl,$l.g(k)))throw Z([Y.j(Q([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=yn.g(k);if(!od(d))throw Z([Y.j(Q([h]))," :db/tupleAttrs must be a sequential collection, got: ",
Y.j(Q([d]))].join(""),c);if(ld(d))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(m=f=0;;)if(m<f){n=e.R(null,m);p=T.i(c,bl,n);if(xd(C.h(a,n),yn))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Y.j(Q([n]))].join(""),p);if(K.h(Yl,$l.g(C.h(a,n))))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Y.j(Q([n]))].join(""),p);m+=1}else if(d=E(d)){if(sd(d))f=Ub(d),d=Vb(d),e=f,f=N(f);else{e=I(d);f=T.i(c,
bl,e);if(xd(C.h(a,e),yn))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Y.j(Q([e]))].join(""),f);if(K.h(Yl,$l.g(C.h(a,e))))throw Z([Y.j(Q([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Y.j(Q([e]))].join(""),f);d=J(d);e=null;f=0}m=0}else break}b=J(b);c=null;d=0}e=0}else break}
function Kr(a){var b=dm.g,c=cr.A(536870911,null,null,2147483647),d=cr.A(0,null,null,536870912);a=Iq(a,d,c,a.zb);a=null==a?null:Ib(a);b=b.call(dm,I(a));return x(b)?b:0}
function Lr(a,b){var c=I(wf(xf,a));if(null!=c)throw Z(["init-db expects list of Datoms, got ",Y.j(Q([Ba(c)]))].join(""),new w(null,1,[Ek,sk],null));Ir(b);c=Gr(Oh.j(Q([new w(null,1,[el,new w(null,1,[dn,Kj],null)],null),b])));var d=am.g(c),e=zw(a)?a:Rp(a);e.sort(lr);var f=Nq(hr,e);e.sort(mr);e=Nq(ir,e);a=Bd(Ff(function(l){return xd(d,l.a)},a));a.sort(nr);a=Nq(jr,a);var h=Kr(f),k=Kd(tf.g(function(l){return l.da(null)}),Pd,536870912,f);return Dr(qh([Vk,nl,wk,Hl,Mj,lk,hk,nm,jk,Wk],[b,k,pf(0),e,a,h,f,Qp(),
Qp(),c]))}qr=function(a){a=Ie(a);C.h(a,Vk);C.h(a,hk);C.h(a,Hl);C.h(a,Mj);C.h(a,lk);C.h(a,nl);return null};qr=function(a){var b=Ie(a);a=C.h(b,Vk);var c=C.h(b,hk),d=C.h(b,Hl),e=C.h(b,Mj),f=C.h(b,lk),h=C.h(b,nl);h=x(h)?h:536870912;var k=pf(0);f=x(f)?f:0;var l=Qp(),m=Qp();b=Wk.g(b);b=x(b)?b:Gr(Oh.j(Q([new w(null,1,[el,new w(null,1,[dn,Kj],null)],null),a])));return Dr(qh([Vk,nl,wk,Hl,Mj,lk,hk,nm,jk,Wk],[a,h,k,d,e,f,c,l,m,b]))};or=function(){return null};
or=function(a){var b=qb(a.hash);return 0===b?qf(a.hash,Tq(pc(a.xa),pc(a.va))):b};pr=function(){return null};pr=function(a,b){var c;if(c=b instanceof Cr||!1)if(c=K.h(Ar(a),Ar(b)))a:for(a=xr(a,hk,null,null),c=xr(b,hk,null,null),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(K.h(I(b),I(a)))b=J(b),a=J(a);else{c=!1;break a}}return c};sr=function(){return null};
sr=function(a,b,c){Jb(b,"#datascript/DB {");Jb(b,":schema ");vi(Ar(a),b,c);Jb(b,", :datoms ");oi(b,function(d,e,f){return oi(e,vi,"["," ","]",f,new W(null,4,5,X,[d.e,d.a,d.V,$q(d)],null))},"["," ","]",c,xr(a,hk,null,null));return Jb(b,"}")};var Mr=function Mr(a,b){throw Z(["Not implemented: (",A.g(Mr),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);},Nr=function Nr(a,b){throw Z(["Not implemented: (",A.g(Nr),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);};tr=function(){return null};
tr=function(a,b,c,d,e,f,h){if(null!=c&&!(c instanceof D||"string"===typeof c))throw a=new bd(null,nn,new bd(null,mn,new bd(null,b,new bd(null,c,new bd(null,d,new bd(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),Z(["Bad entity attribute ",Y.j(Q([c]))," at ",Y.j(Q([a])),", expected keyword or string"].join(""),new w(null,3,[Pk,c,Qm,a,Ek,Nl],null));return cr.A(null!=b?Mr(a,b):f,c,null!=d&&Nr(a,c)?Mr(a,d):d,null!=e?Mr(a,e):h)};ur=function(){return null};
ur=function(a,b,c,d,e,f,h,k){b=b instanceof D?b.ra:null;switch(b){case "eavt":return tr(a,c,d,e,f,h,k);case "aevt":return tr(a,d,c,e,f,h,k);case "avet":return tr(a,e,c,d,f,h,k);default:throw Error(["No matching clause: ",A.g(b)].join(""));}};function Or(a,b,c,d,e,f,h,k){this.ob=a;this.nb=b;this.ub=c;this.tb=d;this.vb=e;this.N=f;this.D=h;this.B=k;this.s=2230716170;this.H=139264}g=Or.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "db-before":return this.ob;case "db-after":return this.nb;case "tx-data":return this.ub;case "tempids":return this.tb;case "tx-meta":return this.vb;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,te.h(new W(null,5,5,X,[new W(null,2,5,X,[gn,this.ob],null),new W(null,2,5,X,[tm,this.nb],null),new W(null,2,5,X,[Mk,this.ub],null),new W(null,2,5,X,[fl,this.tb],null),new W(null,2,5,X,[Vn,this.vb],null)],null),this.D))};g.Ba=function(){return new sg(this,5,new W(null,5,5,X,[gn,tm,Mk,fl,Vn],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 5+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=-2022644885^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.ob,b.ob)&&K.h(this.nb,b.nb)&&K.h(this.ub,b.ub)&&K.h(this.tb,b.tb)&&K.h(this.vb,b.vb)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,5,[fl,null,tm,null,gn,null,Mk,null,Vn,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Or(this.ob,this.nb,this.ub,this.tb,this.vb,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(gn,b):U.call(null,gn,b))?new Or(c,this.nb,this.ub,this.tb,this.vb,this.N,this.D,null):x(U.h?U.h(tm,b):U.call(null,tm,b))?new Or(this.ob,c,this.ub,this.tb,this.vb,this.N,this.D,null):x(U.h?U.h(Mk,b):U.call(null,Mk,b))?new Or(this.ob,this.nb,c,this.tb,this.vb,this.N,this.D,null):x(U.h?U.h(fl,b):U.call(null,fl,b))?new Or(this.ob,this.nb,this.ub,c,this.vb,this.N,this.D,null):x(U.h?U.h(Vn,b):U.call(null,Vn,b))?new Or(this.ob,this.nb,this.ub,this.tb,c,this.N,this.D,
null):new Or(this.ob,this.nb,this.ub,this.tb,this.vb,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,5,5,X,[new Vf(gn,this.ob),new Vf(tm,this.nb),new Vf(Mk,this.ub),new Vf(fl,this.tb),new Vf(Vn,this.vb)],null),this.D))};g.Y=function(a,b){return new Or(this.ob,this.nb,this.ub,this.tb,this.vb,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};function Pr(){return null}Pr=function(a,b,c){return xd(Br(a,c),b)};
function Qr(){return null}Qr=function(a,b){return Pr(a,b,Yl)};Nr=function(){return null};Nr=function(a,b){return Pr(a,b,xn)};function Rr(){return null}Rr=function(a,b){return Pr(a,b,hn)};rr=function(){return null};rr=function(a,b){return Pr(a,b,am)};function Sr(){return null}Sr=function(a,b){return Pr(a,b,Xl)};function Tr(){return null}Tr=function(a,b){return Pr(a,b,hl)};function Ur(){return null}
Ur=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw Z(["Highest supported entity id is ",Y.j(Q([2147483647])),", got ",Y.j(Q([b]))].join(""),new w(null,2,[Ek,Fk,bl,b],null));return b}if(od(b)){var c=b,d=S(c,0,null);c=S(c,1,null);if(Je.h(N(b),2))throw Z(["Lookup ref should contain 2 elements: ",Y.j(Q([b]))].join(""),new w(null,2,[Ek,bk,Fk,b],null));if(Pr(a,d,dn))return null==c?null:dm.g(I(xr(a,Mj,d,c)));throw Z(["Lookup ref attribute should be marked as :db/unique: ",Y.j(Q([b]))].join(""),
new w(null,2,[Ek,ml,Fk,b],null));}if(xa(b))b=Q(b);else{if(b instanceof D)return dm.g(I(xr(a,Mj,el,b)));throw Z(["Expected number or lookup ref for entity id, got ",Y.j(Q([b]))].join(""),new w(null,2,[Ek,vn,Fk,b],null));}}};function Vr(){return null}Vr=function(a,b){return K.h(b,dm.g(I(yr(a,b))))};Mr=function(){return null};Mr=function(a,b){a=Ur(a,b);if(x(a))return a;throw Z(["Nothing found for entity id ",Y.j(Q([b]))].join(""),new w(null,2,[Ek,Ym,Fk,b],null));};
function Wr(a){return Sd(nl.g(gn.g(a)))+1}function Xr(a){return K.h(a,En)||K.h(a,":db/current-tx")||K.h(a,"datomic.tx")||K.h(a,"datascript.tx")}function Yr(a){return"number"===typeof a&&0>a||"string"===typeof a}function Zr(a,b){return b>lk.g(a)&&536870912>b?T.i(a,lk,b):a}function $r(a,b,c){var d=Xr(b)?If.M(a,fl,T,b,c):a;d=Yr(b)?If.M(d,fl,T,b,c):d;if(b=!Yr(b))a=tm.g(a),b=c>lk.g(a)&&536870912>c;a=b?If.M(d,fl,T,c,c):d;return If.A(a,tm,Zr,c)}
function as(a,b,c,d,e){return Fd(function(f,h,k){var l=C.h(f,h);x(l)||(l=Il.g(I(xr(c,hk,d,h))),x(l)||(l=N(yn.g(C.h(Ar(c),h))),l=bg(0<l?new yf(null,l,null,null):wc)));k=T.i(l,k,e);return T.i(f,h,k)},a,b)}
function bs(a,b){var c=tm.g(a),d=gm.g(b),e=If.A,f=T.i;var h=b.Ua(null);h=x(h)?Pr(c,b.a,dn):h;if(x(h)&&(h=Ke(xr(c,Mj,b.a,b.V)),null!=h))throw Z(["Cannot add ",Y.j(Q([b]))," because of unique constraint: ",Y.j(Q([h]))].join(""),new w(null,3,[Ek,tn,Pk,b.a,qn,b],null));h=rr(c,b.a);if(x(b.Ua(null))){var k=If.M(c,hk,vq,b,lr);k=If.M(k,Hl,vq,b,mr);h=h?If.M(k,Mj,vq,b,nr):k;h=Zr(h,b.e);h=T.i(h,wk,pf(0))}else if(k=wr(c,new W(null,3,5,X,[b.e,b.a,b.V],null)),null==k)h=c;else{var l=If.M(c,hk,Lq,k,lr);l=If.M(l,
Hl,Lq,k,mr);h=h?If.M(l,Mj,Lq,k,nr):l;h=T.i(h,wk,pf(0))}a=e.call(If,f.call(T,a,tm,h),Mk,$c,b);return Tr(c,d)?(e=dm.g(b),b=x(ar(b))?Il.g(b):null,f=C.h(Zl.g(a),e),f=x(f)?f:V,d=C.h(Br(c,hl),d),c=as(f,d,c,e,b),If.M(a,Zl,T,e,c)):a}function cs(a){if(a instanceof D)return K.h("_",Qc(fe(a),0));if("string"===typeof a)return vd(ki(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw Z(["Bad attribute type: ",Y.j(Q([a])),", expected keyword or string"].join(""),new w(null,2,[Ek,Nl,Pk,a],null));}
function ds(a){if(a instanceof D)return cs(a)?ee.h(de(a),Xd.h(fe(a),1)):ee.h(de(a),["_",fe(a)].join(""));if("string"===typeof a){var b=ki(/(?:([^\/]+)\/)?([^\/]+)/,a);S(b,0,null);a=S(b,1,null);b=S(b,2,null);return K.h("_",Qc(b,0))?x(a)?[A.g(a),"/",Xd.h(b,1)].join(""):Xd.h(b,1):x(a)?[A.g(a),"/_",A.g(b)].join(""):["_",A.g(b)].join("")}throw Z(["Bad attribute type: ",Y.j(Q([a])),", expected keyword or string"].join(""),new w(null,2,[Ek,Nl,Pk,a],null));}
function es(a,b){function c(e,f){return Ga(function(h,k){var l=dm.g(I(xr(a,Mj,e,k)));return null==l?If.A(h,0,$c,k):If.M(h,1,T,k,l)},new W(null,2,5,X,[ad,V],null),f)}var d=Ke(Br(a,Kj));return null==d?new W(null,2,5,X,[b,null],null):Fd(function(e,f,h){var k=S(e,0,null);e=S(e,1,null);if(!(f instanceof D||"string"===typeof f))throw Z(["Bad entity attribute ",Y.j(Q([f]))," at ",Y.j(Q([b])),", expected keyword or string"].join(""),new w(null,3,[Pk,f,Qm,b,Ek,Nl],null));if(null==h)throw Z(["Cannot store nil as a value at ",
Y.j(Q([b]))].join(""),new w(null,3,[bl,null,Qm,b,Ek,Nl],null));if(xd(d,f)){if(Qr(a,f)&&(zw(h)||md(h)&&!pd(h))){var l=c(f,h);h=S(l,0,null);l=S(l,1,null);return new W(null,2,5,X,[ld(h)?k:T.i(k,f,h),ld(l)?e:T.i(e,f,l)],null)}l=dm.g(I(xr(a,Mj,f,h)));return null==l?new W(null,2,5,X,[T.i(k,f,h),e],null):new W(null,2,5,X,[k,T.i(e,f,ed([h,l]))],null)}return new W(null,2,5,X,[T.i(k,f,h),e],null)},new W(null,2,5,X,[V,V],null),b)}
function fs(a,b){var c=Fd(function(h,k,l){return Fd(function(m,n,p){return T.i(m,p,new W(null,2,5,X,[k,n],null))},h,l)},V,b);if(2<=N(c)){b=I(c);a=S(b,0,null);var d=S(b,1,null);b=S(d,0,null);d=S(d,1,null);var e=Yc(c);c=S(e,0,null);var f=S(e,1,null);e=S(f,0,null);f=S(f,1,null);throw Z(["Conflicting upserts: ",Y.j(Q([new W(null,2,5,X,[b,d],null)]))," resolves to ",Y.j(Q([a])),", but ",Y.j(Q([new W(null,2,5,X,[e,f],null)]))," resolves to ",Y.j(Q([c]))].join(""),new w(null,3,[Ek,vk,om,new W(null,3,5,X,
[a,b,d],null),Wm,new W(null,3,5,X,[c,e,f],null)],null));}d=I(c);b=S(d,0,null);c=S(d,1,null);d=S(c,0,null);c=S(c,1,null);a=Yn.g(a);if(null!=b&&null!=a&&!Yr(a)&&Je.h(b,a))throw Z(["Conflicting upsert: ",Y.j(Q([new W(null,2,5,X,[d,c],null)]))," resolves to ",Y.j(Q([b])),", but entity already has :db/id ",Y.j(Q([a]))].join(""),new w(null,3,[Ek,vk,om,new W(null,3,5,X,[b,d,c],null),Wm,new w(null,1,[Yn,a],null)],null));return b}
function gs(a,b,c){return cs(b)||Qr(a,b)?zw(c)||md(c)&&!pd(c)?K.h(N(c),2)&&Pr(a,I(c),Kj)?new W(null,1,5,X,[c],null):c:new W(null,1,5,X,[c],null):new W(null,1,5,X,[c],null)}
function hs(a,b){var c=Yn.g(b),d=De(te,Ga(function(e,f){var h=S(f,0,null);f=S(f,1,null);return If.A(e,Sr(a,h)?1:0,$c,new W(null,2,5,X,[h,f],null))},new W(null,2,5,X,[ad,ad],null),b));return function h(f){return new ge(null,function(){for(var k=f;;){var l=E(k);if(l){var m=l,n=I(m),p=S(n,0,null),r=S(n,1,null);if(Je.h(p,Yn)){var u=function(){var F=p;if(F instanceof D||"string"===typeof F)return null;var R=ed([Yn,c,p,r]);throw Z(["Bad entity attribute ",Y.j(Q([F]))," at ",Y.j(Q([R])),", expected keyword or string"].join(""),
new w(null,3,[Pk,F,Qm,R,Ek,Nl],null));}(),v=cs(p),G=v?ds(p):p;if(v&&!Nr(a,G))throw Z(["Bad attribute ",Y.j(Q([p])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new w(null,3,[Ek,Nl,Pk,p,Qm,ed([Yn,c,p,r])],null));if(l=E(function(F,R,aa,ja,ta,La,Yb,he,df,xb,ef,Aa){return function Aj(Jl){return new ge(null,function(ep,ff,Oa,Qa,fb,Ua,ai,fp,Kl,Bj,gf){return function(){for(;;){var Gd=E(Jl);if(Gd){if(sd(Gd)){var Kg=Ub(Gd),Cj=N(Kg),Sa=ne(Cj);a:for(var Lg=0;;)if(Lg<Cj){var hf=
Wa(Kg,Lg),Ll=Sa;hf=Nr(a,Qa)&&pd(hf)?T.i(hf,ds(ai),gf):Oa?new W(null,4,5,X,[bm,hf,Qa,gf],null):new W(null,4,5,X,[bm,gf,Qa,hf],null);Ll.add(hf);Lg+=1}else{Kg=!0;break a}return Kg?pe(Sa.ma(),Aj(Vb(Gd))):pe(Sa.ma(),null)}Sa=I(Gd);return P(Nr(a,Qa)&&pd(Sa)?T.i(Sa,ds(ai),gf):Oa?new W(null,4,5,X,[bm,Sa,Qa,gf],null):new W(null,4,5,X,[bm,gf,Qa,Sa],null),Aj(vc(Gd)))}return null}}}(F,R,aa,ja,ta,La,Yb,he,df,xb,ef,Aa),null,null)}}(k,u,v,G,null,n,p,r,m,l,c,d)(gs(a,p,r))))return te.h(l,h(vc(k)))}k=vc(k)}else return null}},
null,null)}(d)}
function is(a,b){S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null),f=S(b,4,null);if(!(d instanceof D||"string"===typeof d))throw Z(["Bad entity attribute ",Y.j(Q([d]))," at ",Y.j(Q([b])),", expected keyword or string"].join(""),new w(null,3,[Pk,d,Qm,b,Ek,Nl],null));if(null==e)throw Z(["Cannot store nil as a value at ",Y.j(Q([b]))].join(""),new w(null,3,[bl,null,Qm,b,Ek,Nl],null));b=x(f)?f:Wr(a);f=tm.g(a);c=Mr(f,c);e=Nr(f,d)?Mr(f,e):e;var h=cr.A(c,d,e,b);f=Qr(f,d)?wr(f,new W(null,3,5,X,[c,
d,e],null)):wr(f,new W(null,2,5,X,[c,d],null));return null==f?bs(a,h):K.h(f.V,e)?If.A(a,xm,Qq,h):bs(bs(a,cr.M(c,d,f.V,b,!1)),h)}function js(a,b){var c=Wr(a);return bs(a,cr.M(b.e,b.a,b.V,c,!1))}function ks(a,b){return Gf.i(Sh,kf.h(Ef(function(c){return Rr(a,c.a)}),tf.g(function(c){return new W(null,2,5,X,[Nm,c.V],null)})),b)}var ls=function ls(a,b){throw Z(["Not implemented: (",A.g(ls),Zn(new W(null,2,5,X,[a,b],null))].join(""),V);};
function ms(a,b,c,d,e){if(xd(fl.g(a),d))throw Z(["Conflicting upsert: ",Y.j(Q([d]))," resolves both to ",Y.j(Q([e]))," and ",Y.j(Q([Hf(a,new W(null,2,5,X,[fl,d],null))]))].join(""),new w(null,1,[Ek,vk],null));b=T.i(fl.g(b),d,e);a=T.i(a,fl,b);return ls(a,c)}var ns=new Qh(null,new w(null,8,[Mm,null,Zk,null,Nm,null,Dk,null,Oj,null,xj,null,Im,null,bm,null],null),null);
function os(a){var b=tm.g(a);Ar(b);Br(b,hl);return Fd(function(c,d,e){return Fd(function(f,h,k){k=af(wa,k)?null:k;var l=Il.g(I(xr(b,hk,d,h)));return K.h(k,l)?f:null==k?$c.h(f,jd(new W(null,4,5,X,[Oj,d,h,l],null),new w(null,1,[Tk,!0],null))):$c.h(f,jd(new W(null,4,5,X,[bm,d,h,k],null),new w(null,1,[Tk,!0],null)))},c,e)},ad,Zl.g(a))}
function ps(a){var b=pn.g(a);if(x(b)){var c=Mb(b);b=function(d,e){x(ar(e))&&(e=dm.g(e),d=Qb(d,e));return d};c=Ga(b,c,Mk.g(a));b=Ga(b,c,xm.g(a));if(0===N(b))return fd.j(a,pn,Q([xm]));throw Z(["Tempids used only as value in transaction: ",Y.j(Q([Ad(yd,zg(Ob(b)))]))].join(""),new w(null,2,[Ek,Nl,fl,b],null));}return fd.j(a,pn,Q([xm]))}ls=function(){return null};
ls=function(a,b){if(null!=b&&!od(b))throw Z(["Bad transaction data ",Y.j(Q([b])),", expected sequential collection"].join(""),new w(null,2,[Ek,Nl,Mk,b],null));for(var c=!ld(Br(tm.g(a),Xl)),d=c?Cf.h(b,zf(Pn)):b,e=a,f=d;;){if(ld(f))return If.M(If.M(ps(e),fl,T,En,Wr(e)),tm,If,nl,Ec);var h=f,k=E(h),l=I(k),m=J(k),n=l,p=m;if(null==n)f=p;else if(K.h(Pn,n))if(xd(e,Zl)){var r=fd.h(e,Zl),u=te.h(os(e),p);e=r;f=u}else f=p;else{var v=tm.g(e),G=fl.g(e);if(pd(n)){var F=Yn.g(n);if(Xr(F)){var R=Wr(e),aa=$r(e,F,R),
ja=P(T.i(n,Yn,R),p);e=aa;f=ja}else if(od(F)){R=Mr(v,F);var ta=e,La=P(T.i(n,Yn,R),p);e=ta;f=La}else{var Yb=es(v,n),he=S(Yb,0,null),df=S(Yb,1,null),xb=fs(he,df);if(null!=xb){if(Yr(F)&&xd(G,F)&&Je.h(xb,C.h(G,F)))return ms(a,e,b,F,xb);var ef=If.A($r(e,F,xb),xm,Qq,cr.A(xb,null,null,536870912)),Aa=te.h(hs(v,T.i(he,Yn,xb)),p);e=ef;f=Aa}else if("number"===typeof F||null==F||"string"===typeof F){var ip=null==F?Sd(lk.g(v))+1:Yr(F)?function(){var Ia=C.h(G,F);return x(Ia)?Ia:Sd(lk.g(v))+1}():F,Jl=T.i(n,Yn,ip),
Aj=$r(e,F,ip),ep=te.h(hs(v,Jl),p);e=Aj;f=ep}else throw Z(["Expected number, string or lookup ref for :db/id, got ",Y.j(Q([F]))].join(""),new w(null,2,[Ek,vn,Pj,n],null));}}else if(od(n)){var ff=n,Oa=S(ff,0,null),Qa=S(ff,1,null),fb=S(ff,2,null),Ua=S(ff,3,null);if(K.h(Oa,Mm)){var ai=E(n),fp=I(ai),Kl=J(ai),Bj=fp,gf=I(Kl),Gd=J(Kl),Kg=e,Cj=te.h(Ee(gf,v,Gd),p);e=Kg;f=Cj}else if(Oa instanceof D&&ya(ns.g?ns.g(Oa):ns.call(null,Oa))){var Sa=Ur(v,Oa);if(null==Sa)throw Z(["Cant find entity for transaction fn ",
Y.j(Q([Oa]))].join(""),new w(null,3,[Ek,Nl,Gj,Mm,Mk,n],null));var Lg=Il.g(wr(v,new W(null,2,5,X,[Sa,en],null)));Gd=J(n);if(gd(Lg)){var hf=e,Ll=te.h(Ee(Lg,v,Gd),p);e=hf;f=Ll}else throw Z(["Entity ",Y.j(Q([Oa]))," expected to have :db/fn attribute with fn? value"].join(""),new w(null,3,[Ek,Nl,Gj,Mm,Mk,n],null));}else{if(Yr(Qa)&&Je.h(Oa,bm))throw Z(["Can't use tempid in '",Y.j(Q([n])),"'. Tempids are allowed in :db/add only"].join(""),new w(null,2,[Ek,Nl,yk,n],null));if(K.h(Oa,Im)||K.h(Oa,Zk)){var Ng=
n;Bj=S(Ng,0,null);var ie=S(Ng,1,null),Hd=S(Ng,2,null),Ol=S(Ng,3,null),Pl=S(Ng,4,null),Og=Mr(v,ie),rt=function(){var Ia=Hd;if(Ia instanceof D||"string"===typeof Ia)return null;var jf=n;throw Z(["Bad entity attribute ",Y.j(Q([Ia]))," at ",Y.j(Q([jf])),", expected keyword or string"].join(""),new w(null,3,[Pk,Ia,Qm,jf,Ek,Nl],null));}(),Pg=Nr(v,Hd)?Mr(v,Ol):Ol,Qg=Nr(v,Hd)?Mr(v,Pl):Pl,st=null==Qg?function(){var Ia=n;throw Z(["Cannot store nil as a value at ",Y.j(Q([Ia]))].join(""),new w(null,3,[bl,null,
Qm,Ia,Ek,Nl],null));}():null,je=bg(vr(v,new W(null,2,5,X,[Og,Hd],null)));if(Qr(v,Hd))if(x(bf(function(Ia,jf,jp,Ql,kp,Rl,lp,mp,Sl,Rg,Of){return function(Tl){return K.h(Tl.V,Of)}}(e,f,Ng,Bj,ie,Hd,Ol,Pl,Og,rt,Pg,Qg,st,je,ff,Oa,Qa,fb,Ua,v,G,h,k,l,m,n,p,a,c,d),je))){var tt=is(e,new W(null,4,5,X,[bm,Og,Hd,Qg],null)),ut=p;e=tt;f=ut}else throw Z([":db.fn/cas failed on datom [",Y.j(Q([Og]))," ",Y.j(Q([Hd]))," ",Y.j(Q([tf.h(Il,je)])),"], expected ",Y.j(Q([Pg]))].join(""),new w(null,4,[Ek,Rj,qj,je,Uk,Pg,Uj,
Qg],null));else{var bi=Il.g(I(je));if(K.h(bi,Pg)){var vt=is(e,new W(null,4,5,X,[bm,Og,Hd,Qg],null)),wt=p;e=vt;f=wt}else throw Z([":db.fn/cas failed on datom [",Y.j(Q([Og]))," ",Y.j(Q([Hd]))," ",Y.j(Q([bi])),"], expected ",Y.j(Q([Pg]))].join(""),new w(null,4,[Ek,Rj,qj,I(je),Uk,Pg,Uj,Qg],null));}}else if(Xr(Qa)){var xt=$r(e,Qa,Wr(e)),yt=P(new W(null,4,5,X,[Oa,Wr(e),fb,Ua],null),p);e=xt;f=yt}else if(Nr(v,fb)&&Xr(Ua)){var zt=$r(e,Ua,Wr(e)),At=P(new W(null,4,5,X,[Oa,Qa,fb,Wr(e)],null),p);e=zt;f=At}else if(Nr(v,
fb)&&Yr(Ua))if(Sa=C.h(G,Ua),null==Sa){var ci=Sd(lk.g(v))+1,np=If.M($r(e,Ua,ci),pn,T,ci,Ua),Bt=f;e=np;f=Bt}else{ci=Sa;var Ct=np=If.M(e,pn,T,ci,Ua),Dt=P(new W(null,4,5,X,[Oa,Qa,fb,ci],null),p);e=Ct;f=Dt}else if(Yr(Qa)){xb=Pr(v,fb,Kj)?dm.g(I(xr(v,Mj,fb,Ua))):null;var Ul=C.h(G,Qa);if(x(function(){var Ia=xb;return x(Ia)?(Ia=Ul,x(Ia)?Je.h(xb,Ul):Ia):Ia}()))return ms(a,e,b,Qa,xb);var op=function(){var Ia=xb;if(x(Ia))return Ia;Ia=Ul;return x(Ia)?Ia:Sd(lk.g(v))+1}(),Et=$r(e,Qa,op),Ft=P(new W(null,4,5,X,[Oa,
op,fb,Ua],null),p);e=Et;f=Ft}else if(ya(Tk.g(kd(n)))&&Sr(v,fb)){var Vl=Hf(v,new W(null,3,5,X,[Vk,fb,yn],null));if(K.h(N(Vl),N(Ua))&&af(za,Ua)&&af(function(Ia,jf,jp,Ql,kp,Rl,lp,mp,Sl){return function(Rg){var Of=S(Rg,0,null);Rg=S(Rg,1,null);Of=Il.g(I(xr(Sl,hk,Rl,Of)));return K.h(Rg,Of)}}(e,f,Vl,ff,Oa,Qa,fb,Ua,v,G,h,k,l,m,n,p,a,c,d),tf.i(fg,Vl,Ua)))f=p;else throw Z(["Cant modify tuple attrs directly: ",Y.j(Q([n]))].join(""),new w(null,2,[Ek,Nl,Mk,n],null));}else if(K.h(Oa,bm)){var Gt=is(e,n),Ht=p;e=
Gt;f=Ht}else if(K.h(Oa,Oj)&&null!=Ua)if(Sa=Ur(v,Qa),null==Sa)f=p;else{ie=Sa;bi=Nr(v,fb)?Mr(v,Ua):Ua;var Ej=fb;if(!(Ej instanceof D||"string"===typeof Ej)){var pp=n;throw Z(["Bad entity attribute ",Y.j(Q([Ej]))," at ",Y.j(Q([pp])),", expected keyword or string"].join(""),new w(null,3,[Pk,Ej,Qm,pp,Ek,Nl],null));}if(null==bi){var qp=n;throw Z(["Cannot store nil as a value at ",Y.j(Q([qp]))].join(""),new w(null,3,[bl,null,Qm,qp,Ek,Nl],null));}var rp=wr(v,new W(null,3,5,X,[ie,fb,bi],null));if(null==rp)f=
p;else{var It=js(e,rp),Jt=p;e=It;f=Jt}}else if(K.h(Oa,xj)||K.h(Oa,Oj))if(Sa=Ur(v,Qa),null==Sa)f=p;else{ie=Sa;Bj=function(){var Ia=fb;if(Ia instanceof D||"string"===typeof Ia)return null;var jf=n;throw Z(["Bad entity attribute ",Y.j(Q([Ia]))," at ",Y.j(Q([jf])),", expected keyword or string"].join(""),new w(null,3,[Pk,Ia,Qm,jf,Ek,Nl],null));}();je=bg(vr(v,new W(null,2,5,X,[ie,fb],null)));var Kt=Ga(js,e,je),Lt=te.h(ks(v,je),p);e=Kt;f=Lt}else if(K.h(Oa,Nm)||K.h(Oa,Dk))if(Sa=Ur(v,Qa),null==Sa)f=p;else{ie=
Sa;var Wl=bg(vr(v,new W(null,1,5,X,[ie],null))),Mt=bg(Df(function(Ia,jf,jp,Ql,kp,Rl,lp,mp,Sl,Rg,Of){return function(Tl){return vr(Of,new W(null,3,5,X,[null,Tl,Ql],null))}}(e,f,Wl,ie,Sa,ff,Oa,Qa,fb,Ua,v,G,h,k,l,m,n,p,a,c,d),Q([Br(v,xn)]))),Nt=Ga(js,e,te.h(Wl,Mt)),Ot=te.h(ks(v,Wl),p);e=Nt;f=Ot}else throw Z(["Unknown operation at ",Y.j(Q([n])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new w(null,3,[Ek,Nl,Gj,Oa,Mk,n],null));}}else if(xf(n)){var di=n;Qa=S(di,0,null);fb=S(di,1,null);Ua=S(di,2,null);var Pt=S(di,3,null),Qt=S(di,4,null);if(x(Qt)){var Rt=is(e,new W(null,5,5,X,[bm,Qa,fb,Ua,Pt],null)),St=p;e=Rt;f=St}else{var Tt=e,Ut=P(new W(null,4,5,X,[Oj,Qa,fb,Ua],null),p);e=Tt;f=Ut}}else throw Z(["Bad entity type at ",Y.j(Q([n])),", expected map or vector"].join(""),new w(null,2,[Ek,Nl,Mk,n],null));}}};function qs(a,b){b="number"===typeof b||od(b)||b instanceof D?Ur(a,b):null;if(x(b)&&Vr(a,b)){var c=new sf(!1),d=new sf(V);return rs.A?rs.A(a,b,c,d):rs.call(null,a,b,c,d)}return null}function ss(a,b,c){return Qr(a,b)?Nr(a,b)?Ga(function(d,e){return $c.h(d,qs(a,Il.g(e)))},Sh,c):Ga(function(d,e){return $c.h(d,Il.g(e))},Sh,c):Nr(a,b)?qs(a,Il.g(I(c))):Il.g(I(c))}
function ts(a,b,c,d){b=Ke(vr(a,new W(null,3,5,X,[null,c,b],null)));return x(b)?Rr(a,c)?qs(a,dm.g(I(b))):Ga(function(e,f){return $c.h(e,qs(a,dm.g(f)))},Sh,b):d}function us(a){return x(a)?Bd(a):null}
function vs(a){ws.g?ws.g(a):ws.call(null,a);return function d(c){return new ge(null,function(){for(;;){var e=E(c);if(e){if(sd(e)){var f=Ub(e),h=N(f),k=ne(h);a:for(var l=0;;)if(l<h){var m=Wa(f,l),n=S(m,0,null),p=S(m,1,null);m=k;n=Qr(a.db,n)?new W(null,2,5,X,[n,us(p)],null):new W(null,2,5,X,[n,p],null);m.add(n);l+=1}else{f=!0;break a}return f?pe(k.ma(),d(Vb(e))):pe(k.ma(),null)}f=I(e);k=S(f,0,null);f=S(f,1,null);return P(Qr(a.db,k)?new W(null,2,5,X,[k,us(f)],null):new W(null,2,5,X,[k,f],null),d(vc(e)))}return null}},
null,null)}(qb(a.cache))}function xs(a,b,c,d){this.db=a;this.Ib=b;this.od=c;this.cache=d;this.s=2162164483;this.H=0}g=xs.prototype;g.entry_set=function(){return Bd(tf.h(Bd,vs(this)))};
g.forEach=function(){function a(d,e){for(var f=E(vs(this)),h=null,k=0,l=0;;)if(l<k){var m=h.R(null,l),n=S(m,0,null);m=S(m,1,null);d.call(e,m,n,this);l+=1}else if(f=E(f))sd(f)?(h=Ub(f),f=Vb(f),n=h,k=N(h),h=n):(h=I(f),n=S(h,0,null),m=S(h,1,null),d.call(e,m,n,this),f=J(f),h=null,k=0),l=0;else return null}function b(d){for(var e=E(vs(this)),f=null,h=0,k=0;;)if(k<h){var l=f.R(null,k),m=S(l,0,null);l=S(l,1,null);d.i?d.i(l,m,this):d.call(null,l,m,this);k+=1}else if(e=E(e))sd(e)?(f=Ub(e),e=Vb(e),m=f,h=N(f),
f=m):(f=I(e),m=S(f,0,null),l=S(f,1,null),d.i?d.i(l,m,this):d.call(null,l,m,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();g.get=function(a){if(K.h(a,":db/id"))return this.Ib;if(cs(a))return us(ts(this.db,this.Ib,ds(a),null));var b=ys?ys(this,a):zs.call(null,this,a);return Qr(this.db,a)?us(b):b};g.key_set=function(){return Bd(yg(this))};
g.entries=function(){return new tg(E(vs(this)))};g.value_set=function(){return Bd(tf.h(Yc,vs(this)))};g.toString=function(){return gc(this)};g.keys=function(){return yc(yg(this))};g.values=function(){return yc(tf.h(Yc,vs(this)))};g.equiv=function(a){return As.h?As.h(this,a):As.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ia=function(a,b){return Bs?Bs(this,b,null):zs.call(null,this,b,null)};g.P=function(a,b,c){return Bs?Bs(this,b,c):zs.call(null,this,b,c)};
g.O=function(a,b,c){return Lb(T.i(qb(this.cache),Yn,this.Ib),b,c)};g.W=function(){ws.g?ws.g(this):ws.call(null,this);return N(qb(this.cache))};g.U=function(){return Cs.g?Cs.g(this):Cs.call(null,this)};g.G=function(a,b){return As.h?As.h(this,b):As.call(null,this,b)};g.Ra=function(a,b){return Je.h(sm,Bs?Bs(this,b,sm):zs.call(null,this,b,sm))};g.T=function(){ws.g?ws.g(this):ws.call(null,this);return E(qb(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.g=function(a){return ys?ys(this,a):zs.call(null,this,a)};g.h=function(a,b){return Bs?Bs(this,a,b):zs.call(null,this,a,b)};function rs(a,b,c,d){return new xs(a,b,c,d)}
function As(a,b){return b instanceof xs&&a.db===b.db&&K.h(a.Ib,b.Ib)}function Cs(a){return Tq(pc(a.Ib),da(a.db))}function zs(a){switch(arguments.length){case 2:return ys(arguments[0],arguments[1]);case 3:return Bs(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function ys(a,b){return Bs(a,b,null)}
function Bs(a,b,c){if(K.h(b,Yn))return a.Ib;if(cs(b))return ts(a.db,a.Ib,ds(b),c);var d=qb(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if(x(qb(a.od)))return c;d=Ke(vr(a.db,new W(null,2,5,X,[a.Ib,b],null)));if(null==d)return c;c=ss(a.db,b,d);d=a.cache;a=T.i(qb(a.cache),b,c);bc(d,a);return c}return d}function Ds(a,b){return Fd(function(c,d,e){return T.i(c,d,Rr(a,d)?Qr(a,d)?Th(tf.h(ws,e)):ws.g?ws.g(e):ws.call(null,e):e)},V,b)}
function Es(a,b){return Ga(function(c,d){var e=gm.g(I(d));return T.i(c,e,ss(a,e,d))},V,hi(gm,b))}function ws(a){if(null!=a){if(!x(qb(a.od))){var b=Ke(vr(a.db,new W(null,1,5,X,[a.Ib],null)));if(x(b)){var c=a.cache;b=Ds(a.db,Es(a.db,b));bc(c,b);bc(a.od,!0)}}return a}return null}ca("datascript.impl.entity.Entity",xs);var Fs=function Fs(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Fs.j(0<c.length?new H(c.slice(0),0,null):null)};Fs.j=function(a){var b=N(a);return Je.h(uf(b/2,a),vf(b/2,a))};Fs.F=0;Fs.I=function(a){return this.j(E(a))};var Gs=function Gs(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Gs.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)};
Gs.j=function(a,b,c){return Ga(function(d,e){d=I(vr(a,new W(null,2,5,X,[Ur(a,b),e],null)));return null==d?null:new Fc(new W(null,2,5,X,[gm.g(d),Il.g(d)],null))},null,c)};Gs.F=2;Gs.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};var Hs=function Hs(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hs.j(0<c.length?new H(c.slice(0),0,null):null)};Hs.j=function(a){return Ga(function(b,c){return x(c)?c:new Fc(c)},!0,a)};Hs.F=0;Hs.I=function(a){return this.j(E(a))};
var Is=function Is(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Is.j(0<c.length?new H(c.slice(0),0,null):null)};Is.j=function(a){return Ga(function(b,c){return x(c)?new Fc(c):c},null,a)};Is.F=0;Is.I=function(a){return this.j(E(a))};
var Js=function Js(a){switch(arguments.length){case 1:return Js.g(arguments[0]);case 2:return Js.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Js.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Js.g=function(){return!0};Js.h=function(a,b){return 0>fr(a,b)};Js.j=function(a,b,c){for(;;)if(Js.h(a,b))if(J(c))a=b,b=I(c),c=J(c);else return Js.h(b,I(c));else return!1};
Js.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Js.F=2;var Ks=function Ks(a){switch(arguments.length){case 1:return Ks.g(arguments[0]);case 2:return Ks.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ks.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Ks.g=function(){return!0};Ks.h=function(a,b){return 0<fr(a,b)};
Ks.j=function(a,b,c){for(;;)if(Ks.h(a,b))if(J(c))a=b,b=I(c),c=J(c);else return Ks.h(b,I(c));else return!1};Ks.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Ks.F=2;var Ls=function Ls(a){switch(arguments.length){case 1:return Ls.g(arguments[0]);case 2:return Ls.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ls.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Ls.g=function(){return!0};
Ls.h=function(a,b){return!(0<fr(a,b))};Ls.j=function(a,b,c){for(;;)if(Ls.h(a,b))if(J(c))a=b,b=I(c),c=J(c);else return Ls.h(b,I(c));else return!1};Ls.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Ls.F=2;
var Ms=function Ms(a){switch(arguments.length){case 1:return Ms.g(arguments[0]);case 2:return Ms.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ms.j(arguments[0],arguments[1],2<c.length?new H(c.slice(2),0,null):null)}};Ms.g=function(){return!0};Ms.h=function(a,b){return!(0>fr(a,b))};Ms.j=function(a,b,c){for(;;)if(Ms.h(a,b))if(J(c))a=b,b=I(c),c=J(c);else return Ms.h(b,I(c));else return!1};
Ms.I=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.j(b,a,c)};Ms.F=2;
var Dw=qh([Jj,Cm,ul,Nn,Em,Um,jm,Gl,zn,Vj,Tm,ak,Dl,Tn,Wj,Bn,ln,fn,rk,il,hm,Fm,lm,Fl,Bl,kn,sj,kj,lj,kl,um,Ij,Ik,Qk,Hk,Om,yl,Ck,Fn,Rm,Wn,Xm,Bk,ok,em,on,nj,an,Sm,im,Pm,pl,Cl,Km,Xk,kk,Gn,Ok,Am,Fj,Jm,On,Al,sl,Lj,Kk,In,Lk,Sj,Ml,gk,rl,vj,ik],[function(a){return!0===a},Hs,function(a){return!cf(a)},function(a,b,c,d){if(null==d)throw Z("get-else: nil default value is not supported",new w(null,1,[Ek,ym],null));a=I(vr(a,new W(null,2,5,X,[Ur(a,b),c],null)));return null==a?d:Il.g(a)},Ms,Di,Ks,N,Gs,wa,Id,Ec,Od,Ud,
function(a){return!1===a},ya,Id,Fs,fg,ni,Ls,function(a,b){return 0==a.lastIndexOf(b,0)},K,Qd,Ld,fe,function(a,b,c){return null==C.h(qs(a,b),c)},Id,Ri,cu,Wd,Jh,yd,fi,Pd,ld,Nd,Y,Ei,kd,function(a){return 0===a},Je,Ci,nt,function(a){if(a instanceof RegExp)return a;var b=li(/^\(\?([idmsux]*)\)/,a),c=S(b,0,null);b=S(b,1,null);a=Xd.h(a,null==c?0:c.length);return new RegExp(a,x(b)?b:"")},fg,Je,C,A,Js,de,ee,Md,za,function(a){return 0<a},Qi,ki,ae,xd,function(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,
c)==c},Xd,Td,function(a,b){return-1!=a.indexOf(b)},Kh,function(a,b){return a-b*Ud(a,b)},cf,Ba,function(a){return 0>a},function(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))},Ke,Is,function(a,b){return a===b},Th,li]);function Ns(a){return Ga(Ld,0,a)}function Os(a){return Ns(a)/N(a)}
function Ps(a){var b=Os(a);return Ns(function(){return function e(d){return new ge(null,function(){for(;;){var f=E(d);if(f){if(sd(f)){var h=Ub(f),k=N(h),l=ne(k);a:for(var m=0;;)if(m<k){var n=Wa(h,m)-b;l.add(n*n);m+=1}else{h=!0;break a}return h?pe(l.ma(),e(Vb(f))):pe(l.ma(),null)}l=I(f)-b;return P(l*l,e(vc(f)))}return null}},null,null)}(a)}())/N(a)}
var Qs=function Qs(a){switch(arguments.length){case 1:return Qs.g(arguments[0]);case 2:return Qs.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Qs.g=function(a){return Ga(function(b,c){return 0>yd(c,b)?c:b},I(a),J(a))};Qs.h=function(a,b){return bg(Ga(function(c,d){return N(c)<a?Ad(yd,$c.h(c,d)):0>yd(d,Zc(c))?Ad(yd,$c.h(Cu(c),d)):c},ad,b))};Qs.F=2;
var Rs=function Rs(a){switch(arguments.length){case 1:return Rs.g(arguments[0]);case 2:return Rs.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Rs.g=function(a){return Ga(function(b,c){return 0<yd(c,b)?c:b},I(a),J(a))};Rs.h=function(a,b){return bg(Ga(function(c,d){return N(c)<a?Ad(yd,$c.h(c,d)):0<yd(d,I(c))?Ad(yd,$c.h(J(c),d)):c},ad,b))};Rs.F=2;
var Ss=function Ss(a){switch(arguments.length){case 1:return Ss.g(arguments[0]);case 2:return Ss.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Ss.g=function(a){return Qc(a,Ri(N(a)))};Ss.h=function(a,b){return bg(Bf(a,function(){return Qc(b,Ri(N(b)))}))};Ss.F=2;
var Ew=qh([Hn,Gl,xl,El,Fl,Hk,Bm,Mn,Cn,Ak,kk,sn],[Ps,N,function(a){var b=Ad(yd,a);a=N(a);var c=a>>1,d=Qc(b,c);return cf(a)?(d+Qc(b,c-1))/2:d},Ns,Qs,Rs,function(a){return N(Uh(a))},Th,Os,function(a){return Math.sqrt(Ps(a))},Ss,function(a,b){var c=uf;b=Bd.g?Bd.g(b):Bd.call(null,b);const d=Math.random;for(let e=b.length-1;0<e;e--){const f=Math.floor(d()*(e+1)),h=b[e];b[e]=b[f];b[f]=h}b=bg.g?bg.g(b):bg.call(null,b);return bg(c(a,b))}]);function Ts(a,b,c,d,e,f,h,k,l,m,n,p,r,u,v){this.as=a;this.La=b;this.pa=c;this.name=d;this.pattern=e;this.Ea=f;this.Fa=h;this.Ha=k;this.sa=l;this.Da=m;this.Ga=n;this.Ca=p;this.N=r;this.D=u;this.B=v;this.s=2230716170;this.H=139264}g=Ts.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "as":return this.as;case "default":return this.La;case "limit":return this.pa;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Ea;case "recursive?":return this.Fa;case "reverse?":return this.Ha;case "xform":return this.sa;case "multival?":return this.Da;case "ref?":return this.Ga;case "component?":return this.Ca;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,te.h(new W(null,12,5,X,[new W(null,2,5,X,[qk,this.as],null),new W(null,2,5,X,[ej,this.La],null),new W(null,2,5,X,[Sn,this.pa],null),new W(null,2,5,X,[vm,this.name],null),new W(null,2,5,X,[tj,this.pattern],null),new W(null,2,5,X,[jn,this.Ea],null),new W(null,2,5,X,[Jn,this.Fa],null),new W(null,2,5,X,[zl,this.Ha],null),new W(null,2,5,X,[zk,this.sa],null),new W(null,2,5,X,[Rk,this.Da],
null),new W(null,2,5,X,[wl,this.Ga],null),new W(null,2,5,X,[vl,this.Ca],null)],null),this.D))};g.Ba=function(){return new sg(this,12,new W(null,12,5,X,[qk,ej,Sn,vm,tj,jn,Jn,zl,zk,Rk,wl,vl],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 12+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1743810262^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.as,b.as)&&K.h(this.default,b.default)&&K.h(this.pa,b.pa)&&K.h(this.name,b.name)&&K.h(this.pattern,b.pattern)&&K.h(this.Ea,b.Ea)&&K.h(this.Fa,b.Fa)&&K.h(this.Ha,b.Ha)&&K.h(this.sa,b.sa)&&K.h(this.Da,b.Da)&&K.h(this.Ga,b.Ga)&&K.h(this.Ca,b.Ca)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,12,[zk,null,Sn,null,zl,null,jn,null,ej,null,vm,null,qk,null,Jn,null,vl,null,wl,null,Rk,null,tj,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(qk,b):U.call(null,qk,b))?new Ts(c,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(ej,b):U.call(null,ej,b))?new Ts(this.as,c,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(Sn,b):U.call(null,Sn,b))?new Ts(this.as,this.La,c,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):
x(U.h?U.h(vm,b):U.call(null,vm,b))?new Ts(this.as,this.La,this.pa,c,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new Ts(this.as,this.La,this.pa,this.name,c,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(jn,b):U.call(null,jn,b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,c,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(Jn,b):U.call(null,Jn,
b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,c,this.Ha,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(zl,b):U.call(null,zl,b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,c,this.sa,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(zk,b):U.call(null,zk,b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,c,this.Da,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(Rk,b):U.call(null,Rk,b))?new Ts(this.as,this.La,
this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,c,this.Ga,this.Ca,this.N,this.D,null):x(U.h?U.h(wl,b):U.call(null,wl,b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,c,this.Ca,this.N,this.D,null):x(U.h?U.h(vl,b):U.call(null,vl,b))?new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,c,this.N,this.D,null):new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,
this.Da,this.Ga,this.Ca,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,12,5,X,[new Vf(qk,this.as),new Vf(ej,this.La),new Vf(Sn,this.pa),new Vf(vm,this.name),new Vf(tj,this.pattern),new Vf(jn,this.Ea),new Vf(Jn,this.Fa),new Vf(zl,this.Ha),new Vf(zk,this.sa),new Vf(Rk,this.Da),new Vf(wl,this.Ga),new Vf(vl,this.Ca)],null),this.D))};g.Y=function(a,b){return new Ts(this.as,this.La,this.pa,this.name,this.pattern,this.Ea,this.Fa,this.Ha,this.sa,this.Da,this.Ga,this.Ca,b,this.D,this.B)};
g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};function Fw(a){var b=fd.j(a,qk,Q([ej,Sn,vm,tj,jn,Jn,zl,zk,Rk,wl,vl]));b=qd(a)?Gf.h(V,b):b;return new Ts(qk.g(a),ej.g(a),Sn.g(a),vm.g(a),tj.g(a),jn.g(a),Jn.g(a),zl.g(a),zk.g(a),Rk.g(a),wl.g(a),vl.g(a),null,Ke(b),null)}function Us(a,b,c,d,e,f,h,k){this.lb=a;this.pb=b;this.qb=c;this.sb=d;this.wb=e;this.N=f;this.D=h;this.B=k;this.s=2230716170;this.H=139264}g=Us.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "attrs":return this.lb;case "first-attr":return this.pb;case "last-attr":return this.qb;case "reverse-attrs":return this.sb;case "wildcard?":return this.wb;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,te.h(new W(null,5,5,X,[new W(null,2,5,X,[Kn,this.lb],null),new W(null,2,5,X,[tl,this.pb],null),new W(null,2,5,X,[Vm,this.qb],null),new W(null,2,5,X,[$k,this.sb],null),new W(null,2,5,X,[wm,this.wb],null)],null),this.D))};g.Ba=function(){return new sg(this,5,new W(null,5,5,X,[Kn,tl,Vm,$k,wm],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};
g.W=function(){return 5+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-795554044^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.lb,b.lb)&&K.h(this.pb,b.pb)&&K.h(this.qb,b.qb)&&K.h(this.sb,b.sb)&&K.h(this.wb,b.wb)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,5,[$k,null,tl,null,Kn,null,wm,null,Vm,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Us(this.lb,this.pb,this.qb,this.sb,this.wb,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Kn,b):U.call(null,Kn,b))?new Us(c,this.pb,this.qb,this.sb,this.wb,this.N,this.D,null):x(U.h?U.h(tl,b):U.call(null,tl,b))?new Us(this.lb,c,this.qb,this.sb,this.wb,this.N,this.D,null):x(U.h?U.h(Vm,b):U.call(null,Vm,b))?new Us(this.lb,this.pb,c,this.sb,this.wb,this.N,this.D,null):x(U.h?U.h($k,b):U.call(null,$k,b))?new Us(this.lb,this.pb,this.qb,c,this.wb,this.N,this.D,null):x(U.h?U.h(wm,b):U.call(null,wm,b))?new Us(this.lb,this.pb,this.qb,this.sb,c,this.N,this.D,
null):new Us(this.lb,this.pb,this.qb,this.sb,this.wb,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,5,5,X,[new Vf(Kn,this.lb),new Vf(tl,this.pb),new Vf(Vm,this.qb),new Vf($k,this.sb),new Vf(wm,this.wb)],null),this.D))};g.Y=function(a,b){return new Us(this.lb,this.pb,this.qb,this.sb,this.wb,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};
function Gw(a){var b=fd.j(a,Kn,Q([tl,Vm,$k,wm]));b=qd(a)?Gf.h(V,b):b;return new Us(Kn.g(a),tl.g(a),Vm.g(a),$k.g(a),wm.g(a),null,Ke(b),null)}var Vs=Fw(new w(null,3,[vm,Yn,qk,Yn,zk,Id],null)),Zs=Gw(new w(null,1,[Kn,new bd(null,Vs,null,1,null)],null)),Hw=T.i(Zs,wm,!0);function Iw(a,b,c){if(x(a))return null;throw Z(["Expected ",A.g(b),", got: ",Y.j(Q([c]))].join(""),new w(null,2,[Ek,lv,fv,c],null));}
function Jw(a,b){var c=cs(b),d=c?ds(b):b,e=Nr(a,d),f=Rr(a,d);a=Qr(a,d);if(c){Iw(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return Fw(qh([zk,Sn,zl,vm,qk,vl,wl,Rk,tj],[Id,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?Zs:f?Hw:Zs:null]))}function Kw(a,b,c){Iw("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);Iw(Qr(a,vm.g(b)),"limit attribute having :db.cardinality/many",vm.g(b))}
function Lw(a,b){var c=function(){var d=I(b);return Mw.h?Mw.h(a,d):Mw.call(null,a,d)}();if(null==c)return null;Iw(cf(N(J(b))),"even number of opts",b);return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);switch(f instanceof D?f.ra:null){case "as":return T.i(d,qk,e);case "limit":return Kw(a,d,e),T.i(d,Sn,e);case "default":return T.i(d,ej,e);case "xform":f=T.i;var h=gd(e)?e:null;if(x(h))e=h;else if(h=C.h(Dw,e),x(h))e=h;else throw Z(["Can't resolve symbol ",Y.j(Q([e]))].join(""),new w(null,2,[Ek,
lv,fv,e],null));return f.call(T,d,zk,e);default:return Iw(!1,"one of :as, :limit, :default, :xform",b)}},c,tu(2,2,J(b)))}
function Mw(a,b){var c;!(c=b instanceof D)&&(c="string"===typeof b)&&(c=new Qh(null,new w(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=ya(c));if(c)return Jw(a,b);if(od(b)){c=Lw(a,b);if(x(c))return c;c=I(b);var d=new Qh(null,new w(null,2,[Ru,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);x(c)?(Iw(K.h(N(b),3),"['limit attr-name (positive-number | nil)]",b),S(b,0,null),d=S(b,1,null),c=S(b,2,null),d=Mw.h?Mw.h(a,d):Mw.call(null,a,d),Kw(a,d,c),c=T.i(d,Sn,c)):
c=null;if(x(c))return c;c=I(b);d=new Qh(null,new w(null,2,[Zu,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);x(c)?(Iw(K.h(N(b),3),"['default attr-name any-value]",b),S(b,0,null),d=S(b,1,null),c=S(b,2,null),a=Mw.h?Mw.h(a,d):Mw.call(null,a,d),a=T.i(a,ej,c)):a=null;return x(a)?a:Iw(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null}
function Nw(a,b){return bf(function(c){var d=S(c,0,null);c=S(c,1,null);return x(a.g?a.g(d):a.call(null,d))?c:null},tf.i(fg,b,fi.C()))}function Ow(a,b){var c=x(zl.g(b))?$k:Kn,d=Nw(function(e){return K.h(qk.g(e),qk.g(b))},C.h(a,c));return null==d?If.A(a,c,$c,b):If.M(a,c,T,d,b)}
function Pw(a,b){Iw(od(b),"pattern to be sequential?",b);for(var c=Gw(new w(null,3,[Kn,ad,$k,ad,wm,null],null));;){if(ld(b)){var d=c.lb,e=function(){return function(k){k=k.name;var l=new Qh(null,new w(null,2,[Yn,null,":db/id",null],null),null);return l.g?l.g(k):l.call(null,k)}}(b,c,d);b=function(){return function(k){k=vm.g(k);return k instanceof D?k:K.h(":",Xd.i(k,0,1))?ee.g(Xd.h(k,1)):ee.g(k)}}(b,c,d,e);d=x(function(){var k=c.wb;return x(k)?ya(bf(e,c.lb)):k}())?$c.h(d,Vs):d;d=E(bt(b,d));var f=ku(e,
d),h=I(f);f=Zc(f);return Gw(new w(null,5,[Kn,d,tl,h,Vm,f,$k,E(bt(b,c.sb)),wm,c.wb],null))}h=I(b);if(K.h(yl,h)||K.h("*",h)||K.h(Qv,h))b=J(b),c=d=T.i(c,wm,!0);else if(pd(h))d=Fd(function(){return function(k,l,m){var n=Mw(a,l);Iw(null!=n,"attr-name | attr-expr",l);Iw(Nr(a,vm.g(n)),"attribute having :db.type/ref",l);K.h(Gv,m)||K.h("...",m)?l=T.j(n,tj,null,Q([Jn,!0,jn,null])):"number"===typeof m?(Iw(0<m,"(positive-num | ...)",ed([l,m])),l=T.j(n,tj,null,Q([Jn,!0,jn,m]))):l=T.i(n,tj,Pw.h?Pw.h(a,m):Pw.call(null,
a,m));return Ow(k,l)}}(b,c,h),c,h),b=J(b),c=d;else{d=Mw(a,h);if(null==d)return Iw(!1,"attr-name | attr-expr | map-spec | *",h);b=J(b);c=d=Ow(c,d)}}};function Qw(a){return null==a?null:Ya(a)}function Rw(a){return null==a?null:ab(a)}function Sw(a,b){return null==a?new bd(null,b,null,1,null):Ta(a,b)}function Tw(a,b,c){return null==c?a:Pb(a,b,c)}function Uw(a,b,c,d,e){this.db=a;this.ef=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=Uw.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "db":return this.db;case "visitor":return this.ef;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Uu,this.db],null),new W(null,2,5,X,[Hv,this.ef],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Uu,Hv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};
g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1727735959^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.db,b.db)&&K.h(this.ef,b.ef)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[Uu,null,Hv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Uw(this.db,this.ef,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "db":case "visitor":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Uu,b):U.call(null,Uu,b))?new Uw(c,this.ef,this.N,this.D,null):x(U.h?U.h(Hv,b):U.call(null,Hv,b))?new Uw(this.db,c,this.N,this.D,null):new Uw(this.db,this.ef,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Uu,this.db),new Vf(Hv,this.ef)],null),this.D))};g.Y=function(a,b){return new Uw(this.db,this.ef,b,this.D,this.B)};
g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};function Vw(a,b,c,d,e){a=a.ef;null==a||(a.A?a.A(b,c,d,e):a.call(null,b,c,d,e))}function Ww(a,b){if(null!=a&&null!=a.nf)a=a.nf(a,b);else{var c=Ww[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ww._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IFrame.-merge",a);}return a}
function Xw(a,b){if(null!=a&&null!=a.hf)a=a.hf(a,b);else{var c=Xw[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Xw._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IFrame.-run",a);}return a}function Yw(a,b,c,d,e){this.value=a;this.xe=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=Yw.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "value":return this.value;case "datoms":return this.xe;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[bl,this.value],null),new W(null,2,5,X,[qm,this.xe],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[bl,qm],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=836381841^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.value,b.value)&&K.h(this.xe,b.xe)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[bl,null,qm,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Yw(this.value,this.xe,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "value":case "datoms":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(bl,b):U.call(null,bl,b))?new Yw(c,this.xe,this.N,this.D,null):x(U.h?U.h(qm,b):U.call(null,qm,b))?new Yw(this.value,c,this.N,this.D,null):new Yw(this.value,this.xe,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(bl,this.value),new Vf(qm,this.xe)],null),this.D))};g.Y=function(a,b){return new Yw(this.value,this.xe,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};
function Zw(a,b,c,d,e,f){this.Rb=a;this.Wa=b;this.xe=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=Zw.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "acc":return this.Rb;case "attr":return this.Wa;case "datoms":return this.xe;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[rv,this.Rb],null),new W(null,2,5,X,[Ev,this.Wa],null),new W(null,2,5,X,[qm,this.xe],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[rv,Ev,qm],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=1829867699^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Rb,b.Rb)&&K.h(this.Wa,b.Wa)&&K.h(this.xe,b.xe)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[rv,null,qm,null,Ev,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Zw(this.Rb,this.Wa,this.xe,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "acc":case "attr":case "datoms":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(rv,b):U.call(null,rv,b))?new Zw(c,this.Wa,this.xe,this.N,this.D,null):x(U.h?U.h(Ev,b):U.call(null,Ev,b))?new Zw(this.Rb,c,this.xe,this.N,this.D,null):x(U.h?U.h(qm,b):U.call(null,qm,b))?new Zw(this.Rb,this.Wa,c,this.N,this.D,null):new Zw(this.Rb,this.Wa,this.xe,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(rv,this.Rb),new Vf(Ev,this.Wa),new Vf(qm,this.xe)],null),this.D))};g.Y=function(a,b){return new Zw(this.Rb,this.Wa,this.xe,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};
g.hf=function(){for(var a=this,b=a.Rb,c=a.xe;;){var d=Qw(c);if(null==d||Je.h(d.a,a.Wa.name))return new W(null,1,5,X,[new Yw(Ke(Ob(b)),function(){var h=c;return x(h)?h:wc}(),null,null,null)],null);if(x(function(){var h=a.Wa.pa;return x(h)?N(b)>=a.Wa.pa:h}()))for(var e=c;;){d=Qw(e);if(null==d||Je.h(d.a,a.Wa.name))return new W(null,1,5,X,[new Yw(Ob(b),function(){var h=e;return x(h)?h:wc}(),null,null,null)],null);e=Rw(e)}else{d=Nb(b,d.V);var f=Rw(c);b=d;c=f}}};
function $w(a,b,c,d,e,f,h,k,l){this.md=a;this.Kc=b;this.Rb=c;this.pattern=d;this.Wa=e;this.xe=f;this.N=h;this.D=k;this.B=l;this.s=2230716170;this.H=139264}g=$w.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "seen":return this.md;case "recursion-limits":return this.Kc;case "acc":return this.Rb;case "pattern":return this.pattern;case "attr":return this.Wa;case "datoms":return this.xe;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,te.h(new W(null,6,5,X,[new W(null,2,5,X,[Rv,this.md],null),new W(null,2,5,X,[Fv,this.Kc],null),new W(null,2,5,X,[rv,this.Rb],null),new W(null,2,5,X,[tj,this.pattern],null),new W(null,2,5,X,[Ev,this.Wa],null),new W(null,2,5,X,[qm,this.xe],null)],null),this.D))};g.Ba=function(){return new sg(this,6,new W(null,6,5,X,[Rv,Fv,rv,tj,Ev,qm],null),x(this.D)?dc(this.D):Me())};
g.X=function(){return this.N};g.W=function(){return 6+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1769511936^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.md,b.md)&&K.h(this.Kc,b.Kc)&&K.h(this.Rb,b.Rb)&&K.h(this.pattern,b.pattern)&&K.h(this.Wa,b.Wa)&&K.h(this.xe,b.xe)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,6,[rv,null,Rv,null,Fv,null,qm,null,tj,null,Ev,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new $w(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.xe,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Rv,b):U.call(null,Rv,b))?new $w(c,this.Kc,this.Rb,this.pattern,this.Wa,this.xe,this.N,this.D,null):x(U.h?U.h(Fv,b):U.call(null,Fv,b))?new $w(this.md,c,this.Rb,this.pattern,this.Wa,this.xe,this.N,this.D,null):x(U.h?U.h(rv,b):U.call(null,rv,b))?new $w(this.md,this.Kc,c,this.pattern,this.Wa,this.xe,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new $w(this.md,this.Kc,this.Rb,c,this.Wa,this.xe,this.N,this.D,null):x(U.h?U.h(Ev,b):U.call(null,Ev,b))?new $w(this.md,
this.Kc,this.Rb,this.pattern,c,this.xe,this.N,this.D,null):x(U.h?U.h(qm,b):U.call(null,qm,b))?new $w(this.md,this.Kc,this.Rb,this.pattern,this.Wa,c,this.N,this.D,null):new $w(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.xe,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,6,5,X,[new Vf(Rv,this.md),new Vf(Fv,this.Kc),new Vf(rv,this.Rb),new Vf(tj,this.pattern),new Vf(Ev,this.Wa),new Vf(qm,this.xe)],null),this.D))};
g.Y=function(a,b){return new $w(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.xe,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.nf=function(a,b){a=this.md;var c=this.Kc,d=this.Rb;b=b.value;b=null==b?d:Nb(d,b);return new $w(a,c,b,this.pattern,this.Wa,Rw(this.xe),null,null,null)};
g.hf=function(a,b){var c=this;a=Qw(c.xe);if(null==a||Je.h(a.a,c.Wa.name))return new W(null,1,5,X,[new Yw(Ke(Ob(c.Rb)),function(){var e=c.xe;return x(e)?e:wc}(),null,null,null)],null);if(x(function(){var e=c.Wa.pa;return x(e)?N(c.Rb)>=c.Wa.pa:e}()))for(var d=c.xe;;){b=Qw(d);if(null==b||Je.h(b.a,c.Wa.name))return new W(null,1,5,X,[new Yw(Ob(c.Rb),function(){var e=d;return x(e)?e:wc}(),null,null,null)],null);d=Rw(d)}else return a=x(c.Wa.Ha)?a.e:a.V,new W(null,2,5,X,[this,ax.na?ax.na(b,c.md,c.Kc,c.pattern,
c.Wa,a):ax.call(null,b,c.md,c.Kc,c.pattern,c.Wa,a)],null)};function bx(a,b,c,d,e,f,h,k,l,m,n){this.md=a;this.Kc=b;this.Rb=c;this.pattern=d;this.Wa=e;this.lb=f;this.xe=h;this.id=k;this.N=l;this.D=m;this.B=n;this.s=2230716170;this.H=139264}g=bx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "seen":return this.md;case "recursion-limits":return this.Kc;case "acc":return this.Rb;case "pattern":return this.pattern;case "attr":return this.Wa;case "attrs":return this.lb;case "datoms":return this.xe;case "id":return this.id;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,te.h(new W(null,8,5,X,[new W(null,2,5,X,[Rv,this.md],null),new W(null,2,5,X,[Fv,this.Kc],null),new W(null,2,5,X,[rv,this.Rb],null),new W(null,2,5,X,[tj,this.pattern],null),new W(null,2,5,X,[Ev,this.Wa],null),new W(null,2,5,X,[Kn,this.lb],null),new W(null,2,5,X,[qm,this.xe],null),new W(null,2,5,X,[tv,this.id],null)],null),this.D))};
g.Ba=function(){return new sg(this,8,new W(null,8,5,X,[Rv,Fv,rv,tj,Ev,Kn,qm,tv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 8+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1127179791^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.md,b.md)&&K.h(this.Kc,b.Kc)&&K.h(this.Rb,b.Rb)&&K.h(this.pattern,b.pattern)&&K.h(this.Wa,b.Wa)&&K.h(this.lb,b.lb)&&K.h(this.xe,b.xe)&&K.h(this.id,b.id)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,8,[rv,null,Rv,null,tv,null,Fv,null,Kn,null,qm,null,tj,null,Ev,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.xe,this.id,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Rv,b):U.call(null,Rv,b))?new bx(c,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.xe,this.id,this.N,this.D,null):x(U.h?U.h(Fv,b):U.call(null,Fv,b))?new bx(this.md,c,this.Rb,this.pattern,this.Wa,this.lb,this.xe,this.id,this.N,this.D,null):x(U.h?U.h(rv,b):U.call(null,rv,b))?new bx(this.md,this.Kc,c,this.pattern,this.Wa,this.lb,this.xe,this.id,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new bx(this.md,this.Kc,this.Rb,c,this.Wa,this.lb,this.xe,this.id,
this.N,this.D,null):x(U.h?U.h(Ev,b):U.call(null,Ev,b))?new bx(this.md,this.Kc,this.Rb,this.pattern,c,this.lb,this.xe,this.id,this.N,this.D,null):x(U.h?U.h(Kn,b):U.call(null,Kn,b))?new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,c,this.xe,this.id,this.N,this.D,null):x(U.h?U.h(qm,b):U.call(null,qm,b))?new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,c,this.id,this.N,this.D,null):x(U.h?U.h(tv,b):U.call(null,tv,b))?new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.xe,c,this.N,
this.D,null):new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.xe,this.id,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,8,5,X,[new Vf(Rv,this.md),new Vf(Fv,this.Kc),new Vf(rv,this.Rb),new Vf(tj,this.pattern),new Vf(Ev,this.Wa),new Vf(Kn,this.lb),new Vf(qm,this.xe),new Vf(tv,this.id)],null),this.D))};g.Y=function(a,b){return new bx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.xe,this.id,b,this.D,this.B)};
g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.nf=function(a,b){var c=this;return new bx(c.md,c.Kc,Tw(c.Rb,c.Wa.as,function(){var d=b.value,e=c.Wa.sa;return e.g?e.g(d):e.call(null,d)}()),c.pattern,Qw(c.lb),Rw(c.lb),Ke(function(){var d=b.xe;return x(d)?d:Rw(c.xe)}()),c.id,null,null,null)};
g.hf=function(a,b){var c=this,d=c.Rb,e=c.Wa;a=c.lb;for(var f=c.xe;;){if(null==f&&null==e)return new W(null,1,5,X,[function(){var r=c.md,u=c.Kc,v=d,G=c.pattern,F=Qw(c.pattern.sb),R=Rw(c.pattern.sb),aa=c.id;return cx.jb?cx.jb(r,u,v,G,F,R,aa):cx.call(null,r,u,v,G,F,R,aa)}()],null);if(null!=e&&K.h(Yn,e.name)){var h=we(d,e.as,function(){var r=e.sa;return r.g?r.g(c.id):r.call(null,c.id)}()),k=Qw(a);a=Rw(a);d=h;e=k}else{var l=Qw(f),m=x(function(){var r=l;return x(r)?e:r}())?yd(e.name,l.a):null,n=function(){var r=
null==e;if(r)return r;r=m;return x(r)?0<m:r}(),p=function(){var r=null==l;if(r)return r;r=m;return x(r)?0>m:r}();if(x(function(){var r=c.pattern.wb;return x(r)?(r=null!=l)?n:r:r}()))k=yw(b.db.Oa,l.a,function(r,u,v,G,F){return function(){return Jw(b.db,F.a)}}(d,e,a,f,l,m,n,p,this)),h=d,a=x(e)?Sw(a,e):null,d=h,e=k;else if(x(n))h=d,k=e,f=Rw(f),d=h,e=k;else if(Vw(b,Tu,c.id,e.name,null),x(function(){var r=p;return x(r)?null==e:r}()))h=d,k=Qw(a),a=Rw(a),d=h,e=k;else if(x(function(){var r=p;return x(r)?
null!=ej.g(e):r}()))h=we(d,e.as,ej.g(e)),k=Qw(a),a=Rw(a),d=h,e=k;else if(x(p))h=function(){var r=e.sa;return r.g?r.g(null):r.call(null,null)}(),null==h?(h=d,k=Qw(a),a=Rw(a),d=h,e=k):(h=Pb(d,e.as,h),k=Qw(a),a=Rw(a),d=h,e=k);else{if(x(function(){var r=e.Da;return x(r)?e.Ga:r}()))return new W(null,2,5,X,[new bx(c.md,c.Kc,d,c.pattern,e,a,f,c.id,null,null,null),new $w(c.md,c.Kc,Mb(ad),c.pattern,e,f,null,null,null)],null);if(x(e.Da))return new W(null,2,5,X,[new bx(c.md,c.Kc,d,c.pattern,e,a,f,c.id,null,
null,null),new Zw(Mb(ad),e,f,null,null,null)],null);if(x(e.Ga))return new W(null,2,5,X,[new bx(c.md,c.Kc,d,c.pattern,e,a,f,c.id,null,null,null),function(){var r=c.md,u=c.Kc,v=c.pattern,G=e,F=l.V;return ax.na?ax.na(b,r,u,v,G,F):ax.call(null,b,r,u,v,G,F)}()],null);h=we(d,e.as,function(){var r=l.V,u=e.sa;return u.g?u.g(r):u.call(null,r)}());k=Qw(a);a=Rw(a);f=Rw(f);d=h;e=k}}}};
function dx(a,b,c,d,e,f,h,k,l,m){this.md=a;this.Kc=b;this.Rb=c;this.pattern=d;this.Wa=e;this.lb=f;this.id=h;this.N=k;this.D=l;this.B=m;this.s=2230716170;this.H=139264}g=dx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "seen":return this.md;case "recursion-limits":return this.Kc;case "acc":return this.Rb;case "pattern":return this.pattern;case "attr":return this.Wa;case "attrs":return this.lb;case "id":return this.id;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,te.h(new W(null,7,5,X,[new W(null,2,5,X,[Rv,this.md],null),new W(null,2,5,X,[Fv,this.Kc],null),new W(null,2,5,X,[rv,this.Rb],null),new W(null,2,5,X,[tj,this.pattern],null),new W(null,2,5,X,[Ev,this.Wa],null),new W(null,2,5,X,[Kn,this.lb],null),new W(null,2,5,X,[tv,this.id],null)],null),this.D))};
g.Ba=function(){return new sg(this,7,new W(null,7,5,X,[Rv,Fv,rv,tj,Ev,Kn,tv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 7+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=470210558^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.md,b.md)&&K.h(this.Kc,b.Kc)&&K.h(this.Rb,b.Rb)&&K.h(this.pattern,b.pattern)&&K.h(this.Wa,b.Wa)&&K.h(this.lb,b.lb)&&K.h(this.id,b.id)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,7,[rv,null,Rv,null,tv,null,Fv,null,Kn,null,tj,null,Ev,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new dx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.id,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Rv,b):U.call(null,Rv,b))?new dx(c,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.id,this.N,this.D,null):x(U.h?U.h(Fv,b):U.call(null,Fv,b))?new dx(this.md,c,this.Rb,this.pattern,this.Wa,this.lb,this.id,this.N,this.D,null):x(U.h?U.h(rv,b):U.call(null,rv,b))?new dx(this.md,this.Kc,c,this.pattern,this.Wa,this.lb,this.id,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new dx(this.md,this.Kc,this.Rb,c,this.Wa,this.lb,this.id,this.N,this.D,null):x(U.h?U.h(Ev,
b):U.call(null,Ev,b))?new dx(this.md,this.Kc,this.Rb,this.pattern,c,this.lb,this.id,this.N,this.D,null):x(U.h?U.h(Kn,b):U.call(null,Kn,b))?new dx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,c,this.id,this.N,this.D,null):x(U.h?U.h(tv,b):U.call(null,tv,b))?new dx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,c,this.N,this.D,null):new dx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.id,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,7,5,X,[new Vf(Rv,this.md),new Vf(Fv,this.Kc),new Vf(rv,this.Rb),new Vf(tj,this.pattern),new Vf(Ev,this.Wa),new Vf(Kn,this.lb),new Vf(tv,this.id)],null),this.D))};g.Y=function(a,b){return new dx(this.md,this.Kc,this.Rb,this.pattern,this.Wa,this.lb,this.id,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};
g.nf=function(a,b){a=this.md;var c=this.Kc,d=this.Rb,e=this.Wa.as;b=b.value;var f=this.Wa.sa;b=f.g?f.g(b):f.call(null,b);return new dx(a,c,Tw(d,e,b),this.pattern,Qw(this.lb),Rw(this.lb),this.id,null,null,null)};
g.hf=function(a,b){var c=this.Rb;a=this.Wa;for(var d=this.lb;;){if(null==a)return new W(null,1,5,X,[new Yw(Ke(Ob(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof Cr?Mq(f.Aa,cr.A(0,e,this.id,536870912),cr.A(2147483647,e,this.id,2147483647)):vr(f,new W(null,3,5,X,[null,e,this.id],null));Vw(b,fw,null,e,this.id);if(ld(f)&&null!=ej.g(a))c=we(c,a.as,ej.g(a)),a=Qw(d),d=e=Rw(d);else if(ld(f))a=Qw(d),d=e=Rw(d);else{if(x(a.Ca)){e=X;c=new dx(this.md,this.Kc,c,this.pattern,a,d,this.id,null,
null,null);d=this.md;var h=this.Kc,k=this.pattern;f=Qw(f).e;b=ax.na?ax.na(b,d,h,k,a,f):ax.call(null,b,d,h,k,a,f);b=new W(null,2,5,e,[c,b],null)}else b=new W(null,2,5,X,[new dx(this.md,this.Kc,c,this.pattern,a,d,this.id,null,null,null),new $w(this.md,this.Kc,Mb(ad),this.pattern,a,f,null,null,null)],null);return b}}};function cx(a,b,c,d,e,f,h){return new dx(a,b,c,d,e,f,h,null,null,null)}
function ax(a,b,c,d,e,f){var h=e.Fa;x(h)||(h=e.Ca,h=x(h)?e.pattern.wb:h);if(ya(h))return d=e.pattern,ex.M?ex.M(a,b,c,d,f):ex.call(null,a,b,c,d,f);if(x(b.g?b.g(f):b.call(null,f)))return new Yw(new w(null,1,[Yn,f],null),null,null,null,null);h=c.g?c.g(e):c.call(null,e);if(x(x(h)?0>=h:h))return new Yw(null,null,null,null,null);b=$c.h(b,f);c=x(h)?If.i(c,e,nt):x(e.Ea)?T.i(c,e,e.Ea-1):c;d=x(e.Fa)?d:e.pattern;return ex.M?ex.M(a,b,c,d,f):ex.call(null,a,b,c,d,f)}
function ex(a,b,c,d,e){var f=a.db,h=x(function(){var k=d.wb;return x(k)?f instanceof Cr:k}())?Mq(f.va,cr.A(e,null,null,536870912),cr.A(e,null,null,2147483647)):x(d.wb)?vr(f,new W(null,1,5,X,[e],null)):null==d.pb?null:function(){var k=d.pb.name,l=d.qb.name;return f instanceof Cr?Mq(f.va,cr.A(e,k,null,536870912),cr.A(e,l,null,2147483647)):yr(f,e)}();x(d.wb)&&Vw(a,Wu,e,null,null);return new bx(b,c,Mb(V),d,Qw(d.lb),Rw(d.lb),h,e,null,null,null)}
function fx(a,b){var c=Ie(a);a=C.h(c,Qm);c=C.h(c,tj);b=Ur(a.db,b);if(null==b)return null;for(c=new bd(null,ex(a,Sh,V,c,b),null,1,null);;){b=Qw(c);var d=Rw(c);if(b instanceof Yw){if(null==d)return b.value;c=Qw(d);d=Rw(d);c=Sw(d,Ww(c,b))}else c=Ga(Sw,d,Xw(b,a))}}function gx(a,b){var c=Ie(null);c=C.h(c,Hv);return new w(null,2,[tj,yw(a.Pa,b,function(){return Pw(a,b)}),Qm,new Uw(a,c,null,null,null)],null)};var ct=function ct(a){switch(arguments.length){case 1:return ct.g(arguments[0]);case 2:return ct.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};ct.g=function(a){return qw(a)};ct.h=function(a,b){return Lp(a,b)};ct.F=2;function hx(){}function ix(a,b,c){if(null!=a&&null!=a.Pe)a=a.Pe(a,b,c);else{var d=ix[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=ix._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("ITraversable.-collect",a);}return a}function jx(a,b){if(null!=a&&null!=a.Qe)a=a.Qe(a,b);else{var c=jx[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=jx._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ITraversable.-collect-vars",a);}return a}
function kx(a,b){return od(a)&&K.h(N(a),b)}function lx(a,b){return od(b)?Ga(function(c,d){d=a.g?a.g(d):a.call(null,d);return x(d)?$c.h(c,d):new Fc(null)},ad,b):null}function mx(a,b){return nx(a,b,ad)}function nx(a,b,c){return x(a.g?a.g(b):a.call(null,b))?$c.h(c,b):(null!=b?t===b.Oe||(b.Cd?0:y(hx,b)):y(hx,b))?ix(b,a,c):Aw(b)?Ga(function(d,e){return nx(a,e,d)},c,b):c}function ox(a){var b=ld(a);return b?b:De($s,a)}function px(a,b){return jd(a,new w(null,1,[pv,b],null))}
function qx(a){var b=pv.g(kd(a));return x(b)?b:a}function rx(a,b,c){this.N=a;this.D=b;this.B=c;this.s=2230716170;this.H=139264}g=rx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return C.i(this.D,b,c)};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,te.h(ad,this.D))};
g.Ba=function(){return new sg(this,0,ad,x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 0+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-528488587^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(Sh,b)?fd.h(tb(Gf.h(V,this),this.N),b):new rx(this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){return xd(this.D,b)};g.ua=function(a,b,c){return new rx(this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(ad,this.D))};g.Y=function(a,b){return new rx(b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return c};g.Qe=function(a,b){return b};function sx(a,b,c,d){this.Ne=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=sx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "symbol":return this.Ne;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Dn,this.Ne],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Dn],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=736891289^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Ne,b.Ne)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Dn,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new sx(this.Ne,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "symbol":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Dn,b):U.call(null,Dn,b))?new sx(c,this.N,this.D,null):new sx(this.Ne,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Dn,this.Ne)],null),this.D))};g.Y=function(a,b){return new sx(this.Ne,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Ne,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Ne):tx.call(null,b,this.Ne)};
function ux(a,b,c,d){this.Ne=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=ux.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "symbol":return this.Ne;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Dn,this.Ne],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Dn],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1648766309^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Ne,b.Ne)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Dn,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new ux(this.Ne,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "symbol":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Dn,b):U.call(null,Dn,b))?new ux(c,this.N,this.D,null):new ux(this.Ne,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Dn,this.Ne)],null),this.D))};g.Y=function(a,b){return new ux(this.Ne,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Ne,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Ne):tx.call(null,b,this.Ne)};function vx(a,b,c){this.N=a;this.D=b;this.B=c;this.s=2230716170;this.H=139264}g=vx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){return C.i(this.D,b,c)};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,te.h(ad,this.D))};g.Ba=function(){return new sg(this,0,ad,x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 0+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=-350962559^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(Sh,b)?fd.h(tb(Gf.h(V,this),this.N),b):new vx(this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){return xd(this.D,b)};g.ua=function(a,b,c){return new vx(this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(ad,this.D))};g.Y=function(a,b){return new vx(b,this.D,this.B)};
g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return c};g.Qe=function(a,b){return b};function wx(a,b,c){this.N=a;this.D=b;this.B=c;this.s=2230716170;this.H=139264}g=wx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return C.i(this.D,b,c)};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,te.h(ad,this.D))};g.Ba=function(){return new sg(this,0,ad,x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 0+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1504050517^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(Sh,b)?fd.h(tb(Gf.h(V,this),this.N),b):new wx(this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){return xd(this.D,b)};g.ua=function(a,b,c){return new wx(this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(ad,this.D))};g.Y=function(a,b){return new wx(b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return c};g.Qe=function(a,b){return b};
function xx(a,b,c,d){this.value=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=xx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "value":return this.value;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[bl,this.value],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[bl],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-812884714^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.value,b.value)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[bl,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new xx(this.value,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "value":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(bl,b):U.call(null,bl,b))?new xx(c,this.N,this.D,null):new xx(this.value,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(bl,this.value)],null),this.D))};g.Y=function(a,b){return new xx(this.value,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.value,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.value):tx.call(null,b,this.value)};
function yx(a,b,c,d){this.Ne=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=yx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "symbol":return this.Ne;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Dn,this.Ne],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Dn],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1509921913^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Ne,b.Ne)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Dn,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new yx(this.Ne,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "symbol":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Dn,b):U.call(null,Dn,b))?new yx(c,this.N,this.D,null):new yx(this.Ne,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Dn,this.Ne)],null),this.D))};g.Y=function(a,b){return new yx(this.Ne,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Ne,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Ne):tx.call(null,b,this.Ne)};function zx(a){return a instanceof B&&K.h(I(fe(a)),"?")?new sx(a,null,null,null):null}
function Ax(a){var b=zx(a);if(x(b))return b;throw Z(["Cannot parse var, expected symbol starting with ?, got: ",Y.j(Q([a]))].join(""),new w(null,2,[Ek,Ou,hv,a],null));}function Bx(a){return a instanceof B&&K.h(I(fe(a)),"$")?new ux(a,null,null,null):null}function Cx(a){return a instanceof B&&K.h(I(fe(a)),"?")?null:new xx(a,null,null,null)}
function Dx(a){return a instanceof B&&ya(zx(a))&&ya(Bx(a))&&ya(K.h(zv,a)?new wx(null,null,null):null)&&ya(K.h(Lv,a)?new rx(null,null,null):null)?new yx(a,null,null,null):null}function Ex(a){return x(Dx(a))?new sx(a,null,null,null):null}function Fx(a){var b=zx(a);if(x(b))return b;b=Bx(a);return x(b)?b:Cx(a)}function Gx(a,b,c,d,e){this.required=a;this.bf=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=Gx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "required":return this.required;case "free":return this.bf;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Pu,this.required],null),new W(null,2,5,X,[Sv,this.bf],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Pu,Sv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=892963297^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.required,b.required)&&K.h(this.bf,b.bf)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[Sv,null,Pu,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Gx(this.required,this.bf,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "required":case "free":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Pu,b):U.call(null,Pu,b))?new Gx(c,this.bf,this.N,this.D,null):x(U.h?U.h(Sv,b):U.call(null,Sv,b))?new Gx(this.required,c,this.N,this.D,null):new Gx(this.required,this.bf,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Pu,this.required),new Vf(Sv,this.bf)],null),this.D))};g.Y=function(a,b){return new Gx(this.required,this.bf,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.bf,nx(b,this.required,c))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.required):tx.call(null,b,this.required);b=this.bf;return tx.h?tx.h(a,b):tx.call(null,a,b)};
function Hx(a){if(od(a)){var b=od(I(a))?new W(null,2,5,X,[I(a),J(a)],null):new W(null,2,5,X,[null,a],null),c=S(b,0,null);b=S(b,1,null);c=lx(Ax,c);b=lx(Ax,b);if(ld(c)&&ld(b))throw Z("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new w(null,2,[Ek,mv,hv,a],null));if(!x(ox(te.h(c,b))))throw Z("Rule variables should be distinct",new w(null,2,[Ek,mv,hv,a],null));return new Gx(c,b,null,null,null)}throw Z("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new w(null,2,[Ek,mv,hv,a],null));}function Ix(a){return te.h(x(Pu.g(a))?new W(null,1,5,X,[ru.h(Dn,Pu.g(a))],null):null,ru.h(Dn,Sv.g(a)))}function Jx(a){return new W(null,2,5,X,[N(Pu.g(a)),N(Sv.g(a))],null)}function Kx(a,b,c){this.N=a;this.D=b;this.B=c;this.s=2230716170;this.H=139264}g=Kx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return C.i(this.D,b,c)};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,te.h(ad,this.D))};g.Ba=function(){return new sg(this,0,ad,x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 0+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-890522983^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(Sh,b)?fd.h(tb(Gf.h(V,this),this.N),b):new Kx(this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){return xd(this.D,b)};g.ua=function(a,b,c){return new Kx(this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(ad,this.D))};g.Y=function(a,b){return new Kx(b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return c};
g.Qe=function(a,b){return b};function Lx(a,b,c,d){this.Se=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Lx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "variable":return this.Se;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[ov,this.Se],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[ov],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1522792445^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Se,b.Se)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[ov,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Lx(this.Se,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "variable":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(ov,b):U.call(null,ov,b))?new Lx(c,this.N,this.D,null):new Lx(this.Se,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(ov,this.Se)],null),this.D))};g.Y=function(a,b){return new Lx(this.Se,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Se,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Se):tx.call(null,b,this.Se)};function Mx(a,b,c,d){this.Ze=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Mx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "bindings":return this.Ze;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[aw,this.Ze],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[aw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1637239347^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Ze,b.Ze)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[aw,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Mx(this.Ze,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "bindings":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(aw,b):U.call(null,aw,b))?new Mx(c,this.N,this.D,null):new Mx(this.Ze,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(aw,this.Ze)],null),this.D))};g.Y=function(a,b){return new Mx(this.Ze,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.Ze,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Ze):tx.call(null,b,this.Ze)};function Nx(a,b,c,d){this.Re=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Nx.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "binding":return this.Re;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Nv,this.Re],null)],null),this.D))};g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Nv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1930368089^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Re,b.Re)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Nv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Nx(this.Re,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "binding":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Nv,b):U.call(null,Nv,b))?new Nx(c,this.N,this.D,null):new Nx(this.Re,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Nv,this.Re)],null),this.D))};g.Y=function(a,b){return new Nx(this.Re,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Re,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Re):tx.call(null,b,this.Re)};
function Ox(a){return K.h(Lv,a)?px(new Kx(null,null,null),a):null}function Px(a){var b=Ox(a);return x(b)?b:Qx.g?Qx.g(a):Qx.call(null,a)}function Rx(a){var b=lx(Px,a);if(x(b)){if(ld(b))throw Z("Tuple binding cannot be empty",new w(null,2,[Ek,Uv,hv,a],null));return px(new Mx(b,null,null,null),a)}return null}
function Qx(a){a:{if(kx(a,2)&&K.h(Yc(a),Gv)){var b=I(a);b=Qx.g?Qx.g(b):Qx.call(null,b);if(x(b)){b=px(new Nx(b,null,null,null),a);break a}throw Z("Cannot parse collection binding",new w(null,2,[Ek,Uv,hv,a],null));}b=null}if(x(b))return b;b=kx(a,1)&&od(I(a))?px(new Nx(Rx(I(a)),null,null,null),a):null;if(x(b))return b;b=Rx(a);if(x(b))return b;b=Ox(a);if(x(b))return b;b=zx(a);b=x(b)?px(new Lx(b,null,null,null),a):null;if(x(b))return b;throw Z("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new w(null,2,[Ek,Uv,hv,a],null));}function Sx(a){if(null!=a&&null!=a.mf)a=a.mf(a);else{var b=Sx[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sx._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IFindVars.-find-vars",a);}return a}sx.prototype.mf=function(){return new W(null,1,5,X,[this.Ne],null)};function Tx(a,b,c,d,e){this.Cc=a;this.Le=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=Tx.prototype;g.mf=function(){return Sx(Zc(this.Le))};
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "fn":return this.Cc;case "args":return this.Le;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Su,this.Cc],null),new W(null,2,5,X,[gv,this.Le],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Su,gv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-91097383^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Cc,b.Cc)&&K.h(this.Le,b.Le)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[gv,null,Su,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Tx(this.Cc,this.Le,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "fn":case "args":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Su,b):U.call(null,Su,b))?new Tx(c,this.Le,this.N,this.D,null):x(U.h?U.h(gv,b):U.call(null,gv,b))?new Tx(this.Cc,c,this.N,this.D,null):new Tx(this.Cc,this.Le,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Su,this.Cc),new Vf(gv,this.Le)],null),this.D))};g.Y=function(a,b){return new Tx(this.Cc,this.Le,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.Le,nx(b,this.Cc,c))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.Cc):tx.call(null,b,this.Cc);b=this.Le;return tx.h?tx.h(a,b):tx.call(null,a,b)};function Ux(a,b,c,d,e,f){this.source=a;this.Se=b;this.pattern=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=Ux.prototype;g.mf=function(){return Sx(this.Se)};g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "source":return this.source;case "variable":return this.Se;case "pattern":return this.pattern;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[pv,this.source],null),new W(null,2,5,X,[ov,this.Se],null),new W(null,2,5,X,[tj,this.pattern],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[pv,ov,tj],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-2108867663^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.source,b.source)&&K.h(this.Se,b.Se)&&K.h(this.pattern,b.pattern)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[ov,null,pv,null,tj,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Ux(this.source,this.Se,this.pattern,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "source":case "variable":case "pattern":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(pv,b):U.call(null,pv,b))?new Ux(c,this.Se,this.pattern,this.N,this.D,null):x(U.h?U.h(ov,b):U.call(null,ov,b))?new Ux(this.source,c,this.pattern,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new Ux(this.source,this.Se,c,this.N,this.D,null):new Ux(this.source,this.Se,this.pattern,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(pv,this.source),new Vf(ov,this.Se),new Vf(tj,this.pattern)],null),this.D))};
g.Y=function(a,b){return new Ux(this.source,this.Se,this.pattern,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.pattern,nx(b,this.Se,nx(b,this.source,c)))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.source):tx.call(null,b,this.source);b=this.Se;a=tx.h?tx.h(a,b):tx.call(null,a,b);b=this.pattern;return tx.h?tx.h(a,b):tx.call(null,a,b)};
function Vx(a){if(null!=a&&null!=a.gf)a=a.gf(a);else{var b=Vx[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Vx._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IFindElements.find-elements",a);}return a}function Wx(a,b,c,d){this.elements=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Wx.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "elements":return this.elements;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Iv,this.elements],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Iv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=744809563^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.elements,b.elements)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Iv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Wx(this.elements,this.N,Ke(fd.h(this.D,b)),null)};g.gf=function(){return this.elements};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "elements":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Iv,b):U.call(null,Iv,b))?new Wx(c,this.N,this.D,null):new Wx(this.elements,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Iv,this.elements)],null),this.D))};g.Y=function(a,b){return new Wx(this.elements,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.elements,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.elements):tx.call(null,b,this.elements)};function Xx(a,b,c,d){this.element=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Xx.prototype;
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "element":return this.element;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[dw,this.element],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[dw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=124241361^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.element,b.element)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[dw,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Xx(this.element,this.N,Ke(fd.h(this.D,b)),null)};g.gf=function(){return new W(null,1,5,X,[this.element],null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "element":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(dw,b):U.call(null,dw,b))?new Xx(c,this.N,this.D,null):new Xx(this.element,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(dw,this.element)],null),this.D))};g.Y=function(a,b){return new Xx(this.element,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.element,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.element):tx.call(null,b,this.element)};function Yx(a,b,c,d){this.element=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Yx.prototype;
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "element":return this.element;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[dw,this.element],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[dw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-661542332^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.element,b.element)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[dw,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Yx(this.element,this.N,Ke(fd.h(this.D,b)),null)};g.gf=function(){return new W(null,1,5,X,[this.element],null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "element":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(dw,b):U.call(null,dw,b))?new Yx(c,this.N,this.D,null):new Yx(this.element,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(dw,this.element)],null),this.D))};g.Y=function(a,b){return new Yx(this.element,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.element,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.element):tx.call(null,b,this.element)};function Zx(a,b,c,d){this.elements=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}g=Zx.prototype;
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "elements":return this.elements;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[Iv,this.elements],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[Iv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=681530371^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.elements,b.elements)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[Iv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Zx(this.elements,this.N,Ke(fd.h(this.D,b)),null)};g.gf=function(){return this.elements};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "elements":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Iv,b):U.call(null,Iv,b))?new Zx(c,this.N,this.D,null):new Zx(this.elements,this.N,T.i(this.D,b,c),null)};
g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(Iv,this.elements)],null),this.D))};g.Y=function(a,b){return new Zx(this.elements,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.elements,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.elements):tx.call(null,b,this.elements)};function $x(a){return a instanceof Tx}function ay(a){return a instanceof Ux}
function by(a){var b=zx(a);if(x(b))return b;a:{if(od(a)&&K.h(I(a),Tv)){if(3<=N(a)&&4>=N(a)){var c=(b=K.h(N(a),4))?Qc(a,1):yv;b=b?J(J(a)):J(a);var d=S(b,0,null);b=S(b,1,null);c=Bx(c);d=zx(d);var e=zx(b);x(e)?b=e:(e=Ex(b),b=x(e)?e:Cx(b));if(x(x(c)?x(d)?b:d:c)){b=new Ux(c,d,b,null,null,null);break a}}throw Z("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new w(null,2,[Ek,Dv,fv,a],null));}b=null}if(x(b))return b;a:{if(od(a)&&K.h(I(a),Kv)){if(3<=
N(a)&&(b=E(a),I(b),c=J(b),b=I(c),c=J(c),b=zx(b),c=lx(Fx,c),x(x(b)?c:b))){b=new Tx(b,c,null,null,null);break a}throw Z("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new w(null,2,[Ek,Dv,fv,a],null));}b=null}x(b)?a=b:od(a)&&2<=N(a)?(b=E(a),a=I(b),b=J(b),a=Dx(a),b=lx(Fx,b),a=x(x(a)?b:a)?new Tx(a,b,null,null,null):null):a=null;return a}
function cy(a){var b=lx(by,a);b=null==b?null:new Wx(b,null,null,null);if(x(b))return b;a:{if(od(a)&&K.h(N(a),1)&&(b=I(a),od(b)&&K.h(N(b),2)&&K.h(Yc(b),Gv))){b=by(I(b));b=null==b?null:new Xx(b,null,null,null);break a}b=null}if(x(b))return b;od(a)&&K.h(N(a),2)&&K.h(Yc(a),Av)?(b=by(I(a)),b=null==b?null:new Yx(b,null,null,null)):b=null;if(x(b))return b;od(a)&&K.h(N(a),1)?(b=I(a),b=lx(by,b),b=null==b?null:new Zx(b,null,null,null)):b=null;if(x(b))return b;throw Z("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new w(null,2,[Ek,Dv,fv,a],null));}function dy(a,b,c,d,e){this.type=a;this.cf=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=dy.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "type":return this.type;case "symbols":return this.cf;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Un,this.type],null),new W(null,2,5,X,[bv,this.cf],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Un,bv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-2025547471^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.type,b.type)&&K.h(this.cf,b.cf)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[Un,null,bv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new dy(this.type,this.cf,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "type":case "symbols":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Un,b):U.call(null,Un,b))?new dy(c,this.cf,this.N,this.D,null):x(U.h?U.h(bv,b):U.call(null,bv,b))?new dy(this.type,c,this.N,this.D,null):new dy(this.type,this.cf,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Un,this.type),new Vf(bv,this.cf)],null),this.D))};g.Y=function(a,b){return new dy(this.type,this.cf,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.cf,nx(b,this.type,c))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.type):tx.call(null,b,this.type);b=this.cf;return tx.h?tx.h(a,b):tx.call(null,a,b)};function ey(a,b){if(!ld(b)&&af(Oq,b))switch(a instanceof D?a.ra:null){case "keys":return new dy(a,ru.h(ee,b),null,null,null);case "syms":return new dy(a,bg(b),null,null,null);case "strs":return new dy(a,ru.h(A,b),null,null,null);default:return null}else return null}
function fy(a){var b=Bx(a);x(b)||(b=K.h(zv,a)?new wx(null,null,null):null,b=x(b)?b:Ex(a));return x(b)?px(new Lx(b,null,null,null),a):Qx(a)}function gy(a){var b=lx(fy,a);if(x(b))return b;throw Z("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new w(null,2,[Ek,Xu,hv,a],null));}function hy(a,b,c,d,e){this.source=a;this.pattern=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=hy.prototype;
g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "source":return this.source;case "pattern":return this.pattern;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[pv,this.source],null),new W(null,2,5,X,[tj,this.pattern],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[pv,tj],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=575220587^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.source,b.source)&&K.h(this.pattern,b.pattern)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[pv,null,tj,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new hy(this.source,this.pattern,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "source":case "pattern":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(pv,b):U.call(null,pv,b))?new hy(c,this.pattern,this.N,this.D,null):x(U.h?U.h(tj,b):U.call(null,tj,b))?new hy(this.source,c,this.N,this.D,null):new hy(this.source,this.pattern,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(pv,this.source),new Vf(tj,this.pattern)],null),this.D))};g.Y=function(a,b){return new hy(this.source,this.pattern,b,this.D,this.B)};
g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.pattern,nx(b,this.source,c))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.source):tx.call(null,b,this.source);b=this.pattern;return tx.h?tx.h(a,b):tx.call(null,a,b)};function iy(a,b,c,d,e){this.Cc=a;this.Le=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=iy.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "fn":return this.Cc;case "args":return this.Le;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Su,this.Cc],null),new W(null,2,5,X,[gv,this.Le],null)],null),this.D))};
g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Su,gv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-1523376880^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Cc,b.Cc)&&K.h(this.Le,b.Le)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[gv,null,Su,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new iy(this.Cc,this.Le,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "fn":case "args":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Su,b):U.call(null,Su,b))?new iy(c,this.Le,this.N,this.D,null):x(U.h?U.h(gv,b):U.call(null,gv,b))?new iy(this.Cc,c,this.N,this.D,null):new iy(this.Cc,this.Le,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Su,this.Cc),new Vf(gv,this.Le)],null),this.D))};g.Y=function(a,b){return new iy(this.Cc,this.Le,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.Le,nx(b,this.Cc,c))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.Cc):tx.call(null,b,this.Cc);b=this.Le;return tx.h?tx.h(a,b):tx.call(null,a,b)};function jy(a,b,c,d,e,f){this.Cc=a;this.Le=b;this.Re=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=jy.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "fn":return this.Cc;case "args":return this.Le;case "binding":return this.Re;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[Su,this.Cc],null),new W(null,2,5,X,[gv,this.Le],null),new W(null,2,5,X,[Nv,this.Re],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[Su,gv,Nv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=589494199^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Cc,b.Cc)&&K.h(this.Le,b.Le)&&K.h(this.Re,b.Re)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[gv,null,Su,null,Nv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new jy(this.Cc,this.Le,this.Re,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "fn":case "args":case "binding":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Su,b):U.call(null,Su,b))?new jy(c,this.Le,this.Re,this.N,this.D,null):x(U.h?U.h(gv,b):U.call(null,gv,b))?new jy(this.Cc,c,this.Re,this.N,this.D,null):x(U.h?U.h(Nv,b):U.call(null,Nv,b))?new jy(this.Cc,this.Le,c,this.N,this.D,null):new jy(this.Cc,this.Le,this.Re,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(Su,this.Cc),new Vf(gv,this.Le),new Vf(Nv,this.Re)],null),this.D))};
g.Y=function(a,b){return new jy(this.Cc,this.Le,this.Re,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Re,nx(b,this.Le,nx(b,this.Cc,c)))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.Cc):tx.call(null,b,this.Cc);b=this.Le;a=tx.h?tx.h(a,b):tx.call(null,a,b);b=this.Re;return tx.h?tx.h(a,b):tx.call(null,a,b)};
function ky(a,b,c,d,e,f){this.source=a;this.name=b;this.Le=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=ky.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "source":return this.source;case "name":return this.name;case "args":return this.Le;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[pv,this.source],null),new W(null,2,5,X,[vm,this.name],null),new W(null,2,5,X,[gv,this.Le],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[pv,vm,gv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-444662011^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.source,b.source)&&K.h(this.name,b.name)&&K.h(this.Le,b.Le)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[gv,null,vm,null,pv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new ky(this.source,this.name,this.Le,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "source":case "name":case "args":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(pv,b):U.call(null,pv,b))?new ky(c,this.name,this.Le,this.N,this.D,null):x(U.h?U.h(vm,b):U.call(null,vm,b))?new ky(this.source,c,this.Le,this.N,this.D,null):x(U.h?U.h(gv,b):U.call(null,gv,b))?new ky(this.source,this.name,c,this.N,this.D,null):new ky(this.source,this.name,this.Le,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(pv,this.source),new Vf(vm,this.name),new Vf(gv,this.Le)],null),this.D))};
g.Y=function(a,b){return new ky(this.source,this.name,this.Le,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Le,nx(b,this.name,nx(b,this.source,c)))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.source):tx.call(null,b,this.source);b=this.name;a=tx.h?tx.h(a,b):tx.call(null,a,b);b=this.Le;return tx.h?tx.h(a,b):tx.call(null,a,b)};
function ly(a,b,c,d,e,f){this.source=a;this.Te=b;this.Me=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=ly.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "source":return this.source;case "vars":return this.Te;case "clauses":return this.Me;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[pv,this.source],null),new W(null,2,5,X,[Xv,this.Te],null),new W(null,2,5,X,[bw,this.Me],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[pv,Xv,bw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1394671061^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.source,b.source)&&K.h(this.Te,b.Te)&&K.h(this.Me,b.Me)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[pv,null,bw,null,Xv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new ly(this.source,this.Te,this.Me,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "source":case "vars":case "clauses":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(pv,b):U.call(null,pv,b))?new ly(c,this.Te,this.Me,this.N,this.D,null):x(U.h?U.h(Xv,b):U.call(null,Xv,b))?new ly(this.source,c,this.Me,this.N,this.D,null):x(U.h?U.h(bw,b):U.call(null,bw,b))?new ly(this.source,this.Te,c,this.N,this.D,null):new ly(this.source,this.Te,this.Me,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(pv,this.source),new Vf(Xv,this.Te),new Vf(bw,this.Me)],null),this.D))};
g.Y=function(a,b){return new ly(this.source,this.Te,this.Me,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Me,nx(b,this.Te,nx(b,this.source,c)))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.source):tx.call(null,b,this.source);b=this.Te;a=tx.h?tx.h(a,b):tx.call(null,a,b);b=this.Me;return tx.h?tx.h(a,b):tx.call(null,a,b)};
function my(a,b,c,d,e,f){this.source=a;this.$e=b;this.Me=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=my.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "source":return this.source;case "rule-vars":return this.$e;case "clauses":return this.Me;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[pv,this.source],null),new W(null,2,5,X,[vv,this.$e],null),new W(null,2,5,X,[bw,this.Me],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[pv,vv,bw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1461934571^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.source,b.source)&&K.h(this.$e,b.$e)&&K.h(this.Me,b.Me)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[vv,null,pv,null,bw,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new my(this.source,this.$e,this.Me,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "source":case "rule-vars":case "clauses":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(pv,b):U.call(null,pv,b))?new my(c,this.$e,this.Me,this.N,this.D,null):x(U.h?U.h(vv,b):U.call(null,vv,b))?new my(this.source,c,this.Me,this.N,this.D,null):x(U.h?U.h(bw,b):U.call(null,bw,b))?new my(this.source,this.$e,c,this.N,this.D,null):new my(this.source,this.$e,this.Me,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(pv,this.source),new Vf(vv,this.$e),new Vf(bw,this.Me)],null),this.D))};
g.Y=function(a,b){return new my(this.source,this.$e,this.Me,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Me,nx(b,this.$e,nx(b,this.source,c)))};g.Qe=function(a,b){a=tx.h?tx.h(b,this.source):tx.call(null,b,this.source);b=this.$e;a=tx.h?tx.h(a,b):tx.call(null,a,b);b=this.Me;return tx.h?tx.h(a,b):tx.call(null,a,b)};function ny(a,b,c,d){this.Me=a;this.N=b;this.D=c;this.B=d;this.s=2230716170;this.H=139264}
g=ny.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "clauses":return this.Me;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,te.h(new W(null,1,5,X,[new W(null,2,5,X,[bw,this.Me],null)],null),this.D))};
g.Ba=function(){return new sg(this,1,new W(null,1,5,X,[bw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 1+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-131856804^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Me,b.Me)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,1,[bw,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new ny(this.Me,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "clauses":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(bw,b):U.call(null,bw,b))?new ny(c,this.N,this.D,null):new ny(this.Me,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,1,5,X,[new Vf(bw,this.Me)],null),this.D))};g.Y=function(a,b){return new ny(this.Me,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.Me,c)};g.Qe=function(a,b){return tx.h?tx.h(b,this.Me):tx.call(null,b,this.Me)};function oy(a){var b=K.h(Lv,a)?new rx(null,null,null):null;if(x(b))return b;b=zx(a);return x(b)?b:Cx(a)}function py(a){if(od(a)){var b=Bx(I(a));return x(b)?new W(null,2,5,X,[b,J(a)],null):new W(null,2,5,X,[new vx(null,null,null),a],null)}return null}
function qy(a){if(od(a)){var b=E(a);a=I(b);b=J(b);b=null==b?ad:b;var c=Dx(a);a=x(c)?c:zx(a);b=lx(Fx,b);return x(x(a)?b:a)?new W(null,2,5,X,[a,b],null):null}return null}var tx=function tx(a,b){return b instanceof sx?$c.h(a,b):b instanceof ly?Gf.h(a,b.Te):b instanceof my?(b=b.$e,tx.h?tx.h(a,b):tx.call(null,a,b)):(null!=b?t===b.Oe||(b.Cd?0:y(hx,b)):y(hx,b))?jx(b,a):od(b)?Ga(tx,a,b):a};function ry(a,b,c){if(ld(a)&&ld(b))throw Z("Join variables should not be empty",new w(null,2,[Ek,Pv,hv,c],null));}
function sy(a,b){ry(null,Xv.g(a),b);return a}function ty(a,b){var c=Ie(a);c=C.h(c,vv);var d=Ie(c);c=C.h(d,Pu);d=C.h(d,Sv);ry(c,d,b);return a}function iu(a){if(od(a)&&K.h(Cm,I(a))){var b=J(a);b=uy.g?uy.g(b):uy.call(null,b);if(x(Ke(b)))return new ny(b,null,null,null);throw Z("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new w(null,2,[Ek,Pv,hv,a],null));}return null}
function ju(a){a:{var b=py(a);if(x(b)){var c=S(b,0,null);b=S(b,1,null);var d=E(b);b=I(d);d=J(d);if(K.h(Bn,b)){b=uy.g?uy.g(d):uy.call(null,d);if(x(b)){c=sy(px(new ly(c,bg(Uh(tx(ad,b))),b,null,null,null),a),a);break a}throw Z("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new w(null,2,[Ek,Pv,hv,a],null));}}c=null}if(x(c))return c;a:{b=py(a);if(x(b)){c=S(b,0,null);b=S(b,1,null);d=E(b);b=I(d);var e=J(d);d=I(e);e=J(e);if(K.h(cv,b)){b=lx(zx,d);d=uy.g?uy.g(e):uy.call(null,e);if(x(x(b)?
d:b)){c=sy(px(new ly(c,b,d,null,null,null),a),a);break a}throw Z("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new w(null,2,[Ek,Pv,hv,a],null));}}c=null}if(x(c))return c;a:{b=py(a);if(x(b)&&(c=S(b,0,null),b=S(b,1,null),d=E(b),b=I(d),d=J(d),K.h(gk,b))){b=lx(hu(),d);if(x(b)){c=ty(px(new my(c,new Gx(null,bg(Uh(tx(ad,b))),null,null,null),b,null,null,null),a),a);break a}throw Z("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new w(null,2,[Ek,Pv,hv,
a],null));}c=null}if(x(c))return c;a:{b=py(a);if(x(b)&&(c=S(b,0,null),b=S(b,1,null),d=E(b),b=I(d),e=J(d),d=I(e),e=J(e),K.h(ew,b))){b=Hx(d);d=lx(hu(),e);if(x(x(b)?d:b)){c=ty(px(new my(c,b,d,null,null,null),a),a);break a}throw Z("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new w(null,2,[Ek,Pv,hv,a],null));}c=null}if(x(c))return c;a:{if(kx(a,1)&&(b=qy(I(a)),x(b))){c=S(b,0,null);b=S(b,1,null);c=px(new iy(c,b,null,null,null),a);break a}c=null}if(x(c))return c;a:{if(kx(a,
2)&&(b=S(a,0,null),c=S(a,1,null),d=qy(b),x(d))){b=S(d,0,null);d=S(d,1,null);c=Qx(c);c=x(c)?px(new jy(b,d,c,null,null,null),a):null;break a}c=null}if(x(c))return c;a:{b=py(a);if(x(b)&&(c=S(b,0,null),b=S(b,1,null),b=E(b),d=I(b),b=J(b),d=Dx(d),e=lx(oy,b),x(d))){if(ld(b))throw Z("rule-expr requires at least one argument",new w(null,2,[Ek,Pv,hv,a],null));if(null==e)throw Z("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new w(null,2,[Ek,Pv,hv,a],null));c=new ky(c,d,e,null,
null,null);break a}c=null}if(x(c))return c;a:{b=py(a);if(x(b)&&(c=S(b,0,null),b=S(b,1,null),b=lx(oy,b),x(b))){if(ld(b))throw Z("Pattern could not be empty",new w(null,2,[Ek,Pv,hv,a],null));c=px(new hy(c,b,null,null,null),a);break a}c=null}if(x(c))return c;throw Z("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new w(null,2,[Ek,Pv,hv,a],null));}function uy(a){return lx(ju,a)}
function vy(a){var b=uy(a);if(x(b))return b;throw Z("Cannot parse :where clause, expected [clause+]",new w(null,2,[Ek,Pv,hv,a],null));}function wy(a,b,c,d,e){this.Te=a;this.Me=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=wy.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "vars":return this.Te;case "clauses":return this.Me;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Xv,this.Te],null),new W(null,2,5,X,[bw,this.Me],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Xv,bw],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};
g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1024755006^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Te,b.Te)&&K.h(this.Me,b.Me)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[bw,null,Xv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new wy(this.Te,this.Me,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "vars":case "clauses":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Xv,b):U.call(null,Xv,b))?new wy(c,this.Me,this.N,this.D,null):x(U.h?U.h(bw,b):U.call(null,bw,b))?new wy(this.Te,c,this.N,this.D,null):new wy(this.Te,this.Me,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Xv,this.Te),new Vf(bw,this.Me)],null),this.D))};
g.Y=function(a,b){return new wy(this.Te,this.Me,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;g.Pe=function(a,b,c){return nx(b,this.Me,nx(b,this.Te,c))};g.Qe=function(a,b){return tx(tx(b,this.Te),this.Me)};function xy(a,b,c,d,e){this.name=a;this.af=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=xy.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "name":return this.name;case "branches":return this.af;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[vm,this.name],null),new W(null,2,5,X,[Qu,this.af],null)],null),this.D))};
g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[vm,Qu],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=-900273052^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.name,b.name)&&K.h(this.af,b.af)&&K.h(this.D,b.D)};
g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[vm,null,Qu,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new xy(this.name,this.af,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "name":case "branches":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(vm,b):U.call(null,vm,b))?new xy(c,this.af,this.N,this.D,null):x(U.h?U.h(Qu,b):U.call(null,Qu,b))?new xy(this.name,c,this.N,this.D,null):new xy(this.name,this.af,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(vm,this.name),new Vf(Qu,this.af)],null),this.D))};g.Y=function(a,b){return new xy(this.name,this.af,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.af,nx(b,this.name,c))};g.Qe=function(a,b){return tx(tx(b,this.name),this.af)};
function yy(a){if(od(a)){var b=E(a),c=I(b),d=J(b);if(od(c)){b=E(c);var e=I(b);c=J(b);b=function(){var h=Dx(e);if(x(h))return h;throw Z("Cannot parse rule name, expected plain-symbol",new w(null,2,[Ek,xv,hv,a],null));}();c=Hx(c);var f=function(){var h=Ke(uy(d));if(x(h))return h;throw Z("Rule branch should have clauses",new w(null,2,[Ek,xv,hv,a],null));}();return new w(null,3,[vm,b,Xv,c,bw,f],null)}throw Z(["Cannot parse rule head, expected [rule-name rule-vars], got: ",Y.j(Q([c]))].join(""),new w(null,
2,[Ek,xv,hv,a],null));}throw Z("Cannot parse rule, expected [rule-head clause+]",new w(null,2,[Ek,xv,hv,a],null));}
function zy(a,b){var c=Xv.g(I(b)),d=Jx(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.R(null,h);k=Xv.g(k);if(Je.h(d,Jx(k)))throw Z(["Arity mismatch for rule '",Y.j(Q([Dn.g(a)])),"': ",Y.j(Q([Ix(c)]))," vs. ",Y.j(Q([Ix(k)]))].join(""),new w(null,2,[Ek,xv,Zv,a],null));h+=1}else if(b=E(b)){if(sd(b))f=Ub(b),b=Vb(b),e=f,f=N(f);else{k=I(b);e=Xv.g(k);if(Je.h(d,Jx(e)))throw Z(["Arity mismatch for rule '",Y.j(Q([Dn.g(a)])),"': ",Y.j(Q([Ix(c)]))," vs. ",Y.j(Q([Ix(e)]))].join(""),new w(null,2,[Ek,xv,
Zv,a],null));b=J(b);e=null;f=0}h=0}else break}
function Ay(a){bg(function(){return function d(c){return new ge(null,function(){for(;;){var e=E(c);if(e){var f=e;if(sd(f)){var h=Ub(f),k=N(h),l=ne(k);return function(){for(var r=0;;)if(r<k){var u=Wa(h,r),v=S(u,0,null),G=S(u,1,null);u=ru.h(function(){return function(F){return new wy(Xv.g(F),bw.g(F),null,null,null)}}(r,u,v,G,h,k,l,f,e),G);G=l;zy(v,u);G.add(new xy(v,u,null,null,null));r+=1}else return!0}()?pe(l.ma(),d(Vb(f))):pe(l.ma(),null)}var m=I(f),n=S(m,0,null),p=S(m,1,null);m=ru.h(function(){return function(r){return new wy(Xv.g(r),
bw.g(r),null,null,null)}}(m,n,p,f,e),p);zy(n,m);return P(new xy(n,m,null,null,null),d(vc(f)))}return null}},null,null)}(Lu(vm,lx(yy,a)))}())}function By(a,b,c,d,e,f,h,k){this.Ue=a;this.Ye=b;this.We=c;this.Ve=d;this.Xe=e;this.N=f;this.D=h;this.B=k;this.s=2230716170;this.H=139264}g=By.prototype;g.ia=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "qfind":return this.Ue;case "qwith":return this.Ye;case "qreturn-map":return this.We;case "qin":return this.Ve;case "qwhere":return this.Xe;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,te.h(new W(null,5,5,X,[new W(null,2,5,X,[wv,this.Ue],null),new W(null,2,5,X,[dv,this.Ye],null),new W(null,2,5,X,[av,this.We],null),new W(null,2,5,X,[Yu,this.Ve],null),new W(null,2,5,X,[qv,this.Xe],null)],null),this.D))};g.Ba=function(){return new sg(this,5,new W(null,5,5,X,[wv,dv,av,Yu,qv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 5+N(this.D)};
g.U=function(){var a=this.B;return null!=a?a:this.B=a=181307977^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.Ue,b.Ue)&&K.h(this.Ye,b.Ye)&&K.h(this.We,b.We)&&K.h(this.Ve,b.Ve)&&K.h(this.Xe,b.Xe)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,5,[wv,null,qv,null,Yu,null,dv,null,av,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new By(this.Ue,this.Ye,this.We,this.Ve,this.Xe,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(wv,b):U.call(null,wv,b))?new By(c,this.Ye,this.We,this.Ve,this.Xe,this.N,this.D,null):x(U.h?U.h(dv,b):U.call(null,dv,b))?new By(this.Ue,c,this.We,this.Ve,this.Xe,this.N,this.D,null):x(U.h?U.h(av,b):U.call(null,av,b))?new By(this.Ue,this.Ye,c,this.Ve,this.Xe,this.N,this.D,null):x(U.h?U.h(Yu,b):U.call(null,Yu,b))?new By(this.Ue,this.Ye,this.We,c,this.Xe,this.N,this.D,null):x(U.h?U.h(qv,b):U.call(null,qv,b))?new By(this.Ue,this.Ye,this.We,this.Ve,c,this.N,this.D,
null):new By(this.Ue,this.Ye,this.We,this.Ve,this.Xe,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,5,5,X,[new Vf(wv,this.Ue),new Vf(dv,this.Ye),new Vf(av,this.We),new Vf(Yu,this.Ve),new Vf(qv,this.Xe)],null),this.D))};g.Y=function(a,b){return new By(this.Ue,this.Ye,this.We,this.Ve,this.Xe,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};g.Oe=t;
g.Pe=function(a,b,c){return nx(b,this.Xe,nx(b,this.Ve,nx(b,this.We,nx(b,this.Ye,nx(b,this.Ue,c)))))};g.Qe=function(a,b){return tx(tx(tx(tx(tx(b,this.Ue),this.Ye),this.We),this.Ve),this.Xe)};function Cy(a){var b=fd.j(a,wv,Q([dv,av,Yu,qv]));b=qd(a)?Gf.h(V,b):b;return new By(wv.g(a),dv.g(a),av.g(a),Yu.g(a),qv.g(a),null,Ke(b),null)}function Dy(a){for(var b=V,c=null;;){var d=I(a);if(x(d))d instanceof D?(c=d,a=J(a)):(b=uu.A(b,new W(null,1,5,X,[c],null),nf(ad),d),a=J(a));else return b}}
function Ey(a){var b=pv.g(a);return a instanceof hy?b:null!=b?b instanceof vx?null:b:null}
function Fy(a,b,c){var d=Th(tx(ad,wv.g(a))),e=Th(dv.g(a)),f=Th(tx(ad,Yu.g(a))),h=Th(tx(ad,qv.g(a)));f=ww.h(uw(d,e),uw(h,f));d=vw.h(d,e);if(!ld(f))throw Z(["Query for unknown vars: ",Y.j(Q([ru.h(Dn,f)]))].join(""),new w(null,3,[Ek,Vv,Xv,f,hv,b],null));if(!ld(d))throw Z([":find and :with should not use same variables: ",Y.j(Q([ru.h(Dn,d)]))].join(""),new w(null,3,[Ek,Vv,Xv,d,hv,b],null));d=av.g(a);if(null!=d){if(wv.g(a)instanceof Yx)throw Z([Y.j(Q([Un.g(d)]))," does not work with single-scalar :find"].join(""),
new w(null,2,[Ek,Vv,hv,b],null));if(wv.g(a)instanceof Xx)throw Z([Y.j(Q([Un.g(d)]))," does not work with collection :find"].join(""),new w(null,2,[Ek,Vv,hv,b],null));}d=bv.g(av.g(a));if(null!=d&&(e=Vx(wv.g(a)),!K.h(N(d),N(e))))throw Z(["Count of ",Y.j(Q([Un.g(av.g(a))]))," must match count of :find"].join(""),new w(null,4,[Ek,Vv,Mu,P(Un.g(av.g(a)),d),Mv,e,hv,b],null));if(1<N(Ff(za,new W(null,3,5,X,[Cv.g(c),Ov.g(c),Vu.g(c)],null))))throw Z("Only one of :keys/:syms/:strs must be present",new w(null,
2,[Ek,Vv,hv,b],null));var k=tx(ad,Yu.g(a)),l=mx(function(n){return n instanceof ux},Yu.g(a)),m=mx(function(n){return n instanceof wx},Yu.g(a));if(!x(function(){var n=ox(k);return x(n)?(n=ox(l),x(n)?ox(m):n):n}()))throw Z("Vars used in :in should be distinct",new w(null,2,[Ek,Vv,hv,b],null));c=tx(ad,dv.g(a));if(!x(ox(c)))throw Z("Vars used in :with should be distinct",new w(null,2,[Ek,Vv,hv,b],null));c=nx(function(n){return n instanceof ux},Yu.g(a),Sh);d=nx(function(n){return n instanceof ux},qv.g(a),
Sh);c=ww.h(d,c);if(!ld(c))throw Z(["Where uses unknown source vars: ",Y.j(Q([ru.h(Dn,c)]))].join(""),new w(null,3,[Ek,Vv,Xv,c,hv,b],null));c=mx(function(n){return n instanceof ky},qv.g(a));a=mx(function(n){return n instanceof wx},Yu.g(a));if(!ld(c)&&ld(a))throw Z("Missing rules var '%' in :in",new w(null,2,[Ek,Vv,hv,b],null));}
function Gy(a){if(pd(a))var b=a;else if(od(a))b=Dy(a);else throw Z("Query should be a vector or a map",new w(null,2,[Ek,Vv,hv,a],null));var c=b,d=vy(iv.h(c,ad));b=Cy(new w(null,5,[wv,cy(Mv.g(c)),dv,function(){var e=jv.g(c);if(x(e)){var f=lx(zx,e);if(x(f))e=f;else throw Z("Cannot parse :with clause, expected [ variable+ ]",new w(null,2,[Ek,hw,hv,e],null));}else e=null;return e}(),av,function(){var e=ey(Cv,Cv.g(c));if(x(e))return e;e=ey(Ov,Ov.g(c));return x(e)?e:ey(Vu,Vu.g(c))}(),Yu,gy(function(){var e=
uv.g(c);return x(e)?e:ld(mx(Ey,d))?ad:new W(null,1,5,X,[yv],null)}()),qv,d],null));Fy(b,a,c);return b};var Hy=Qp();function Iy(a,b,c,d,e,f){this.df=a;this.sources=b;this.rules=c;this.N=d;this.D=e;this.B=f;this.s=2230716170;this.H=139264}g=Iy.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "rels":return this.df;case "sources":return this.sources;case "rules":return this.rules;default:return C.i(this.D,b,c)}};g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};
g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,te.h(new W(null,3,5,X,[new W(null,2,5,X,[Yv,this.df],null),new W(null,2,5,X,[gw,this.sources],null),new W(null,2,5,X,[nv,this.rules],null)],null),this.D))};g.Ba=function(){return new sg(this,3,new W(null,3,5,X,[Yv,gw,nv],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};g.W=function(){return 3+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1014232958^Cc(this)};
g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.df,b.df)&&K.h(this.sources,b.sources)&&K.h(this.rules,b.rules)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,3,[gw,null,nv,null,Yv,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Iy(this.df,this.sources,this.rules,this.N,Ke(fd.h(this.D,b)),null)};g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "rels":case "sources":case "rules":return!0;default:return xd(this.D,b)}};
g.ua=function(a,b,c){return x(U.h?U.h(Yv,b):U.call(null,Yv,b))?new Iy(c,this.sources,this.rules,this.N,this.D,null):x(U.h?U.h(gw,b):U.call(null,gw,b))?new Iy(this.df,c,this.rules,this.N,this.D,null):x(U.h?U.h(nv,b):U.call(null,nv,b))?new Iy(this.df,this.sources,c,this.N,this.D,null):new Iy(this.df,this.sources,this.rules,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,3,5,X,[new Vf(Yv,this.df),new Vf(gw,this.sources),new Vf(nv,this.rules)],null),this.D))};
g.Y=function(a,b){return new Iy(this.df,this.sources,this.rules,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};function Jy(a,b,c,d,e){this.lb=a;this.ff=b;this.N=c;this.D=d;this.B=e;this.s=2230716170;this.H=139264}g=Jy.prototype;g.ia=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof D?b.ra:null){case "attrs":return this.lb;case "tuples":return this.ff;default:return C.i(this.D,b,c)}};
g.Pb=function(a,b,c){return Ga(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.i?b.i(d,f,e):b.call(null,d,f,e)},c,this)};g.O=function(a,b,c){return oi(b,function(d){return oi(b,vi,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,te.h(new W(null,2,5,X,[new W(null,2,5,X,[Kn,this.lb],null),new W(null,2,5,X,[Nu,this.ff],null)],null),this.D))};g.Ba=function(){return new sg(this,2,new W(null,2,5,X,[Kn,Nu],null),x(this.D)?dc(this.D):Me())};g.X=function(){return this.N};
g.W=function(){return 2+N(this.D)};g.U=function(){var a=this.B;return null!=a?a:this.B=a=1107093117^Cc(this)};g.G=function(a,b){return null!=b&&this.constructor===b.constructor&&K.h(this.lb,b.lb)&&K.h(this.ff,b.ff)&&K.h(this.D,b.D)};g.Zb=function(a,b){return xd(new Qh(null,new w(null,2,[Nu,null,Kn,null],null),null),b)?fd.h(tb(Gf.h(V,this),this.N),b):new Jy(this.lb,this.ff,this.N,Ke(fd.h(this.D,b)),null)};
g.Ra=function(a,b){switch(b instanceof D?b.ra:null){case "attrs":case "tuples":return!0;default:return xd(this.D,b)}};g.ua=function(a,b,c){return x(U.h?U.h(Kn,b):U.call(null,Kn,b))?new Jy(c,this.ff,this.N,this.D,null):x(U.h?U.h(Nu,b):U.call(null,Nu,b))?new Jy(this.lb,c,this.N,this.D,null):new Jy(this.lb,this.ff,this.N,T.i(this.D,b,c),null)};g.T=function(){return E(te.h(new W(null,2,5,X,[new Vf(Kn,this.lb),new Vf(Nu,this.ff)],null),this.D))};
g.Y=function(a,b){return new Jy(this.lb,this.ff,b,this.D,this.B)};g.aa=function(a,b){return rd(b)?this.ua(null,Wa(b,0),Wa(b,1)):Ga(Ta,this,b)};function Ky(a,b){return vw.h(Th(yg(a)),Th(yg(b)))}function Ly(a,b){return K.h(N(a),N(b))&&af(function(c){return xd(b,c)},yg(a))&&af(function(c){return xd(b,c)},yg(a))}
var My=function My(a,b){return K.h(Lv,a)?!0:K.h(new W(null,1,5,X,[yl],null),a)?od(b):a instanceof B?K.h(b,a):od(a)?K.h(Zc(a),yl)?od(b)&&af(function(d){var e=S(d,0,null);d=S(d,1,null);return My.h?My.h(e,d):My.call(null,e,d)},tf.i(fg,Cu(a),b)):od(b)&&K.h(N(b),N(a))&&af(function(d){var e=S(d,0,null);d=S(d,1,null);return My.h?My.h(e,d):My.call(null,e,d)},tf.i(fg,a,b)):a.g?a.g(b):a.call(null,b)};function Ny(a){return a instanceof B&&K.h("$",I(fe(a)))}
function Oy(a){return a instanceof B&&K.h("?",I(fe(a)))}function Py(a){return a instanceof D||"string"===typeof a}function Qy(a){return My(new W(null,2,5,X,[Py,Lv],null),a)}function Ry(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var Sy=function Sy(a,b){var d=Ie(a),e=C.h(d,Kn);d=C.h(d,Nu);var f=Ie(b),h=C.h(f,Kn);f=C.h(f,Nu);if(K.h(e,h))return new Jy(e,Gf.h(bg(d),f),null,null,null);if(Ly(e,h)){if(af(qo,zg(e))){var k=bg(function(){return function r(p){return new ge(null,function(){for(;;){var u=E(p);if(u){if(sd(u)){var v=Ub(u),G=N(v),F=ne(G);a:for(var R=0;;)if(R<G){var aa=Wa(v,R),ja=S(aa,0,null),ta=S(aa,1,null);aa=F;ja=new W(null,2,5,X,[ta,e.g?e.g(ja):e.call(null,ja)],null);aa.add(ja);R+=1}else{v=!0;break a}return v?pe(F.ma(),
r(Vb(u))):pe(F.ma(),null)}v=I(u);F=S(v,0,null);v=S(v,1,null);return P(new W(null,2,5,X,[v,e.g?e.g(F):e.call(null,F)],null),r(vc(u)))}return null}},null,null)}(h)}()),l=Ed(Pd,zg(e))+1;b=Ob(Ga(function(n,p){for(var r=Array(l),u=E(k),v=null,G=0,F=0;;)if(F<G){var R=v.R(null,F),aa=S(R,0,null);R=S(R,1,null);r[R]=p[aa];F+=1}else if(u=E(u))sd(u)?(G=Ub(u),u=Vb(u),v=G,G=N(G)):(G=I(u),v=S(G,0,null),G=S(G,1,null),r[G]=p[v],u=J(u),v=null,G=0),F=0;else break;return Nb(n,r)},Mb(bg(d)),f));return new Jy(e,b,null,
null,null)}var m=Du(yg(Oh.j(Q([e,h]))),fi.C());d=function(){var n=new Jy(m,ad,null,null,null);return Sy.h?Sy.h(n,a):Sy.call(null,n,a)}();return Sy.h?Sy.h(d,b):Sy.call(null,d,b)}throw Z(["Cant sum relations with different attrs: ",Y.j(Q([e]))," and ",Y.j(Q([h]))].join(""),new w(null,1,[Ek,ym],null));},Ty=function Ty(a){switch(arguments.length){case 0:return Ty.C();case 2:return Ty.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};
Ty.C=function(){return new Jy(V,new W(null,1,5,X,[[]],null),null,null,null)};Ty.h=function(a,b){var c=yg(Kn.g(a)),d=yg(Kn.g(b)),e=Bd(tf.h(Kn.g(a),c)),f=Bd(tf.h(Kn.g(b),d));return new Jy(Du(te.h(c,d),fi.C()),Ob(Ga(function(h,k){return Ga(function(l,m){return bu(l,Ry(k,e,m,f))},h,Nu.g(b))},Mb(ad),Nu.g(a))),null,null,null)};Ty.F=2;function Uy(a){a=tf.h(Dn,bg(Uh(tx(ad,a))));return new Jy(Du(a,fi.C()),ad,null,null,null)}
function Vy(a,b){if(null!=a&&null!=a.jf)a=a.jf(a,b);else{var c=Vy[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Vy._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IBinding.in-\x3erel",a);}return a}Kx.prototype.jf=function(){return Ty.C()};Lx.prototype.jf=function(a,b){return new Jy(ed([Hf(this,new W(null,2,5,X,[ov,Dn],null)),0]),new W(null,1,5,X,[Fa(new W(null,1,5,X,[b],null))],null),null,null,null)};
Nx.prototype.jf=function(a,b){var c=this;if(Aw(b))return ld(b)?Uy(c):Ed(Sy,tf.h(function(d){return Vy(c.Re,d)},b));throw Z(["Cannot bind value ",Y.j(Q([b]))," to collection ",Y.j(Q([qx(c)]))].join(""),new w(null,3,[Ek,kw,bl,b,Nv,qx(c)],null));};
Mx.prototype.jf=function(a,b){if(Aw(b)){if(N(b)<N(this.Ze))throw Z(["Not enough elements in a collection ",Y.j(Q([b]))," to bind tuple ",Y.j(Q([qx(this)]))].join(""),new w(null,3,[Ek,kw,bl,b,Nv,qx(this)],null));return Ed(Ty,tf.i(function(c,d){return Vy(c,d)},this.Ze,b))}throw Z(["Cannot bind value ",Y.j(Q([b]))," to tuple ",Y.j(Q([qx(this)]))].join(""),new w(null,3,[Ek,kw,bl,b,Nv,qx(this)],null));};
function Wy(a,b){var c=S(b,0,null);b=S(b,1,null);c instanceof Lx&&ov.g(c)instanceof ux?a=If.M(a,gw,T,Hf(c,new W(null,2,5,X,[ov,Dn],null)),b):c instanceof Lx&&ov.g(c)instanceof wx?(c=T.i,b="string"===typeof b?qw(b):b,Ay(b),b=Lu(Jr,b),a=c.call(T,a,nv,b)):a=If.A(a,Yv,$c,Vy(c,b));return a}
function Xy(a,b,c){var d=N(b),e=N(c);if(d<e)throw Z(["Extra inputs passed, expected: ",Y.j(Q([ru.h(function(f){return pv.g(kd(f))},b)])),", got: ",Y.j(Q([e]))].join(""),new w(null,3,[Ek,Jv,Uk,b,sv,c],null));if(d>e)throw Z(["Too few inputs passed, expected: ",Y.j(Q([ru.h(function(f){return pv.g(kd(f))},b)])),", got: ",Y.j(Q([e]))].join(""),new w(null,3,[Ek,Jv,Uk,b,sv,c],null));return Ga(Wy,a,Du(b,c))}var Yy=null,Zy=null;
function $y(a,b){var c=a.g?a.g(b):a.call(null,b);if(xd(Yy,b)){if(wd(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:od(e)?Ur(Zy,e):zw(e)?Ur(Zy,e):e}}return function(e){e=e[c];return"number"===typeof e?e:od(e)?Ur(Zy,e):zw(e)?Ur(Zy,e):e}}return wd(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}}
function az(a,b){var c=N(b);if(1===c)return $y(a,I(b));b=Fa(b);for(var d=0;;)if(d<c)b[d]=$y(a,b[d]),d+=1;else return function(e,f,h){return function(k){return E(f.map(function(){return function(l){return l.g?l.g(k):l.call(null,k)}}(e,f,h)))}}(d,b,c)}function bz(a,b){var c=wc;return Ob(Ga(function(d,e){var f=a.g?a.g(e):a.call(null,e);return we(d,f,$c.h(C.i(d,f,c),e))},Mb(V),b))}
function cz(a,b){var c=Nu.g(a),d=Nu.g(b),e=Kn.g(a),f=Kn.g(b),h=bg(Ky(Kn.g(a),Kn.g(b)));a=yg(e);b=Ob(Fd(function(r,u){return x(e.g?e.g(u):e.call(null,u))?r:Nb(r,u)},Mb(ad),f));var k=Bd(zg(e)),l=Bd(Ki(tf.g(f),b)),m=az(e,h),n=az(f,h),p=bz(m,c);c=Ob(Ga(function(r,u){var v=n(u);v=C.h(p,v);return null==v?r:Ga(function(G,F){return bu(G,Ry(F,k,u,l))},r,v)},Mb(ad),d));return new Jy(Du(te.h(a,b),fi.C()),c,null,null,null)}
function dz(a,b){var c=Ie(a),d=C.h(c,Kn);c=C.h(c,Nu);var e=Ie(b);b=C.h(e,Kn);e=C.h(e,Nu);var f=bg(Ky(d,b));b=az(b,f);var h=bz(b,e),k=az(d,f);return T.i(a,Nu,su(function(l){l=k(l);return null==(h.g?h.g(l):h.call(null,l))},c))}function ez(a,b){var c=ru.h(function(d){return K.h(d,Lv)||Oy(d)?null:d},b);a=vr(a,c);b=Gf.h(V,Ff(function(d){var e=S(d,0,null);S(d,1,null);return Oy(e)},tf.i(fg,b,new W(null,4,5,X,["e","a","v","tx"],null))));return new Jy(b,a,null,null,null)}
function fz(a,b){a=Ff(function(d){a:for(var e=b;;){var f=d;if(x(x(f)?e:f)){f=I(d);var h=I(e);if(K.h(h,Lv)||Oy(h)||K.h(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=Gf.h(V,Ff(function(d){var e=S(d,0,null);S(d,1,null);return Oy(e)},tf.i(fg,b,fi.C())));return new Jy(c,ru.h(Bd,a),null,null,null)}function gz(a,b){return(null!=a?t===a.tf||(a.Cd?0:y(Bw,a)):y(Bw,a))?ez(a,b):fz(a,b)}
function hz(a,b){for(var c=ad;;){var d=I(a);if(null==d)return $c.h(c,b);x(Ke(Ky(Kn.g(b),Kn.g(d))))?(a=J(a),b=cz(d,b)):(a=J(a),c=$c.h(c,d))}}function iz(a,b){return bf(function(c){return xd(Kn.g(c),b)?c:null},Yv.g(a))}function jz(a,b){var c=iz(a,b);if(null==c)return null;a=I(Nu.g(c));null==a?b=null:(c=Kn.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b}function kz(a,b){return bf(function(c){return xd(Kn.g(a),c)},b)}
function lz(a,b){var c=Ff(function(e){return kz(e,b)},Yv.g(a)),d=Ed(Ty,c);return new W(null,2,5,X,[If.i(a,Yv,function(e){return ku(Th(c),e)}),d],null)}
function mz(a,b,c,d){a=gw.g(a);b=Kn.g(b);for(var e=N(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var l=Qc(d,k);if(l instanceof B){var m=C.h(a,l);null==m?h[k]=C.h(b,l):f[k]=m}else f[k]=l;k+=1}else break;return c===fg?function(n){for(var p=f.slice(0),r=0;;)if(r<e){var u=h[r];null!=u&&(p[r]=n[u]);r+=1}else break;return De(c,p)}:function(n){for(var p=0;;)if(p<e){var r=h[p];null!=r&&(f[p]=n[r]);p+=1}else break;return De(c,f)}}
function nz(a,b){var c=S(b,0,null);c=E(c);var d=I(c),e=J(c),f=function(){var l=C.h(Dw,d);if(x(l))return l;l=jz(a,d);if(x(l))return l;if(x(null))return null;if(null==iz(a,d))throw Z(["Unknown predicate '",Y.j(Q([d]))," in ",Y.j(Q([b]))].join(""),new w(null,3,[Ek,ym,hv,b,$v,d],null));return null}();c=lz(a,Ff(Oq,e));var h=S(c,0,null),k=S(c,1,null);c=x(f)?function(){var l=mz(h,k,f,e);return If.i(k,Nu,function(m){return Ff(l,m)})}():T.i(k,Nu,ad);return If.A(h,Yv,$c,c)}
function oz(a,b){var c=S(b,0,null);c=E(c);var d=I(c),e=J(c);c=S(b,1,null);var f=Qx(c),h=function(){var m=C.h(Dw,d);if(x(m))return m;m=jz(a,d);if(x(m))return m;if(x(null))return null;if(null==iz(a,d))throw Z(["Unknown function '",Y.j(Q([d]))," in ",Y.j(Q([b]))].join(""),new w(null,3,[Ek,ym,hv,b,$v,d],null));return null}();c=lz(a,Ff(Oq,e));var k=S(c,0,null),l=S(c,1,null);c=x(h)?function(){var m=mz(k,l,h,e),n=function(){return function u(r){return new ge(null,function(){for(var v=r;;)if(v=E(v)){if(sd(v)){var G=
Ub(v),F=N(G),R=ne(F);a:for(var aa=0;;)if(aa<F){var ja=Wa(G,aa),ta=m(ja);if(null!=ta){var La=R;ja=Ty.h(new Jy(Kn.g(l),new W(null,1,5,X,[ja],null),null,null,null),Vy(f,ta));La.add(ja)}aa+=1}else{G=!0;break a}return G?pe(R.ma(),u(Vb(v))):pe(R.ma(),null)}R=I(v);G=m(R);if(null!=G)return P(Ty.h(new Jy(Kn.g(l),new W(null,1,5,X,[R],null),null,null,null),Vy(f,G)),u(vc(v)));v=vc(v)}else return null},null,null)}(Nu.g(l))}();return ld(n)?Ty.h(l,Uy(f)):Ed(Sy,n)}():Ty.h(T.i(l,Nu,ad),Uy(f));return If.A(k,Yv,hz,
c)}function pz(a,b){if(od(b)){var c=Ny(I(b))?Yc(b):I(b);if(c instanceof B){if(Oy(c)||xd(new Qh(null,new w(null,6,[Cm,null,Bn,null,cv,null,ew,null,gk,null,Lv,null],null),null),c))return!1;if(xd(nv.g(a),c))return!0;throw Z(["Unknown rule '",Y.j(Q([c]))," in ",Y.j(Q([b]))].join(""),new w(null,2,[Ek,ym,hv,b],null));}}return!1}var qz=pf(0);
function rz(a,b){var c=E(a),d=I(c),e=J(c),f=rf.h(qz,Ec),h=C.h(nv.g(b),d);return function m(l){return new ge(null,function(){for(;;){var n=E(l);if(n){var p=n;if(sd(p)){var r=Ub(p),u=N(r),v=ne(u);return function(){for(var ip=0;;)if(ip<u){var Jl=Wa(r,ip),Aj=Jl,ep=E(Aj),ff=I(ep),Oa=J(ep),Qa=ff,fb=E(Qa),Ua=I(fb),ai=J(fb),fp=Ua,Kl=ai,Bj=Oa,gf=Du(Kl,e);qe(v,sw(function(Gd,Kg,Cj,Sa,Lg,hf,Ll,Ng,ie,Hd,Ol,Pl,Og,rt,Pg,Qg,st,je,tt,ut,bi,vt,wt,xt,yt,zt){return function(At){if(Oy(At)){var ci=Og.g?Og.g(At):Og.call(null,
At);return null==ci?sc.g([fe(At),"__auto__",A.g(zt)].join("")):ci}return At}}(ip,Aj,ep,ff,Oa,Qa,fb,Ua,ai,fp,Kl,Bj,gf,Jl,r,u,v,p,n,a,c,d,e,d,e,f,h),Bj));ip+=1}else return!0}()?pe(v.ma(),m(Vb(p))):pe(v.ma(),null)}var G=I(p),F=G,R=E(F),aa=I(R),ja=J(R),ta=aa,La=E(ta),Yb=I(La),he=J(La),df=Yb,xb=he,ef=ja,Aa=Du(xb,e);return P(sw(function(ip,Jl,Aj,ep,ff,Oa,Qa,fb,Ua,ai,fp,Kl,Bj,gf,Gd,Kg,Cj,Sa,Lg,hf,Ll,Ng){return function(ie){if(Oy(ie)){var Hd=Kl.g?Kl.g(ie):Kl.call(null,ie);return null==Hd?sc.g([fe(ie),"__auto__",
A.g(Ng)].join("")):Hd}return ie}}(F,R,aa,ja,ta,La,Yb,he,df,xb,ef,Aa,G,p,n,a,c,d,e,d,e,f,h),ef),m(vc(p)))}return null}},null,null)}(h)}function sz(a,b){a=ku(function(c){var d=S(c,0,null);c=S(c,1,null);return K.h(d,c)},tf.i(fg,a,b));return new W(null,2,5,X,[tf.h(I,a),tf.h(Yc,a)],null)}
function tz(a,b){a=E(a);var c=I(a),d=J(a);return function h(f){return new ge(null,function(){for(;;){var k=E(f);if(k){if(sd(k)){var l=Ub(k),m=N(l),n=ne(m);a:for(var p=0;;)if(p<m){var r=Wa(l,p),u=sz(d,r);r=S(u,0,null);var v=S(u,1,null);u=n;r=new W(null,1,5,X,[te.j(new W(null,1,5,X,[fn],null),r,Q([v]))],null);u.add(r);p+=1}else{l=!0;break a}return l?pe(n.ma(),h(Vb(k))):pe(n.ma(),null)}n=I(k);l=sz(d,n);n=S(l,0,null);l=S(l,1,null);return P(new W(null,1,5,X,[te.j(new W(null,1,5,X,[fn],null),n,Q([l]))],
null),h(vc(k)))}return null}},null,null)}(C.h(b,c))}function uz(a){var b=pf(ad);sw(function(c){x(Oy.g?Oy.g(c):Oy.call(null,c))&&rf.i(b,$c,c);return c},a);return qb(b)}function vz(a,b){function c(e){e=S(e,0,null);e=E(e);I(e);e=J(e);return af(d,e)}var d=Th(uz(a));return new W(null,2,5,X,[Ff(c,b),ku(c,b)],null)}
function wz(a,b){function c(Oa){return bf(function(Qa){return ld(Nu.g(Qa))},Yv.g(Oa))}function d(Oa,Qa){return Ga(xz,Oa,Qa)}for(var e=Ff(Oy,b),f=Du(e,fi.C()),h=new bd(null,new w(null,5,[cw,ad,Bv,a,bw,new W(null,1,5,X,[b],null),kv,V,jw,V],null),null,1,null),k=new Jy(f,ad,null,null,null);;){var l=I(h);if(null==l)return k;var m=l,n=Fu(function(){return function(Oa){return!pz(a,Oa)}}(h,k,m,l,e,f,d,c),bw.g(m)),p=S(n,0,null),r=S(n,1,null),u=E(r),v=I(u),G=J(u),F=v,R=G;if(null==F){b=d(Bv.g(m),p);b=yz?yz(b,
e):zz.call(null,b,e);var aa=new Jy(f,b,null,null,null);b=J(h);aa=Sy(k,aa);h=b;k=aa}else{var ja=F,ta=E(ja),La=I(ta),Yb=J(ta),he=La,df=Yb,xb=tz(F,kv.g(m)),ef=vz(te.h(cw.g(m),p),te.h(xb,jw.g(m))),Aa=S(ef,0,null),ip=S(ef,1,null);if(x(bf(function(){return function(Oa){return K.h(Oa,new W(null,1,5,X,[ae(fn)],null))}}(h,k,ja,ta,La,Yb,he,df,xb,ef,Aa,ip,n,p,r,u,v,G,F,R,m,l,e,f,d,c),Aa)))b=J(h),aa=k,h=b,k=aa;else{var Jl=te.h(p,Aa),Aj=d(Bv.g(m),Jl);if(x(c(Aj)))b=J(h),aa=k,h=b,k=aa;else{var ep=T.i(kv.g(m),he,
$c.h(C.i(kv.g(m),he,ad),df)),ff=rz(F,a);b=te.h(function(){return function(Oa,Qa,fb,Ua,ai,fp,Kl,Bj,gf,Gd,Kg,Cj,Sa,Lg,hf,Ll,Ng,ie,Hd,Ol,Pl,Og,rt,Pg,Qg,st,je,tt,ut,bi){return function xt(wt){return new ge(null,function(yt,zt,At,ci,np,Bt,Ct,Dt,Ul,op,Et,Ft,Vl,Gt,Ht,Ej,pp,qp,rp,It,Jt,Kt,Lt,Wl){return function(){for(;;){var Mt=E(wt);if(Mt){if(sd(Mt)){var Nt=Ub(Mt),Ot=N(Nt),di=ne(Ot);a:for(var Pt=0;;)if(Pt<Ot){var Qt=Wa(Nt,Pt),Rt=di;Qt=new w(null,5,[cw,np,Bv,Bt,bw,Gf.i(ad,Ku,Q([Qt,Wl])),kv,At,jw,Ej],null);
Rt.add(Qt);Pt+=1}else{Nt=!0;break a}return Nt?pe(di.ma(),xt(Vb(Mt))):pe(di.ma(),null)}di=I(Mt);return P(new w(null,5,[cw,np,Bv,Bt,bw,Gf.i(ad,Ku,Q([di,Wl])),kv,At,jw,Ej],null),xt(vc(Mt)))}return null}}}(Oa,Qa,fb,Ua,ai,fp,Kl,Bj,gf,Gd,Kg,Cj,Sa,Lg,hf,Ll,Ng,ie,Hd,Ol,Pl,Og,rt,Pg,Qg,st,je,tt,ut,bi),null,null)}}(h,k,ep,ff,Jl,Aj,ja,ta,La,Yb,he,df,xb,ef,Aa,ip,n,p,r,u,v,G,F,R,m,l,e,f,d,c)(ff)}(),J(h));aa=k;h=b;k=aa}}}}}
function Az(a,b){if(null!=a?t===a.rf||(a.Cd?0:y(Cw,a)):y(Cw,a)){var c=S(b,0,null),d=S(b,1,null),e=S(b,2,null),f=S(b,3,null);return zu(new W(null,4,5,X,[x(function(){var h=Qy(c);return x(h)?h:Py(c)}())?Mr(a,c):c,d,x(function(){if(x(e)){var h=Py(d);return h?(h=Nr(a,d))?(h=Qy(e),x(h)?h:Py(e)):h:h}return e}())?Mr(a,e):e,x(Qy(f))?Mr(a,f):f],null),N(b))}return b}
function Bz(a,b){var c=S(b,0,null),d=S(b,1,null),e=S(b,2,null);b=S(b,3,null);c=Oy(c)?$c.h(Sh,c):Sh;c=Oy(b)?$c.h(c,b):c;return Oy(e)&&!Oy(d)&&Nr(a,d)?$c.h(c,e):c}function Cz(a,b){return T.i(a,Yv,gu(function(c){var d=Ke(Au(Kn.g(c),b));return null==d?null:T.i(c,Kn,d)},Yv.g(a)))}function Dz(a){return Gf.h(Sh,Df(function(b){return yg(Kn.g(b))},Q([Yv.g(a)])))}
function Ez(a,b,c){if(xw(b,a))return null;a=ww.h(Th(b),a);throw Z(["Insufficient bindings: ",Y.j(Q([a]))," not bound in ",Y.j(Q([c]))].join(""),new w(null,3,[Ek,ym,hv,c,Xv,a],null));}function Fz(a,b,c){b=ru.h(function(d){return ww.h(Th(uz(d)),a)},b);if(x(De(K,b)))return null;throw Z(["All clauses in 'or' must use same set of free vars, had ",Y.j(Q([b]))," in ",Y.j(Q([c]))].join(""),new w(null,3,[Ek,ym,hv,c,Xv,b],null));}
function Gz(a,b,c){for(var d=Th(ku(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.R(null,k);var l=Ke(ww.h(d,Th(uz(c))));if(null!=l)throw e=l,Iu(Q([c,a,b,d])),Z(["All clauses in 'or' must use same set of free vars, had ",Y.j(Q([e]))," not bound in ",Y.j(Q([c]))].join(""),new w(null,3,[Ek,ym,hv,c,Xv,e],null));k+=1}else if(c=E(e)){e=c;if(sd(e))f=Ub(e),e=Vb(e),c=f,h=N(f),f=c;else{c=I(e);f=Ke(ww.h(d,Th(uz(c))));if(null!=f)throw e=f,Iu(Q([c,a,b,d])),Z(["All clauses in 'or' must use same set of free vars, had ",
Y.j(Q([e]))," not bound in ",Y.j(Q([c]))].join(""),new w(null,3,[Ek,ym,hv,c,Xv,e],null));e=J(e);f=null;h=0}k=0}else return null}var xz=function xz(a){switch(arguments.length){case 2:return xz.h(arguments[0],arguments[1]);case 3:return xz.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};xz.h=function(a,b){return xz.i(a,b,b)};
xz.i=function(a,b,c){for(;;){var d=My,e=b;if(x(function(){var aa=new W(null,1,5,X,[new W(null,2,5,X,[Oq,yl],null)],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}()))return Ez(Dz(a),Ff(Oy,J(I(b))),b),nz(a,b);if(x(function(){var aa=new W(null,2,5,X,[new W(null,2,5,X,[Oq,yl],null),Lv],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}()))return Ez(Dz(a),Ff(Oy,J(I(b))),b),oz(a,b);if(x(function(){var aa=new W(null,2,5,X,[Ny,yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){var f=E(b);
c=I(f);f=J(f);var h=Zy;Zy=C.h(gw.g(a),c);try{return xz.i(a,f,b)}finally{Zy=h}}else{if(x(function(){var aa=new W(null,2,5,X,[gk,yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){var k=b,l=E(k),m=I(l),n=J(l);f=m;h=n;var p=Fz(Dz(a),h,b),r=tf.h(function(aa){return function(ja){return Hz.h?Hz.h(aa,ja):Hz.call(null,aa,ja)}}(a,b,c,k,l,m,n,f,h,p,d,e),h);b=tf.h(function(){return function(aa){return Ed(cz,Yv.g(aa))}}(a,b,c,k,l,m,n,f,h,p,r,d,e),r);return T.i(I(r),Yv,new W(null,1,5,X,[Ed(Sy,b)],null))}if(x(function(){var aa=
new W(null,3,5,X,[ew,new W(null,2,5,X,[new W(null,1,5,X,[yl],null),yl],null),yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){h=E(b);f=I(h);h=J(h);k=I(h);f=J(h);k=E(k);h=I(k);k=J(k);p=h;h=f;f=Dz(a);Ez(f,p,c);Gz(f,k,h);c=ot(ew,te.h(p,k),h);f=b;b=c;c=f;continue}else{if(x(function(){var aa=new W(null,3,5,X,[ew,new W(null,1,5,X,[yl],null),yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){m=b;n=E(m);var u=I(n),v=J(n);f=u;var G=I(v),F=J(v);k=G;h=F;var R=Th(k);p=Gz(Dz(a),R,h);l=Cz(a,
R);r=tf.h(function(aa,ja,ta,La,Yb,he,df,xb,ef,Aa,ip,Jl,Aj,ep,ff){return function(Oa){return Cz(Hz.h?Hz.h(ff,Oa):Hz.call(null,ff,Oa),Aj)}}(a,b,c,m,n,u,v,f,G,F,k,h,R,p,l,d,e),h);b=tf.h(function(){return function(aa){return Ed(cz,Yv.g(aa))}}(a,b,c,m,n,u,v,f,G,F,k,h,R,p,l,r,d,e),r);b=Ed(Sy,b);return If.A(a,Yv,hz,b)}if(x(function(){var aa=new W(null,2,5,X,[Cm,yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}()))return c=E(b),b=I(c),c=J(c),f=b,b=c,Ga(Hz,a,b);if(x(function(){var aa=new W(null,2,5,
X,[Bn,yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){f=E(b);b=I(f);h=J(f);f=b;b=h;f=Dz(a);h=Th(uz(b));if(ld(vw.h(f,h)))throw Z(["Insufficient bindings: none of ",Y.j(Q([h]))," is bound in ",Y.j(Q([c]))].join(""),new w(null,2,[Ek,ym,hv,c],null));p=null;a=T.i(a,Yv,new W(null,1,5,X,[Ed(cz,Yv.g(a))],null));b=Ga(Hz,a,b);b=dz(I(Yv.g(a)),Ed(cz,Yv.g(b)));return T.i(a,Yv,new W(null,1,5,X,[b],null))}if(x(function(){var aa=new W(null,3,5,X,[cv,new W(null,1,5,X,[yl],null),yl],null),ja=e;return d.h?
d.h(aa,ja):d.call(null,aa,ja)}()))return b=E(b),f=I(b),b=J(b),f=I(b),b=J(b),k=f,f=Dz(a),p=Ez(f,k,c),a=T.i(a,Yv,new W(null,1,5,X,[Ed(cz,Yv.g(a))],null)),l=Cz(a,k),b=Cz(Ga(Hz,l,b),k),b=dz(I(Yv.g(a)),Ed(cz,Yv.g(b))),T.i(a,Yv,new W(null,1,5,X,[b],null));if(x(function(){var aa=new W(null,1,5,X,[yl],null),ja=e;return d.h?d.h(aa,ja):d.call(null,aa,ja)}())){c=Zy;b=Az(c,b);f=gz(c,b);h=Yy;Yy=(null!=c?t===c.rf||(c.Cd?0:y(Cw,c)):y(Cw,c))?Bz(c,b):Yy;try{return If.A(a,Yv,hz,f)}finally{Yy=h}}else throw Error(["No matching clause: ",
A.g(e)].join(""));}}break}};xz.F=3;var Hz=function Hz(a,b){if(pz(a,b))if(Ny(I(b))){var d=Zy;Zy=C.h(gw.g(a),I(b));try{var e=J(b);return Hz.h?Hz.h(a,e):Hz.call(null,a,e)}finally{Zy=d}}else return If.A(a,Yv,hz,wz(a,b));else return xz.h(a,b)};function Iz(a,b){var c=Zy;Zy=C.h(gw.g(a),yv);try{return Ga(Hz,a,b)}finally{Zy=c}}
function Jz(a,b,c,d){return Ki(kf.h(tf.g(function(e){return Ki(tf.g(function(f){for(var h=Ea(e),k=0;;)if(k<c){var l=d[k];null!=l&&(h[k]=f[l]);k+=1}else break;return h}),Nu.g(b))}),Ku),a)}function zz(a){switch(arguments.length){case 2:return yz(arguments[0],arguments[1]);case 3:return Kz(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function yz(a,b){a=Yv.g(a);return Kz(new W(null,1,5,X,[Array(N(b))],null),a,b)}
function Kz(a,b,c){for(;;){var d=I(b);if(null==d)return a;if(ld(Nu.g(d)))return ad;var e=Au(Kn.g(d),c);if(ld(e))b=J(b);else{e=Bd(tf.h(function(h,k,l,m){return function(n){return C.h(m,n)}}(a,b,c,e,d),c));var f=N(c);a=Jz(a,d,f,e);b=J(b)}}}function Lz(a,b){return Gf.i(Sh,tf.g(bg),yz(a,b))}
function Mz(a,b){if(null!=a&&null!=a.kf)a=a.kf(a,b);else{var c=Mz[q(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Mz._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IContextResolve.-context-resolve",a);}return a}sx.prototype.kf=function(a,b){return jz(b,this.Ne)};ux.prototype.kf=function(a,b){return Hf(b,new W(null,2,5,X,[gw,this.Ne],null))};yx.prototype.kf=function(){var a=C.h(Ew,this.Ne);return x(a)?a:null};xx.prototype.kf=function(){return this.value};
function Nz(a,b,c){return ru.A(function(d,e,f){if($x(d)){e=Mz(Su.g(d),b);d=tf.h(function(k){return Mz(k,b)},Cu(gv.g(d)));var h=tf.h(function(k){return Qc(k,f)},c);return De(e,te.h(d,new W(null,1,5,X,[h],null)))}return e},a,I(c),fi.C())}function Oz(a){var b=cu($x);return ku(wa,tf.i(function(c,d){return x(b.g?b.g(c):b.call(null,c))?d:null},a,fi.C()))}
function Pz(a,b,c){var d=Oz(a);return function h(f){return new ge(null,function(){for(;;){var k=E(f);if(k){if(sd(k)){var l=Ub(k),m=N(l),n=ne(m);a:for(var p=0;;)if(p<m){var r=Wa(l,p);S(r,0,null);var u=S(r,1,null);r=n;u=Nz(a,b,u);r.add(u);p+=1}else{l=!0;break a}return l?pe(n.ma(),h(Vb(k))):pe(n.ma(),null)}n=I(k);S(n,0,null);n=S(n,1,null);return P(Nz(a,b,n),h(vc(k)))}return null}},null,null)}(Lu(function(f){return tf.h(function(h){return Qc(f,h)},d)},c))}
function Qz(a,b){return Ga(function(c,d){return $c.h(c,a.g?a.g(d):a.call(null,d))},cd(b),b)}function Rz(a,b){var c=bv.g(a),d=fi.h(0,N(c));return Qz(function(e){return Ga(function(f,h){return T.i(f,Qc(c,h),Qc(e,h))},V,d)},b)}function Sz(a,b,c){if(null!=a&&null!=a.lf)a=a.lf(a,b,c);else{var d=Sz[q(null==a?null:a)];if(null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else if(d=Sz._,null!=d)a=d.i?d.i(a,b,c):d.call(null,a,b,c);else throw z("IPostProcess.-post-process",a);}return a}
Wx.prototype.lf=function(a,b,c){return null==b?c:Rz(b,c)};Xx.prototype.lf=function(a,b,c){return Gf.i(ad,tf.g(I),c)};Yx.prototype.lf=function(a,b,c){return Jr(c)};Zx.prototype.lf=function(a,b,c){return null!=b?I(Rz(b,new W(null,1,5,X,[I(c)],null))):I(c)};
function Tz(a,b,c){var d=function(){return function h(f){return new ge(null,function(){for(;;){var k=E(f);if(k){if(sd(k)){var l=Ub(k),m=N(l),n=ne(m);return function(){for(var r=0;;)if(r<m){var u=Wa(l,r),v=n;if(ay(u)){var G=Mz(pv.g(u),b);u=Mz(tj.g(u),b);G=gx(G,u)}else G=null;v.add(G);r+=1}else return!0}()?pe(n.ma(),h(Vb(k))):pe(n.ma(),null)}var p=I(k);return P(ay(p)?function(){var r=Mz(pv.g(p),b),u=Mz(tj.g(p),b);return gx(r,u)}():null,h(vc(k)))}return null}},null,null)}(a)}();return function h(f){return new ge(null,
function(){for(;;){var k=E(f);if(k){var l=k;if(sd(l)){var m=Ub(l),n=N(m),p=ne(n);return function(){for(var u=0;;)if(u<n){var v=Wa(m,u);qe(p,ru.i(function(){return function(G,F){return x(G)?fx(G,F):F}}(u,v,m,n,p,l,k,d),d,v));u+=1}else return!0}()?pe(p.ma(),h(Vb(l))):pe(p.ma(),null)}var r=I(l);return P(ru.i(function(){return function(u,v){return x(u)?fx(u,v):v}}(r,l,k,d),d,r),h(vc(l)))}return null}},null,null)}(c)}
function Uz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Vz(arguments[0],1<b.length?new H(b.slice(1),0,null):null)}
function Vz(a,b){var c=yw(Hy,a,function(){return Gy(a)}),d=wv.g(c),e=Vx(d),f=Df(Sx,Q([Vx(d)])),h=N(e),k=dv.g(c);k=te.h(f,tf.h(Dn,k));f=od(a)?Dy(a):a;var l=iv.g(f);b=Xy(new Iy(ad,V,V,null,null,null),Yu.g(c),b);k=Lz(Iz(b,l),k);f=x(jv.g(f))?ru.h(function(m){return bg(zu(m,h))},k):k;f=x(bf($x,e))?Pz(e,b,f):f;e=x(bf(ay,e))?Tz(e,b,f):f;return Sz(d,av.g(c),e)};function dt(a){var b=Ie(Q([sa,new w(null,1,[ek,pf(V)],null)])),c=C.h(b,sa);b=C.h(b,$m);return new of(a,c,b);throw Z("Not implemented: (storage/store db)",V);}function et(a){var b=new W(null,2,5,X,[new w(null,2,[vm,"Ivan",ev,30],null),new w(null,2,[vm,"Petr",ev,25],null)],null),c=pf(null);rf.h(a,function(d){d=ls(new Or(d,d,ad,V,null,null,null,null),b);qf(c,d);return tm.g(d)});return qb(c)}
function ft(a){var b=et(a);a=ek.g(kd(a));a=null==a?null:qb(a);a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e);S(f,0,null);f=S(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=E(a))sd(a)?(d=Ub(a),a=Vb(a),c=d,d=N(d)):(c=I(a),S(c,0,null),c=S(c,1,null),c.g?c.g(b):c.call(null,b),a=J(a),c=null,d=0),e=0;else break}function Wz(a,b){rf.A(ek.g(kd(a)),T,iw,b)}
for(var gt=E(new w(null,2,[mj,function(a){return De(cr,a)},rm,function(a){var b=Ie(a);a=C.h(b,Vk);b=C.h(b,qm);return Lr(tf.h(function(c){var d=S(c,0,null),e=S(c,1,null),f=S(c,2,null);c=S(c,3,null);return cr.A(d,e,f,c)},b),a)}],null)),ht=null,it=0,jt=0;;)if(jt<it){var kt=ht.R(null,jt),lt=S(kt,0,null),mt=S(kt,1,null),Xz=lt,Yz=mt;C.h(qb(Kp),Xz);rf.A(Kp,T,Xz,Yz);jt+=1}else{var pt=E(gt);if(pt){var qt=pt;if(sd(qt)){var Vt=Ub(qt),Wt=Vb(qt),Xt=Vt,Yt=N(Vt);gt=Wt;ht=Xt;it=Yt}else{var Zt=I(qt),$t=S(Zt,0,null),
au=S(Zt,1,null),Zz=$t,$z=au;C.h(qb(Kp),Zz);rf.A(Kp,T,Zz,$z);gt=J(qt);ht=null;it=0}jt=0}else break};var du={};function eu(a,b){a.exec(b)}var fu,aA=pf(V),bA=pf(V),cA=pf(V),dA=pf(V),eA=C.i(V,pm,Ti.C?Ti.C():Ti.call(null));fu=new dj(sc.h("datascript.storage.sql.core","upsert-dml"),Xn,eA,aA,bA,cA,dA);gj(fu,Qj,function(a){return["merge into ",A.g(mm.g(a))," key (addr) values (?, ?)"].join("")});gj(fu,bn,function(a){return["insert into ",A.g(mm.g(a))," (addr, content) values (?, ?) ON DUPLICATE KEY UPDATE content \x3d ?"].join("")});gj(fu,ej,function(a){return["insert into ",A.g(mm.g(a))," (addr, content) values (?, ?) on conflict(addr) do update set content \x3d ?"].join("")});
function lu(a,b,c){var d=Ie(b);C.h(d,mm);var e=C.h(d,uj),f=C.h(d,cm),h=C.h(d,Ln);d=C.h(d,km);b=fu.g(b);var k=N(ni(/\?/,b));try{a.exec("BEGIN TRANSACTION");var l=E(Vh(d,d,c));c=null;for(var m=d=0;;)if(m<d){for(var n=c.R(null,m),p=E(n),r=null,u=0,v=0;;)if(v<u){var G=r.R(null,v),F=S(G,0,null),R=S(G,1,null),aa=x(e)?function(){var hf=h.g?h.g(R):h.call(null,R);return K.h(3,k)?new W(null,3,5,X,[F,hf,hf],null):new W(null,2,5,X,[F,hf],null)}():function(){var hf=f.g?f.g(R):f.call(null,R);return K.h(3,k)?new W(null,
3,5,X,[F,hf,hf],null):new W(null,2,5,X,[F,hf],null)}();a.exec(b,Oi(new w(null,1,[pk,aa],null)));v+=1}else{var ja=E(p);if(ja){var ta=ja;if(sd(ta)){var La=Ub(ta),Yb=Vb(ta);ta=La;var he=N(La);p=Yb;r=ta;u=he}else{var df=I(ta),xb=S(df,0,null),ef=S(df,1,null),Aa=x(e)?function(){var hf=h.g?h.g(ef):h.call(null,ef);return K.h(3,k)?new W(null,3,5,X,[xb,hf,hf],null):new W(null,2,5,X,[xb,hf],null)}():function(){var hf=f.g?f.g(ef):f.call(null,ef);return K.h(3,k)?new W(null,3,5,X,[xb,hf,hf],null):new W(null,2,
5,X,[xb,hf],null)}();a.exec(b,Oi(new w(null,1,[pk,Aa],null)));p=J(ta);r=null;u=0}v=0}else break}m+=1}else{var ip=E(l);if(ip){r=ip;if(sd(r)){var Jl=Ub(r),Aj=Vb(r);r=Jl;var ep=N(Jl);l=Aj;c=r;d=ep}else{var ff=I(r),Oa=E(ff);u=null;for(ta=v=0;;)if(ta<v){var Qa=u.R(null,ta),fb=S(Qa,0,null),Ua=S(Qa,1,null),ai=x(e)?function(){var hf=h.g?h.g(Ua):h.call(null,Ua);return K.h(3,k)?new W(null,3,5,X,[fb,hf,hf],null):new W(null,2,5,X,[fb,hf],null)}():function(){var hf=f.g?f.g(Ua):f.call(null,Ua);return K.h(3,k)?
new W(null,3,5,X,[fb,hf,hf],null):new W(null,2,5,X,[fb,hf],null)}();a.exec(b,Oi(new w(null,1,[pk,ai],null)));ta+=1}else{var fp=E(Oa);if(fp){var Kl=fp;if(sd(Kl)){var Bj=Ub(Kl),gf=Vb(Kl);Kl=Bj;var Gd=N(Bj);Oa=gf;u=Kl;v=Gd}else{var Kg=I(Kl),Cj=S(Kg,0,null),Sa=S(Kg,1,null),Lg=x(e)?function(){var hf=h.g?h.g(Sa):h.call(null,Sa);return K.h(3,k)?new W(null,3,5,X,[Cj,hf,hf],null):new W(null,2,5,X,[Cj,hf],null)}():function(){var hf=f.g?f.g(Sa):f.call(null,Sa);return K.h(3,k)?new W(null,3,5,X,[Cj,hf,hf],null):
new W(null,2,5,X,[Cj,hf],null)}();a.exec(b,Oi(new w(null,1,[pk,Lg],null)));Oa=J(Kl);u=null;v=0}ta=0}else break}l=J(r);c=null;d=0}m=0}else break}return a.exec("COMMIT")}catch(hf){e=hf;try{a.exec("ROLLBACK")}catch(Ll){}throw e;}}
function fA(a,b,c){var d=Ie(b),e=C.h(d,mm);b=C.h(d,uj);var f=C.h(d,Nj);d=C.h(d,yj);e=["select content from ",A.g(e)," where addr \x3d ?"].join("");a=a.te(e);try{Oi(new W(null,1,5,X,[c],null));if(x(a.step())){var h=a.get(Oi(ad));if(x(b)){var k=h[0];return d.g?d.g(k):d.call(null,k)}var l=h[0];return f.g?f.g(l):f.call(null,l)}return null}finally{a.oe()}}
function gA(a,b){b=["select addr from ",A.g(mm.g(b))].join("");a=a.te(b);try{for(var c=Mb(ad);;)if(x(a.step()))c=bu(c,a.get(Oi(ad))[0]);else return Ob(c)}finally{a.oe()}}var mu=function(){var a=pf(V),b=pf(V),c=pf(V),d=pf(V),e=C.i(V,pm,Ti.C?Ti.C():Ti.call(null));return new dj(sc.h("datascript.storage.sql.core","ddl"),function(f){return Xn.g(f)},e,a,b,c,d)}();
gj(mu,Hj,function(a){var b=Ie(a);a=C.h(b,mm);b=C.h(b,uj);return["create table if not exists ",A.g(a)," (addr INTEGER primary key,   content ",x(b)?"BLOB":"TEXT",")"].join("")});gj(mu,Qj,function(a){var b=Ie(a);a=C.h(b,mm);b=C.h(b,uj);return["create table if not exists ",A.g(a)," (addr BIGINT primary key,   content ",x(b)?"BINARY VARYING":"CHARACTER VARYING",")"].join("")});
gj(mu,bn,function(a){var b=Ie(a);a=C.h(b,mm);b=C.h(b,uj);return["create table if not exists ",A.g(a)," (addr BIGINT primary key,   content ",x(b)?"LONGBLOB":"LONGTEXT",")"].join("")});gj(mu,Nk,function(a){var b=Ie(a);a=C.h(b,mm);b=C.h(b,uj);return["create table if not exists ",A.g(a)," (addr BIGINT primary key,   content ",x(b)?"BYTEA":"TEXT",")"].join("")});gj(mu,ej,function(a){a=Ie(a);a=C.h(a,Xn);throw new du.ye(["Unsupported :dbtype ",Y.j(Q([a]))].join(""));});
function nu(){var a=Oh.j(Q([new w(null,4,[cm,Y,Nj,ct,km,1E3,mm,"datascript"],null),new w(null,1,[Xn,Hj],null)])),b=T.i;var c=Ln.g(a);c=x(c)?yj.g(a):c;a=b.call(T,a,uj,vd(c));return Oh.j(Q([new w(null,1,[fm,mu.g(a)],null),a]))}
function ou(a){var b=nu();eu(a,fm.g(b));return jd(new w(null,1,[jl,a],null),new w(null,4,[Lm,function(c,d){return lu(a,b,d)},wn,function(c,d){return fA(a,b,d)},Xj,function(){return gA(a,b)},cn,function(c,d){c=["delete from ",A.g(mm.g(b))," where addr \x3d ?"].join("");try{a.exec("BEGIN TRANSACTION");var e=km.g(b),f=E(Vh(e,e,d));d=null;for(var h=e=0;;)if(h<e){for(var k=d.R(null,h),l=E(k),m=null,n=0,p=0;;)if(p<n){var r=m.R(null,p);a.exec(c,Oi(new w(null,1,[pk,new W(null,1,5,X,[r],null)],null)));p+=
1}else{var u=E(l);if(u){var v=u;if(sd(v)){var G=Ub(v),F=Vb(v);v=G;var R=N(G);l=F;m=v;n=R}else{var aa=I(v);a.exec(c,Oi(new w(null,1,[pk,new W(null,1,5,X,[aa],null)],null)));l=J(v);m=null;n=0}p=0}else break}h+=1}else{var ja=E(f);if(ja){m=ja;if(sd(m)){var ta=Ub(m),La=Vb(m);m=ta;var Yb=N(ta);f=La;d=m;e=Yb}else{var he=I(m),df=E(he);n=null;for(v=p=0;;)if(v<p){var xb=n.R(null,v);a.exec(c,Oi(new w(null,1,[pk,new W(null,1,5,X,[xb],null)],null)));v+=1}else{var ef=E(df);if(ef){var Aa=ef;if(sd(Aa)){var ip=Ub(Aa),
Jl=Vb(Aa);Aa=ip;var Aj=N(ip);df=Jl;n=Aa;p=Aj}else{var ep=I(Aa);a.exec(c,Oi(new w(null,1,[pk,new W(null,1,5,X,[ep],null)],null)));df=J(Aa);n=null;p=0}v=0}else break}f=J(m);d=null;e=0}h=0}else break}var ff=a.exec("COMMIT")}catch(Oa){ff=Oa;try{a.exec("ROLLBACK")}catch(Qa){}throw ff;}return ff}],null))};function pu(a){var b=document.getElementById("logs");x(b)&&(b.innerHTML=[A.g(b.innerHTML),A.g(a),"\n"].join(""));return console.log(a)}function hA(a,b){return fA(jl.g(a),$u.g(a),b)}function iA(a,b){b=Mk.g(b);if(E(b)){pu(["Persisting ",A.g(N(b))," datoms..."].join(""));var c=Date.now();try{var d=new W(null,1,5,X,[new W(null,2,5,X,[c,b],null)],null);lu(jl.g(a),$u.g(a),d);return pu("Persisted successfully.")}catch(e){return pu(["Error persisting: ",A.g(e)].join(""))}}else return null}
function jA(a,b){pu("Restoring from storage...");var c=gA(jl.g(a),$u.g(a));var d=pf(ad);pu(["Found ",A.g(N(c))," segments."].join(""));c=E(c);for(var e=null,f=0,h=0;;)if(h<f){var k=e.R(null,h);k=hA(a,k);x(k)&&rf.i(d,te,k);h+=1}else if(c=E(c))sd(c)?(f=Ub(c),c=Vb(c),e=f,f=N(f)):(e=I(c),e=hA(a,e),x(e)&&rf.i(d,te,e),c=J(c),e=null,f=0),h=0;else break;pu(["Total restored datoms: ",A.g(N(qb(d)))].join(""));a=qb(d);return Lr(a,b)}
function qu(a){pu("SQLite3 loaded.");try{var b=pj(a,"oo1");x(b)?pu("oo1 found."):pu("oo1 NOT found.");var c=new (pj(b,"DB"))("demo.db","ct");pu("DB instance created.");var d=ou(c);pu("Storage created.");var e=new w(null,1,[vm,new w(null,1,[dn,Kj],null)],null),f=jA(d,e),h=dt(f);pu("DataScript connection created and restored.");pu(["Initial entities: ",A.g(N(xr(qb(h),hk,null,null)))].join(""));Wz(h,lf(iA,d));pu("Custom storage listener attached.");ft(h);pu("Transacted data.");var k=qb(h),l=function(){var u=
new W(null,2,5,X,[vm,"Ivan"],null);return qs.h?qs.h(k,u):qs.call(null,k,u)}(),m=function(){var u=new W(null,2,5,X,[vm,"Petr"],null);return qs.h?qs.h(k,u):qs.call(null,k,u)}();pu(["Ivan: ",A.g(ev.g(l))].join(""));pu(["Petr: ",A.g(ev.g(m))].join(""));pu("Verifying persistence...");var n=dt(jA(d,e));pu(["Restored DB entities: ",A.g(N(xr(qb(n),hk,null,null)))].join(""));var p=I(function(){var u=new W(null,4,5,X,[Mv,Wv,iv,new W(null,3,5,X,[Wv,vm,"Ivan"],null)],null),v=qb(n);return Uz.h?Uz.h(u,v):Uz.call(null,
u,v)}());if(x(p)){var r=function(){var u=qb(n),v=I(p);return qs.h?qs.h(u,v):qs.call(null,u,v)}();pu(["Restored Ivan age: ",A.g(ev.g(r))].join(""));return K.h(30,ev.g(r))?pu("SUCCESS: Data persisted and restored correctly."):pu("FAILURE: Ivan found but age mismatch.")}return pu("FAILURE: Ivan not found in restored DB.")}catch(u){return a=u,pu(["Error in run-demo: ",A.g(a)].join("")),console.error(a)}}
function kA(){var a=window.sqlite3InitModule;return x(a)?(a.C?a.C():a.call(null)).then(function(b){return qu(b)}).catch(function(b){return pu(["Error initializing sqlite3: ",A.g(b)].join(""))}):pu("Error: window.sqlite3InitModule not found even after ready event.")};pu("Starting demo...");x(window.sqlite3InitModule)?kA():(pu("Waiting for sqlite3-ready event..."),window.addEventListener("sqlite3-ready",kA));
}).call(this);